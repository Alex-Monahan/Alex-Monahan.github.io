var duckdb=(()=>{var ev=Object.create;var ns=Object.defineProperty,tv=Object.defineProperties,rv=Object.getOwnPropertyDescriptor,iv=Object.getOwnPropertyDescriptors,nv=Object.getOwnPropertyNames,df=Object.getOwnPropertySymbols,sv=Object.getPrototypeOf,ff=Object.prototype.hasOwnProperty,ov=Object.prototype.propertyIsEnumerable;var hf=(r,e,t)=>e in r?ns(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vi=(r,e)=>{for(var t in e||(e={}))ff.call(e,t)&&hf(r,t,e[t]);if(df)for(var t of df(e))ov.call(e,t)&&hf(r,t,e[t]);return r},io=(r,e)=>tv(r,iv(e)),pf=r=>ns(r,"__esModule",{value:!0});var av=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var b=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),cv=(r,e)=>{pf(r);for(var t in e)ns(r,t,{get:e[t],enumerable:!0})},uv=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of nv(e))!ff.call(r,i)&&i!=="default"&&ns(r,i,{get:()=>e[i],enumerable:!(t=rv(e,i))||t.enumerable});return r},_r=r=>uv(pf(ns(r!=null?ev(sv(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Ze=b((iO,oo)=>{var yf,_f,mf,bf,gf,vf,Tf,If,wf,no,bc,Bf,Sf,Af,$i,Of,Df,Ff,Ef,Rf,Uf,Mf,Pf,so;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(t(e,t(i)))}):typeof oo=="object"&&typeof oo.exports=="object"?r(t(e,t(oo.exports))):r(t(e));function t(i,n){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(s,o){return i[s]=n?n(s,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])};yf=function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function s(){this.constructor=i}i.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},_f=Object.assign||function(i){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},mf=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s},bf=function(i,n,s,o){var a=arguments.length,u=a<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,s):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,n,s,o);else for(var p=i.length-1;p>=0;p--)(d=i[p])&&(u=(a<3?d(u):a>3?d(n,s,u):d(n,s))||u);return a>3&&u&&Object.defineProperty(n,s,u),u},gf=function(i,n){return function(s,o){n(s,o,i)}},vf=function(i,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,n)},Tf=function(i,n,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(P){try{D(o.next(P))}catch(Te){d(Te)}}function S(P){try{D(o.throw(P))}catch(Te){d(Te)}}function D(P){P.done?u(P.value):a(P.value).then(p,S)}D((o=o.apply(i,n||[])).next())})},If=function(i,n){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,a,u,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(D){return function(P){return S([D,P])}}function S(D){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(u=D[0]&2?a.return:D[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,D[1])).done)return u;switch(a=0,u&&(D=[D[0]&2,u.value]),D[0]){case 0:case 1:u=D;break;case 4:return s.label++,{value:D[1],done:!1};case 5:s.label++,a=D[1],D=[0];continue;case 7:D=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(D[0]===6||D[0]===2)){s=0;continue}if(D[0]===3&&(!u||D[1]>u[0]&&D[1]<u[3])){s.label=D[1];break}if(D[0]===6&&s.label<u[1]){s.label=u[1],u=D;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(D);break}u[2]&&s.ops.pop(),s.trys.pop();continue}D=n.call(i,s)}catch(P){D=[6,P],a=0}finally{o=u=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}},wf=function(i,n){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&so(n,i,s)},so=Object.create?function(i,n,s,o){o===void 0&&(o=s),Object.defineProperty(i,o,{enumerable:!0,get:function(){return n[s]}})}:function(i,n,s,o){o===void 0&&(o=s),i[o]=n[s]},no=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&i[n],o=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},bc=function(i,n){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var o=s.call(i),a,u=[],d;try{for(;(n===void 0||n-- >0)&&!(a=o.next()).done;)u.push(a.value)}catch(p){d={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(d)throw d.error}}return u},Bf=function(){for(var i=[],n=0;n<arguments.length;n++)i=i.concat(bc(arguments[n]));return i},Sf=function(){for(var i=0,n=0,s=arguments.length;n<s;n++)i+=arguments[n].length;for(var o=Array(i),a=0,n=0;n<s;n++)for(var u=arguments[n],d=0,p=u.length;d<p;d++,a++)o[a]=u[d];return o},Af=function(i,n,s){if(s||arguments.length===2)for(var o=0,a=n.length,u;o<a;o++)(u||!(o in n))&&(u||(u=Array.prototype.slice.call(n,0,o)),u[o]=n[o]);return i.concat(u||Array.prototype.slice.call(n))},$i=function(i){return this instanceof $i?(this.v=i,this):new $i(i)},Of=function(i,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(i,n||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(he){o[he]&&(a[he]=function(Mt){return new Promise(function(tt,Q){u.push([he,Mt,tt,Q])>1||p(he,Mt)})})}function p(he,Mt){try{S(o[he](Mt))}catch(tt){Te(u[0][3],tt)}}function S(he){he.value instanceof $i?Promise.resolve(he.value.v).then(D,P):Te(u[0][2],he)}function D(he){p("next",he)}function P(he){p("throw",he)}function Te(he,Mt){he(Mt),u.shift(),u.length&&p(u[0][0],u[0][1])}},Df=function(i){var n,s;return n={},o("next"),o("throw",function(a){throw a}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(a,u){n[a]=i[a]?function(d){return(s=!s)?{value:$i(i[a](d)),done:a==="return"}:u?u(d):d}:u}},Ff=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],s;return n?n.call(i):(i=typeof no=="function"?no(i):i[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(u){s[u]=i[u]&&function(d){return new Promise(function(p,S){d=i[u](d),a(p,S,d.done,d.value)})}}function a(u,d,p,S){Promise.resolve(S).then(function(D){u({value:D,done:p})},d)}},Ef=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i};var t=Object.create?function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}:function(i,n){i.default=n};Rf=function(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&so(n,i,s);return t(n,i),n},Uf=function(i){return i&&i.__esModule?i:{default:i}},Mf=function(i,n,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!o:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(i):o?o.value:n.get(i)},Pf=function(i,n,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?i!==n||!a:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(i,s):a?a.value=s:n.set(i,s),s},r("__extends",yf),r("__assign",_f),r("__rest",mf),r("__decorate",bf),r("__param",gf),r("__metadata",vf),r("__awaiter",Tf),r("__generator",If),r("__exportStar",wf),r("__createBinding",so),r("__values",no),r("__read",bc),r("__spread",Bf),r("__spreadArrays",Sf),r("__spreadArray",Af),r("__await",$i),r("__asyncGenerator",Of),r("__asyncDelegator",Df),r("__asyncValues",Ff),r("__makeTemplateObject",Ef),r("__importStar",Rf),r("__importDefault",Uf),r("__classPrivateFieldGet",Mf),r("__classPrivateFieldSet",Pf)})});var mr=b(Vf=>{var y={};y.Offset;y.Table;y.SIZEOF_SHORT=2;y.SIZEOF_INT=4;y.FILE_IDENTIFIER_LENGTH=4;y.SIZE_PREFIX_LENGTH=4;y.Encoding={UTF8_BYTES:1,UTF16_STRING:2};y.int32=new Int32Array(2);y.float32=new Float32Array(y.int32.buffer);y.float64=new Float64Array(y.int32.buffer);y.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;y.Long=function(r,e){this.low=r|0,this.high=e|0};y.Long.create=function(r,e){return r==0&&e==0?y.Long.ZERO:new y.Long(r,e)};y.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};y.Long.prototype.equals=function(r){return this.low==r.low&&this.high==r.high};y.Long.ZERO=new y.Long(0,0);y.Builder=function(r){if(r)var e=r;else var e=1024;this.bb=y.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};y.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};y.Builder.prototype.forceDefaults=function(r){this.force_defaults=r};y.Builder.prototype.dataBuffer=function(){return this.bb};y.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};y.Builder.prototype.prep=function(r,e){r>this.minalign&&(this.minalign=r);for(var t=~(this.bb.capacity()-this.space+e)+1&r-1;this.space<t+r+e;){var i=this.bb.capacity();this.bb=y.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(t)};y.Builder.prototype.pad=function(r){for(var e=0;e<r;e++)this.bb.writeInt8(--this.space,0)};y.Builder.prototype.writeInt8=function(r){this.bb.writeInt8(this.space-=1,r)};y.Builder.prototype.writeInt16=function(r){this.bb.writeInt16(this.space-=2,r)};y.Builder.prototype.writeInt32=function(r){this.bb.writeInt32(this.space-=4,r)};y.Builder.prototype.writeInt64=function(r){this.bb.writeInt64(this.space-=8,r)};y.Builder.prototype.writeFloat32=function(r){this.bb.writeFloat32(this.space-=4,r)};y.Builder.prototype.writeFloat64=function(r){this.bb.writeFloat64(this.space-=8,r)};y.Builder.prototype.addInt8=function(r){this.prep(1,0),this.writeInt8(r)};y.Builder.prototype.addInt16=function(r){this.prep(2,0),this.writeInt16(r)};y.Builder.prototype.addInt32=function(r){this.prep(4,0),this.writeInt32(r)};y.Builder.prototype.addInt64=function(r){this.prep(8,0),this.writeInt64(r)};y.Builder.prototype.addFloat32=function(r){this.prep(4,0),this.writeFloat32(r)};y.Builder.prototype.addFloat64=function(r){this.prep(8,0),this.writeFloat64(r)};y.Builder.prototype.addFieldInt8=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt8(e),this.slot(r))};y.Builder.prototype.addFieldInt16=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt16(e),this.slot(r))};y.Builder.prototype.addFieldInt32=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt32(e),this.slot(r))};y.Builder.prototype.addFieldInt64=function(r,e,t){(this.force_defaults||!e.equals(t))&&(this.addInt64(e),this.slot(r))};y.Builder.prototype.addFieldFloat32=function(r,e,t){(this.force_defaults||e!=t)&&(this.addFloat32(e),this.slot(r))};y.Builder.prototype.addFieldFloat64=function(r,e,t){(this.force_defaults||e!=t)&&(this.addFloat64(e),this.slot(r))};y.Builder.prototype.addFieldOffset=function(r,e,t){(this.force_defaults||e!=t)&&(this.addOffset(e),this.slot(r))};y.Builder.prototype.addFieldStruct=function(r,e,t){e!=t&&(this.nested(e),this.slot(r))};y.Builder.prototype.nested=function(r){if(r!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};y.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};y.Builder.prototype.slot=function(r){this.vtable[r]=this.offset()};y.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};y.Builder.growByteBuffer=function(r){var e=r.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var t=e<<1,i=y.ByteBuffer.allocate(t);return i.setPosition(t-e),i.bytes().set(r.bytes(),t-e),i};y.Builder.prototype.addOffset=function(r){this.prep(y.SIZEOF_INT,0),this.writeInt32(this.offset()-r+y.SIZEOF_INT)};y.Builder.prototype.startObject=function(r){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=r;for(var e=0;e<r;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()};y.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var r=this.offset(),e=this.vtable_in_use-1;e>=0&&this.vtable[e]==0;e--);for(var t=e+1;e>=0;e--)this.addInt16(this.vtable[e]!=0?r-this.vtable[e]:0);var i=2;this.addInt16(r-this.object_start);var n=(t+i)*y.SIZEOF_SHORT;this.addInt16(n);var s=0,o=this.space;e:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(a)){for(var u=y.SIZEOF_SHORT;u<n;u+=y.SIZEOF_SHORT)if(this.bb.readInt16(o+u)!=this.bb.readInt16(a+u))continue e;s=this.vtables[e];break}}return s?(this.space=this.bb.capacity()-r,this.bb.writeInt32(this.space,s-r)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-r,this.offset()-r)),this.isNested=!1,r};y.Builder.prototype.finish=function(r,e,t){var i=t?y.SIZE_PREFIX_LENGTH:0;if(e){var n=e;if(this.prep(this.minalign,y.SIZEOF_INT+y.FILE_IDENTIFIER_LENGTH+i),n.length!=y.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+y.FILE_IDENTIFIER_LENGTH);for(var s=y.FILE_IDENTIFIER_LENGTH-1;s>=0;s--)this.writeInt8(n.charCodeAt(s))}this.prep(this.minalign,y.SIZEOF_INT+i),this.addOffset(r),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};y.Builder.prototype.finishSizePrefixed=function(r,e){this.finish(r,e,!0)};y.Builder.prototype.requiredField=function(r,e){var t=this.bb.capacity()-r,i=t-this.bb.readInt32(t),n=this.bb.readInt16(i+e)!=0;if(!n)throw new Error("FlatBuffers: field "+e+" must be set")};y.Builder.prototype.startVector=function(r,e,t){this.notNested(),this.vector_num_elems=e,this.prep(y.SIZEOF_INT,r*e),this.prep(t,r*e)};y.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};y.Builder.prototype.createString=function(r){if(r instanceof Uint8Array)var e=r;else for(var e=[],t=0;t<r.length;){var i,n=r.charCodeAt(t++);if(n<55296||n>=56320)i=n;else{var s=r.charCodeAt(t++);i=(n<<10)+s+(65536-(55296<<10)-56320)}i<128?e.push(i):(i<2048?e.push(i>>6&31|192):(i<65536?e.push(i>>12&15|224):e.push(i>>18&7|240,i>>12&63|128),e.push(i>>6&63|128)),e.push(i&63|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var t=0,o=this.space,a=this.bb.bytes();t<e.length;t++)a[o++]=e[t];return this.endVector()};y.Builder.prototype.createLong=function(r,e){return y.Long.create(r,e)};y.ByteBuffer=function(r){this.bytes_=r,this.position_=0};y.ByteBuffer.allocate=function(r){return new y.ByteBuffer(new Uint8Array(r))};y.ByteBuffer.prototype.clear=function(){this.position_=0};y.ByteBuffer.prototype.bytes=function(){return this.bytes_};y.ByteBuffer.prototype.position=function(){return this.position_};y.ByteBuffer.prototype.setPosition=function(r){this.position_=r};y.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};y.ByteBuffer.prototype.readInt8=function(r){return this.readUint8(r)<<24>>24};y.ByteBuffer.prototype.readUint8=function(r){return this.bytes_[r]};y.ByteBuffer.prototype.readInt16=function(r){return this.readUint16(r)<<16>>16};y.ByteBuffer.prototype.readUint16=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8};y.ByteBuffer.prototype.readInt32=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8|this.bytes_[r+2]<<16|this.bytes_[r+3]<<24};y.ByteBuffer.prototype.readUint32=function(r){return this.readInt32(r)>>>0};y.ByteBuffer.prototype.readInt64=function(r){return new y.Long(this.readInt32(r),this.readInt32(r+4))};y.ByteBuffer.prototype.readUint64=function(r){return new y.Long(this.readUint32(r),this.readUint32(r+4))};y.ByteBuffer.prototype.readFloat32=function(r){return y.int32[0]=this.readInt32(r),y.float32[0]};y.ByteBuffer.prototype.readFloat64=function(r){return y.int32[y.isLittleEndian?0:1]=this.readInt32(r),y.int32[y.isLittleEndian?1:0]=this.readInt32(r+4),y.float64[0]};y.ByteBuffer.prototype.writeInt8=function(r,e){this.bytes_[r]=e};y.ByteBuffer.prototype.writeUint8=function(r,e){this.bytes_[r]=e};y.ByteBuffer.prototype.writeInt16=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8};y.ByteBuffer.prototype.writeUint16=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8};y.ByteBuffer.prototype.writeInt32=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8,this.bytes_[r+2]=e>>16,this.bytes_[r+3]=e>>24};y.ByteBuffer.prototype.writeUint32=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8,this.bytes_[r+2]=e>>16,this.bytes_[r+3]=e>>24};y.ByteBuffer.prototype.writeInt64=function(r,e){this.writeInt32(r,e.low),this.writeInt32(r+4,e.high)};y.ByteBuffer.prototype.writeUint64=function(r,e){this.writeUint32(r,e.low),this.writeUint32(r+4,e.high)};y.ByteBuffer.prototype.writeFloat32=function(r,e){y.float32[0]=e,this.writeInt32(r,y.int32[0])};y.ByteBuffer.prototype.writeFloat64=function(r,e){y.float64[0]=e,this.writeInt32(r,y.int32[y.isLittleEndian?0:1]),this.writeInt32(r+4,y.int32[y.isLittleEndian?1:0])};y.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+y.SIZEOF_INT+y.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var r="",e=0;e<y.FILE_IDENTIFIER_LENGTH;e++)r+=String.fromCharCode(this.readInt8(this.position_+y.SIZEOF_INT+e));return r};y.ByteBuffer.prototype.__offset=function(r,e){var t=r-this.readInt32(r);return e<this.readInt16(t)?this.readInt16(t+e):0};y.ByteBuffer.prototype.__union=function(r,e){return r.bb_pos=e+this.readInt32(e),r.bb=this,r};y.ByteBuffer.prototype.__string=function(r,e){r+=this.readInt32(r);var t=this.readInt32(r),i="",n=0;if(r+=y.SIZEOF_INT,e===y.Encoding.UTF8_BYTES)return this.bytes_.subarray(r,r+t);for(;n<t;){var s,o=this.readUint8(r+n++);if(o<192)s=o;else{var a=this.readUint8(r+n++);if(o<224)s=(o&31)<<6|a&63;else{var u=this.readUint8(r+n++);if(o<240)s=(o&15)<<12|(a&63)<<6|u&63;else{var d=this.readUint8(r+n++);s=(o&7)<<18|(a&63)<<12|(u&63)<<6|d&63}}}s<65536?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode((s>>10)+55296,(s&(1<<10)-1)+56320))}return i};y.ByteBuffer.prototype.__indirect=function(r){return r+this.readInt32(r)};y.ByteBuffer.prototype.__vector=function(r){return r+this.readInt32(r)+y.SIZEOF_INT};y.ByteBuffer.prototype.__vector_len=function(r){return this.readInt32(r+this.readInt32(r))};y.ByteBuffer.prototype.__has_identifier=function(r){if(r.length!=y.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+y.FILE_IDENTIFIER_LENGTH);for(var e=0;e<y.FILE_IDENTIFIER_LENGTH;e++)if(r.charCodeAt(e)!=this.readInt8(this.position_+y.SIZEOF_INT+e))return!1;return!0};y.ByteBuffer.prototype.createLong=function(r,e){return y.Long.create(r,e)};Vf.flatbuffers=y});var Ti=b(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.encodeUtf8=Ji.decodeUtf8=void 0;var lv=new TextDecoder("utf-8");Ji.decodeUtf8=r=>lv.decode(r);var dv=new TextEncoder;Ji.encodeUtf8=r=>dv.encode(r)});var Qi=b(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.AsyncQueue=at.ReadableInterop=at.ArrowJSON=at.ITERATOR_DONE=void 0;var ss=Ze(),Nf=os();at.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var kf=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};at.ArrowJSON=kf;var gc=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};at.ReadableInterop=gc;var Lf=class extends gc{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return ss.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(at.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Nf.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Nf.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return ss.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),at.ITERATOR_DONE})}return(e){return ss.__awaiter(this,void 0,void 0,function*(){return yield this.close(),at.ITERATOR_DONE})}read(e){return ss.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return ss.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,i)=>{this.resolvers.push({resolve:t,reject:i})}):Promise.resolve(at.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};at.AsyncQueue=Lf});var Xe=b(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.isReadableNodeStream=F.isWritableNodeStream=F.isReadableDOMStream=F.isWritableDOMStream=F.isFetchResponse=F.isFSReadStream=F.isFileHandle=F.isUnderlyingSink=F.isIteratorResult=F.isArrayLike=F.isArrowJSON=F.isAsyncIterable=F.isIterable=F.isObservable=F.isPromise=F.isObject=F.BigUint64ArrayAvailable=F.BigUint64Array=F.BigInt64ArrayAvailable=F.BigInt64Array=F.BigIntAvailable=F.BigInt=void 0;var ao=Qi(),[fv,hv]=(()=>{let r=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw r()}return e.asIntN=()=>{throw r()},e.asUintN=()=>{throw r()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();F.BigInt=fv;F.BigIntAvailable=hv;var[pv,yv]=(()=>{let r=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();F.BigInt64Array=pv;F.BigInt64ArrayAvailable=yv;var[_v,mv]=(()=>{let r=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();F.BigUint64Array=_v;F.BigUint64ArrayAvailable=mv;var vc=r=>typeof r=="number",Cf=r=>typeof r=="boolean",Ke=r=>typeof r=="function";F.isObject=r=>r!=null&&Object(r)===r;F.isPromise=r=>F.isObject(r)&&Ke(r.then);F.isObservable=r=>F.isObject(r)&&Ke(r.subscribe);F.isIterable=r=>F.isObject(r)&&Ke(r[Symbol.iterator]);F.isAsyncIterable=r=>F.isObject(r)&&Ke(r[Symbol.asyncIterator]);F.isArrowJSON=r=>F.isObject(r)&&F.isObject(r.schema);F.isArrayLike=r=>F.isObject(r)&&vc(r.length);F.isIteratorResult=r=>F.isObject(r)&&"done"in r&&"value"in r;F.isUnderlyingSink=r=>F.isObject(r)&&Ke(r.abort)&&Ke(r.close)&&Ke(r.start)&&Ke(r.write);F.isFileHandle=r=>F.isObject(r)&&Ke(r.stat)&&vc(r.fd);F.isFSReadStream=r=>F.isReadableNodeStream(r)&&vc(r.bytesRead);F.isFetchResponse=r=>F.isObject(r)&&F.isReadableDOMStream(r.body);F.isWritableDOMStream=r=>F.isObject(r)&&Ke(r.abort)&&Ke(r.getWriter)&&!(r instanceof ao.ReadableInterop);F.isReadableDOMStream=r=>F.isObject(r)&&Ke(r.cancel)&&Ke(r.getReader)&&!(r instanceof ao.ReadableInterop);F.isWritableNodeStream=r=>F.isObject(r)&&Ke(r.end)&&Ke(r.write)&&Cf(r.writable)&&!(r instanceof ao.ReadableInterop);F.isReadableNodeStream=r=>F.isObject(r)&&Ke(r.read)&&Ke(r.pipe)&&Cf(r.readable)&&!(r instanceof ao.ReadableInterop)});var xe=b(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.compareArrayLike=A.rebaseValueOffsets=A.toUint8ClampedArrayAsyncIterator=A.toFloat64ArrayAsyncIterator=A.toFloat32ArrayAsyncIterator=A.toUint32ArrayAsyncIterator=A.toUint16ArrayAsyncIterator=A.toUint8ArrayAsyncIterator=A.toInt32ArrayAsyncIterator=A.toInt16ArrayAsyncIterator=A.toInt8ArrayAsyncIterator=A.toArrayBufferViewAsyncIterator=A.toUint8ClampedArrayIterator=A.toFloat64ArrayIterator=A.toFloat32ArrayIterator=A.toUint32ArrayIterator=A.toUint16ArrayIterator=A.toUint8ArrayIterator=A.toInt32ArrayIterator=A.toInt16ArrayIterator=A.toInt8ArrayIterator=A.toArrayBufferViewIterator=A.toUint8ClampedArray=A.toFloat64Array=A.toFloat32Array=A.toBigUint64Array=A.toUint32Array=A.toUint16Array=A.toUint8Array=A.toBigInt64Array=A.toInt32Array=A.toInt16Array=A.toInt8Array=A.toArrayBufferView=A.joinUint8Arrays=A.memcpy=void 0;var Me=Ze(),bv=mr(),gv=Ti(),vv=bv.flatbuffers.ByteBuffer,Ii=Xe(),Tc=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function Tv(r){let e=r[0]?[r[0]]:[],t,i,n,s;for(let o,a,u=0,d=0,p=r.length;++u<p;){if(o=e[d],a=r[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++d]=a);continue}if({byteOffset:t,byteLength:n}=o,{byteOffset:i,byteLength:s}=a,t+n<i||i+s<t){a&&(e[++d]=a);continue}e[d]=new Uint8Array(o.buffer,t,i-t+s)}return e}function Ic(r,e,t=0,i=e.byteLength){let n=r.byteLength,s=new Uint8Array(r.buffer,r.byteOffset,n),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,n));return s.set(o,t),r}A.memcpy=Ic;function Iv(r,e){let t=Tv(r),i=t.reduce((p,S)=>p+S.byteLength,0),n,s,o,a=0,u=-1,d=Math.min(e||1/0,i);for(let p=t.length;++u<p;){if(n=t[u],s=n.subarray(0,Math.min(n.length,d-a)),d<=a+s.length){s.length<n.length?t[u]=n.subarray(s.length):s.length===n.length&&u++,o?Ic(o,s,a):o=s;break}Ic(o||(o=new Uint8Array(d)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(u),i-(o?o.byteLength:0)]}A.joinUint8Arrays=Iv;function it(r,e){let t=Ii.isIteratorResult(e)?e.value:e;return t instanceof r?r===Uint8Array?new r(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=gv.encodeUtf8(t)),t instanceof ArrayBuffer?new r(t):t instanceof Tc?new r(t):t instanceof vv?it(r,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new r(0):new r(t.buffer,t.byteOffset,t.byteLength/r.BYTES_PER_ELEMENT):r.from(t)):new r(0)}A.toArrayBufferView=it;A.toInt8Array=r=>it(Int8Array,r);A.toInt16Array=r=>it(Int16Array,r);A.toInt32Array=r=>it(Int32Array,r);A.toBigInt64Array=r=>it(Ii.BigInt64Array,r);A.toUint8Array=r=>it(Uint8Array,r);A.toUint16Array=r=>it(Uint16Array,r);A.toUint32Array=r=>it(Uint32Array,r);A.toBigUint64Array=r=>it(Ii.BigUint64Array,r);A.toFloat32Array=r=>it(Float32Array,r);A.toFloat64Array=r=>it(Float64Array,r);A.toUint8ClampedArray=r=>it(Uint8ClampedArray,r);var wc=r=>(r.next(),r);function*Gt(r,e){let t=function*(n){yield n},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Tc?t(e):Ii.isIterable(e)?e:t(e);return yield*wc(function*(n){let s=null;do s=n.next(yield it(r,s));while(!s.done)}(i[Symbol.iterator]())),new r}A.toArrayBufferViewIterator=Gt;A.toInt8ArrayIterator=r=>Gt(Int8Array,r);A.toInt16ArrayIterator=r=>Gt(Int16Array,r);A.toInt32ArrayIterator=r=>Gt(Int32Array,r);A.toUint8ArrayIterator=r=>Gt(Uint8Array,r);A.toUint16ArrayIterator=r=>Gt(Uint16Array,r);A.toUint32ArrayIterator=r=>Gt(Uint32Array,r);A.toFloat32ArrayIterator=r=>Gt(Float32Array,r);A.toFloat64ArrayIterator=r=>Gt(Float64Array,r);A.toUint8ClampedArrayIterator=r=>Gt(Uint8ClampedArray,r);function Pt(r,e){return Me.__asyncGenerator(this,arguments,function*(){if(Ii.isPromise(e))return yield Me.__await(yield Me.__await(yield*Me.__asyncDelegator(Me.__asyncValues(Pt(r,yield Me.__await(e))))));let i=function(o){return Me.__asyncGenerator(this,arguments,function*(){yield yield Me.__await(yield Me.__await(o))})},n=function(o){return Me.__asyncGenerator(this,arguments,function*(){yield Me.__await(yield*Me.__asyncDelegator(Me.__asyncValues(wc(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Tc?i(e):Ii.isIterable(e)?n(e):Ii.isAsyncIterable(e)?e:i(e);return yield Me.__await(yield*Me.__asyncDelegator(Me.__asyncValues(wc(function(o){return Me.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield Me.__await(o.next(yield yield Me.__await(it(r,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield Me.__await(new r)})}A.toArrayBufferViewAsyncIterator=Pt;A.toInt8ArrayAsyncIterator=r=>Pt(Int8Array,r);A.toInt16ArrayAsyncIterator=r=>Pt(Int16Array,r);A.toInt32ArrayAsyncIterator=r=>Pt(Int32Array,r);A.toUint8ArrayAsyncIterator=r=>Pt(Uint8Array,r);A.toUint16ArrayAsyncIterator=r=>Pt(Uint16Array,r);A.toUint32ArrayAsyncIterator=r=>Pt(Uint32Array,r);A.toFloat32ArrayAsyncIterator=r=>Pt(Float32Array,r);A.toFloat64ArrayAsyncIterator=r=>Pt(Float64Array,r);A.toUint8ClampedArrayAsyncIterator=r=>Pt(Uint8ClampedArray,r);function wv(r,e,t){if(r!==0){t=t.slice(0,e+1);for(let i=-1;++i<=e;)t[i]+=r}return t}A.rebaseValueOffsets=wv;function Bv(r,e){let t=0,i=r.length;if(i!==e.length)return!1;if(i>0)do if(r[t]!==e[t])return!1;while(++t<i);return!0}A.compareArrayLike=Bv});var os=b(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});var ae=Ze(),nt=xe();Sc.default={fromIterable(r){return co(Sv(r))},fromAsyncIterable(r){return co(Av(r))},fromDOMStream(r){return co(Ov(r))},fromNodeStream(r){return co(Dv(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}};var co=r=>(r.next(),r);function*Sv(r){let e,t=!1,i=[],n,s,o,a=0;function u(){return s==="peek"?nt.joinUint8Arrays(i,o)[0]:([n,i,a]=nt.joinUint8Arrays(i,o),n)}({cmd:s,size:o}=yield null);let d=nt.toUint8ArrayIterator(r)[Symbol.iterator]();try{do if({done:e,value:n}=isNaN(o-a)?d.next(void 0):d.next(o-a),!e&&n.byteLength>0&&(i.push(n),a+=n.byteLength),e||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!e)}catch(p){(t=!0)&&typeof d.throw=="function"&&d.throw(p)}finally{t===!1&&typeof d.return=="function"&&d.return(null)}return null}function Av(r){return ae.__asyncGenerator(this,arguments,function*(){let t,i=!1,n=[],s,o,a,u=0;function d(){return o==="peek"?nt.joinUint8Arrays(n,a)[0]:([s,n,u]=nt.joinUint8Arrays(n,a),s)}({cmd:o,size:a}=yield yield ae.__await(null));let p=nt.toUint8ArrayAsyncIterator(r)[Symbol.asyncIterator]();try{do if({done:t,value:s}=isNaN(a-u)?yield ae.__await(p.next(void 0)):yield ae.__await(p.next(a-u)),!t&&s.byteLength>0&&(n.push(s),u+=s.byteLength),t||a<=u)do({cmd:o,size:a}=yield yield ae.__await(d()));while(a<u);while(!t)}catch(S){(i=!0)&&typeof p.throw=="function"&&(yield ae.__await(p.throw(S)))}finally{i===!1&&typeof p.return=="function"&&(yield ae.__await(p.return(new Uint8Array(0))))}return yield ae.__await(null)})}function Ov(r){return ae.__asyncGenerator(this,arguments,function*(){let t=!1,i=!1,n=[],s,o,a,u=0;function d(){return o==="peek"?nt.joinUint8Arrays(n,a)[0]:([s,n,u]=nt.joinUint8Arrays(n,a),s)}({cmd:o,size:a}=yield yield ae.__await(null));let p=new xf(r);try{do if({done:t,value:s}=isNaN(a-u)?yield ae.__await(p.read(void 0)):yield ae.__await(p.read(a-u)),!t&&s.byteLength>0&&(n.push(nt.toUint8Array(s)),u+=s.byteLength),t||a<=u)do({cmd:o,size:a}=yield yield ae.__await(d()));while(a<u);while(!t)}catch(S){(i=!0)&&(yield ae.__await(p.cancel(S)))}finally{i===!1?yield ae.__await(p.cancel()):r.locked&&p.releaseLock()}return yield ae.__await(null)})}var xf=class{constructor(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(t){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}cancel(e){return ae.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:i}=this;t&&(yield t.cancel(e).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(e){return ae.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=!this.supportsBYOB||typeof e!="number"?yield this.getDefaultReader().read():yield this.readFromBYOBReader(e);return!t.done&&(t.value=nt.toUint8Array(t)),t})}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}readFromBYOBReader(e){return ae.__awaiter(this,void 0,void 0,function*(){return yield jf(this.getBYOBReader(),new ArrayBuffer(e),0,e)})}};function jf(r,e,t,i){return ae.__awaiter(this,void 0,void 0,function*(){if(t>=i)return{done:!1,value:new Uint8Array(e,0,i)};let{done:n,value:s}=yield r.read(new Uint8Array(e,t,i-t));return(t+=s.byteLength)<i&&!n?yield jf(r,s.buffer,t,i):{done:n,value:new Uint8Array(s.buffer,0,t)}})}var Bc=(r,e)=>{let t=n=>i([e,n]),i;return[e,t,new Promise(n=>(i=n)&&r.once(e,t))]};function Dv(r){return ae.__asyncGenerator(this,arguments,function*(){let t=[],i="error",n=!1,s=null,o,a,u=0,d=[],p;function S(){return o==="peek"?nt.joinUint8Arrays(d,a)[0]:([p,d,u]=nt.joinUint8Arrays(d,a),p)}if({cmd:o,size:a}=yield yield ae.__await(null),r.isTTY)return yield yield ae.__await(new Uint8Array(0)),yield ae.__await(null);try{t[0]=Bc(r,"end"),t[1]=Bc(r,"error");do{if(t[2]=Bc(r,"readable"),[i,s]=yield ae.__await(Promise.race(t.map(P=>P[2]))),i==="error")break;if((n=i==="end")||(isFinite(a-u)?(p=nt.toUint8Array(r.read(a-u)),p.byteLength<a-u&&(p=nt.toUint8Array(r.read(void 0)))):p=nt.toUint8Array(r.read(void 0)),p.byteLength>0&&(d.push(p),u+=p.byteLength)),n||a<=u)do({cmd:o,size:a}=yield yield ae.__await(S()));while(a<u)}while(!n)}finally{yield ae.__await(D(t,i==="error"?s:null))}return yield ae.__await(null);function D(P,Te){return p=d=null,new Promise((he,Mt)=>{for(let[tt,Q]of P)r.off(tt,Q);try{let tt=r.destroy;tt&&tt.call(r,Te),Te=void 0}catch(tt){Te=tt||Te}finally{Te!=null?Mt(Te):he()}})}})}});var De=b(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.Vector=Zi.AbstractVector=void 0;var uo=class{};Zi.AbstractVector=uo;Zi.Vector=uo;uo.prototype.data=null});var jr=b(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.Schema=B.Buffer=B.Field=B.DictionaryEncoding=B.KeyValue=B.Duration=B.Interval=B.Timestamp=B.Time=B.Date=B.Decimal=B.Bool=B.FixedSizeBinary=B.LargeBinary=B.LargeUtf8=B.Binary=B.Utf8=B.FloatingPoint=B.Int=B.Union=B.Map=B.FixedSizeList=B.LargeList=B.List=B.Struct_=B.Null=B.Endianness=B.DictionaryKind=B.Type=B.IntervalUnit=B.TimeUnit=B.DateUnit=B.Precision=B.UnionMode=B.Feature=B.MetadataVersion=void 0;var ye=mr(),Fv;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Fv=B.MetadataVersion||(B.MetadataVersion={}));var Ev;(function(r){r[r.UNUSED=0]="UNUSED",r[r.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",r[r.COMPRESSED_BODY=2]="COMPRESSED_BODY"})(Ev=B.Feature||(B.Feature={}));var Ac;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Ac=B.UnionMode||(B.UnionMode={}));var Oc;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(Oc=B.Precision||(B.Precision={}));var Dc;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Dc=B.DateUnit||(B.DateUnit={}));var wi;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(wi=B.TimeUnit||(B.TimeUnit={}));var Fc;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME"})(Fc=B.IntervalUnit||(B.IntervalUnit={}));var Ec;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"})(Ec=B.Type||(B.Type={}));var Rc;(function(r){r[r.DenseArray=0]="DenseArray"})(Rc=B.DictionaryKind||(B.DictionaryKind={}));var Uc;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(Uc=B.Endianness||(B.Endianness={}));var Bi=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new Bi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Bi).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return Bi.startNull(e),Bi.endNull(e)}};B.Null=Bi;var Si=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new Si).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Si).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Si.startStruct_(e),Si.endStruct_(e)}};B.Struct_=Si;var Ai=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new Ai).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ai).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Ai.startList(e),Ai.endList(e)}};B.List=Ai;var Oi=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new Oi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Oi).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return Oi.startLargeList(e),Oi.endLargeList(e)}};B.LargeList=Oi;var Pr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new Pr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Pr).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return Pr.startFixedSizeList(e),Pr.addListSize(e,t),Pr.endFixedSizeList(e)}};B.FixedSizeList=Pr;var Vr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new Vr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Vr).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return Vr.startMap(e),Vr.addKeysSorted(e,t),Vr.endMap(e)}};B.Map=Vr;var br=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new br).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new br).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ac.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,Ac.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addInt32(t[i]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,i){return br.startUnion(e),br.addMode(e,t),br.addTypeIds(e,i),br.endUnion(e)}};B.Union=br;var Kt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new Kt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Kt).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,i){return Kt.startInt(e),Kt.addBitWidth(e,t),Kt.addIsSigned(e,i),Kt.endInt(e)}};B.Int=Kt;var Nr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new Nr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Nr).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Oc.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,Oc.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return Nr.startFloatingPoint(e),Nr.addPrecision(e,t),Nr.endFloatingPoint(e)}};B.FloatingPoint=Nr;var Di=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new Di).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Di).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Di.startUtf8(e),Di.endUtf8(e)}};B.Utf8=Di;var Fi=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new Fi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Fi).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Fi.startBinary(e),Fi.endBinary(e)}};B.Binary=Fi;var Ei=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new Ei).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ei).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return Ei.startLargeUtf8(e),Ei.endLargeUtf8(e)}};B.LargeUtf8=Ei;var Ri=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new Ri).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ri).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return Ri.startLargeBinary(e),Ri.endLargeBinary(e)}};B.LargeBinary=Ri;var kr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new kr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new kr).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return kr.startFixedSizeBinary(e),kr.addByteWidth(e,t),kr.endFixedSizeBinary(e)}};B.FixedSizeBinary=kr;var Ui=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new Ui).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ui).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Ui.startBool(e),Ui.endBool(e)}};B.Bool=Ui;var $t=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new $t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new $t).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,i,n){return $t.startDecimal(e),$t.addPrecision(e,t),$t.addScale(e,i),$t.addBitWidth(e,n),$t.endDecimal(e)}};B.Decimal=$t;var Lr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new Lr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Lr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Dc.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Dc.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return Lr.startDate(e),Lr.addUnit(e,t),Lr.endDate(e)}};B.Date=Lr;var gr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new gr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new gr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):wi.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,wi.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,i){return gr.startTime(e),gr.addUnit(e,t),gr.addBitWidth(e,i),gr.endTime(e)}};B.Time=gr;var vr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new vr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new vr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):wi.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,wi.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,i){return vr.startTimestamp(e),vr.addUnit(e,t),vr.addTimezone(e,i),vr.endTimestamp(e)}};B.Timestamp=vr;var Cr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new Cr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Cr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Fc.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Fc.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return Cr.startInterval(e),Cr.addUnit(e,t),Cr.endInterval(e)}};B.Interval=Cr;var xr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new xr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new xr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):wi.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,wi.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return xr.startDuration(e),xr.addUnit(e,t),xr.endDuration(e)}};B.Duration=xr;var Vt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new Vt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Vt).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,i){return Vt.startKeyValue(e),Vt.addKey(e,t),Vt.addValue(e,i),Vt.endKeyValue(e)}};B.KeyValue=Vt;var ht=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new ht).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ht).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new Kt).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Rc.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,Rc.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}static createDictionaryEncoding(e,t,i,n,s){return ht.startDictionaryEncoding(e),ht.addId(e,t),ht.addIndexType(e,i),ht.addIsOrdered(e,n),ht.addDictionaryKind(e,s),ht.endDictionaryEncoding(e)}};B.DictionaryEncoding=ht;var et=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new et).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new et).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Ec.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new ht).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let i=this.bb.__offset(this.bb_pos,14);return i?(t||new et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,16);return i?(t||new Vt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,Ec.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}static createField(e,t,i,n,s,o,a,u){return et.startField(e),et.addName(e,t),et.addNullable(e,i),et.addTypeType(e,n),et.addType(e,s),et.addDictionary(e,o),et.addChildren(e,a),et.addCustomMetadata(e,u),et.endField(e)}};B.Field=et;var qf=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}};B.Buffer=qf;var Nt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new Nt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+ye.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Nt).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Uc.Little}fields(e,t){let i=this.bb.__offset(this.bb_pos,6);return i?(t||new et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,8);return i?(t||new Vt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,Uc.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let i=t.length-1;i>=0;i--)e.addInt64(t[i]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,i,n,s){return Nt.startSchema(e),Nt.addEndianness(e,t),Nt.addFields(e,i),Nt.addCustomMetadata(e,n),Nt.addFeatures(e,s),Nt.endSchema(e)}};B.Schema=Nt});var ho=b(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Message=Fe.DictionaryBatch=Fe.RecordBatch=Fe.BodyCompression=Fe.FieldNode=Fe.MessageHeader=Fe.BodyCompressionMethod=Fe.CompressionType=void 0;var lo=mr(),fo=jr(),Mc;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(Mc=Fe.CompressionType||(Fe.CompressionType={}));var Pc;(function(r){r[r.BUFFER=0]="BUFFER"})(Pc=Fe.BodyCompressionMethod||(Fe.BodyCompressionMethod={}));var Vc;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Vc=Fe.MessageHeader||(Fe.MessageHeader={}));var Nc=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}};Fe.FieldNode=Nc;var Jt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new Jt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+lo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Jt).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Mc.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Pc.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,Mc.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,Pc.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,i){return Jt.startBodyCompression(e),Jt.addCodec(e,t),Jt.addMethod(e,i),Jt.endBodyCompression(e)}};Fe.BodyCompression=Jt;var pt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new pt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+lo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new pt).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let i=this.bb.__offset(this.bb_pos,6);return i?(t||new Nc).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let i=this.bb.__offset(this.bb_pos,8);return i?(t||new fo.Buffer).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new Jt).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}static createRecordBatch(e,t,i,n,s){return pt.startRecordBatch(e),pt.addLength(e,t),pt.addNodes(e,i),pt.addBuffers(e,n),pt.addCompression(e,s),pt.endRecordBatch(e)}};Fe.RecordBatch=pt;var Qt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new Qt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+lo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Qt).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new pt).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}static createDictionaryBatch(e,t,i,n){return Qt.startDictionaryBatch(e),Qt.addId(e,t),Qt.addData(e,i),Qt.addIsDelta(e,n),Qt.endDictionaryBatch(e)}};Fe.DictionaryBatch=Qt;var yt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new yt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+lo.flatbuffers.SIZE_PREFIX_LENGTH),(t||new yt).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):fo.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Vc.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,12);return i?(t||new fo.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,fo.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,Vc.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,i,n,s,o){return yt.startMessage(e),yt.addVersion(e,t),yt.addHeaderType(e,i),yt.addHeader(e,n),yt.addBodyLength(e,s),yt.addCustomMetadata(e,o),yt.endMessage(e)}};Fe.Message=yt});var de=b(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.BufferType=Ie.Type=Ie.MessageHeader=Ie.MetadataVersion=Ie.IntervalUnit=Ie.UnionMode=Ie.Precision=Ie.TimeUnit=Ie.DateUnit=void 0;var Xi=jr();Object.defineProperty(Ie,"DateUnit",{enumerable:!0,get:function(){return Xi.DateUnit}});Object.defineProperty(Ie,"TimeUnit",{enumerable:!0,get:function(){return Xi.TimeUnit}});Object.defineProperty(Ie,"Precision",{enumerable:!0,get:function(){return Xi.Precision}});Object.defineProperty(Ie,"UnionMode",{enumerable:!0,get:function(){return Xi.UnionMode}});Object.defineProperty(Ie,"IntervalUnit",{enumerable:!0,get:function(){return Xi.IntervalUnit}});Object.defineProperty(Ie,"MetadataVersion",{enumerable:!0,get:function(){return Xi.MetadataVersion}});var Rv=ho();Object.defineProperty(Ie,"MessageHeader",{enumerable:!0,get:function(){return Rv.MessageHeader}});var Uv;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(Uv=Ie.Type||(Ie.Type={}));var Mv;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(Mv=Ie.BufferType||(Ie.BufferType={}))});var Zt=b(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.popcnt_uint32=Pe.popcnt_array=Pe.popcnt_bit_range=Pe.BitIterator=Pe.packBools=Pe.truncateBitmap=Pe.setBool=Pe.getBit=Pe.getBool=void 0;function Wf(r,e,t,i){return(t&1<<i)!=0}Pe.getBool=Wf;function zf(r,e,t,i){return(t&1<<i)>>i}Pe.getBit=zf;function Pv(r,e,t){return t?!!(r[e>>3]|=1<<e%8)||!0:!(r[e>>3]&=~(1<<e%8))&&!1}Pe.setBool=Pv;function Vv(r,e,t){let i=t.byteLength+7&~7;if(r>0||t.byteLength<i){let n=new Uint8Array(i);return n.set(r%8==0?t.subarray(r>>3):Hf(new po(t,r,e,null,Wf)).subarray(0,i)),n}return t}Pe.truncateBitmap=Vv;function Hf(r){let e=[],t=0,i=0,n=0;for(let o of r)o&&(n|=1<<i),++i==8&&(e[t++]=n,n=i=0);(t===0||i>0)&&(e[t++]=n);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}Pe.packBools=Hf;var po=class{constructor(e,t,i,n,s){this.bytes=e,this.length=i,this.context=n,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};Pe.BitIterator=po;function kc(r,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new po(r,e,t-e,r,zf))s+=o;return s}let i=t>>3<<3,n=e+(e%8==0?0:8-e%8);return kc(r,e,n)+kc(r,i,t)+Yf(r,n>>3,i-n>>3)}Pe.popcnt_bit_range=kc;function Yf(r,e,t){let i=0,n=e|0,s=new DataView(r.buffer,r.byteOffset,r.byteLength),o=t===void 0?r.byteLength:n+t;for(;o-n>=4;)i+=yo(s.getUint32(n)),n+=4;for(;o-n>=2;)i+=yo(s.getUint16(n)),n+=2;for(;o-n>=1;)i+=yo(s.getUint8(n)),n+=1;return i}Pe.popcnt_array=Yf;function yo(r){let e=r|0;return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}Pe.popcnt_uint32=yo});var se=b(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.strideForType=v.Dictionary=v.Map_=v.FixedSizeList=v.FixedSizeBinary=v.SparseUnion=v.DenseUnion=v.Union=v.Struct=v.List=v.IntervalYearMonth=v.IntervalDayTime=v.Interval=v.TimestampNanosecond=v.TimestampMicrosecond=v.TimestampMillisecond=v.TimestampSecond=v.Timestamp=v.TimeNanosecond=v.TimeMicrosecond=v.TimeMillisecond=v.TimeSecond=v.Time=v.DateMillisecond=v.DateDay=v.Date_=v.Decimal=v.Bool=v.Utf8=v.Binary=v.Float64=v.Float32=v.Float16=v.Float=v.Uint64=v.Uint32=v.Uint16=v.Uint8=v.Int64=v.Int32=v.Int16=v.Int8=v.Int=v.Null=v.DataType=void 0;var O=de(),we=class{static isNull(e){return(e==null?void 0:e.typeId)===O.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===O.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===O.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===O.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===O.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===O.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===O.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===O.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===O.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===O.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===O.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===O.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===O.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===O.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===O.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===O.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===O.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===O.Type.Dictionary}get typeId(){return O.Type.NONE}};v.DataType=we;we[Symbol.toStringTag]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(we.prototype);var _o=class extends we{toString(){return"Null"}get typeId(){return O.Type.Null}};v.Null=_o;_o[Symbol.toStringTag]=(r=>r[Symbol.toStringTag]="Null")(_o.prototype);var _t=class extends we{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return O.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};v.Int=_t;_t[Symbol.toStringTag]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(_t.prototype);var Lc=class extends _t{constructor(){super(!0,8)}};v.Int8=Lc;var Cc=class extends _t{constructor(){super(!0,16)}};v.Int16=Cc;var xc=class extends _t{constructor(){super(!0,32)}};v.Int32=xc;var jc=class extends _t{constructor(){super(!0,64)}};v.Int64=jc;var qc=class extends _t{constructor(){super(!1,8)}};v.Uint8=qc;var Wc=class extends _t{constructor(){super(!1,16)}};v.Uint16=Wc;var zc=class extends _t{constructor(){super(!1,32)}};v.Uint32=zc;var Hc=class extends _t{constructor(){super(!1,64)}};v.Uint64=Hc;Object.defineProperty(Lc.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Cc.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(xc.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(jc.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(qc.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Wc.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(zc.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Hc.prototype,"ArrayType",{value:Uint32Array});var Mi=class extends we{constructor(e){super();this.precision=e}get typeId(){return O.Type.Float}get ArrayType(){switch(this.precision){case O.Precision.HALF:return Uint16Array;case O.Precision.SINGLE:return Float32Array;case O.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};v.Float=Mi;Mi[Symbol.toStringTag]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(Mi.prototype);var Yc=class extends Mi{constructor(){super(O.Precision.HALF)}};v.Float16=Yc;var Gc=class extends Mi{constructor(){super(O.Precision.SINGLE)}};v.Float32=Gc;var Kc=class extends Mi{constructor(){super(O.Precision.DOUBLE)}};v.Float64=Kc;Object.defineProperty(Yc.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Gc.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Kc.prototype,"ArrayType",{value:Float64Array});var mo=class extends we{constructor(){super()}get typeId(){return O.Type.Binary}toString(){return"Binary"}};v.Binary=mo;mo[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(mo.prototype);var bo=class extends we{constructor(){super()}get typeId(){return O.Type.Utf8}toString(){return"Utf8"}};v.Utf8=bo;bo[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(bo.prototype);var go=class extends we{constructor(){super()}get typeId(){return O.Type.Bool}toString(){return"Bool"}};v.Bool=go;go[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(go.prototype);var vo=class extends we{constructor(e,t){super();this.scale=e,this.precision=t}get typeId(){return O.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};v.Decimal=vo;vo[Symbol.toStringTag]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(vo.prototype);var en=class extends we{constructor(e){super();this.unit=e}get typeId(){return O.Type.Date}toString(){return`Date${(this.unit+1)*32}<${O.DateUnit[this.unit]}>`}};v.Date_=en;en[Symbol.toStringTag]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(en.prototype);var Gf=class extends en{constructor(){super(O.DateUnit.DAY)}};v.DateDay=Gf;var Kf=class extends en{constructor(){super(O.DateUnit.MILLISECOND)}};v.DateMillisecond=Kf;var qr=class extends we{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return O.Type.Time}toString(){return`Time${this.bitWidth}<${O.TimeUnit[this.unit]}>`}};v.Time=qr;qr[Symbol.toStringTag]=(r=>(r.unit=null,r.bitWidth=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Time"))(qr.prototype);var $f=class extends qr{constructor(){super(O.TimeUnit.SECOND,32)}};v.TimeSecond=$f;var Jf=class extends qr{constructor(){super(O.TimeUnit.MILLISECOND,32)}};v.TimeMillisecond=Jf;var Qf=class extends qr{constructor(){super(O.TimeUnit.MICROSECOND,64)}};v.TimeMicrosecond=Qf;var Zf=class extends qr{constructor(){super(O.TimeUnit.NANOSECOND,64)}};v.TimeNanosecond=Zf;var Wr=class extends we{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return O.Type.Timestamp}toString(){return`Timestamp<${O.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};v.Timestamp=Wr;Wr[Symbol.toStringTag]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(Wr.prototype);var Xf=class extends Wr{constructor(e){super(O.TimeUnit.SECOND,e)}};v.TimestampSecond=Xf;var eh=class extends Wr{constructor(e){super(O.TimeUnit.MILLISECOND,e)}};v.TimestampMillisecond=eh;var th=class extends Wr{constructor(e){super(O.TimeUnit.MICROSECOND,e)}};v.TimestampMicrosecond=th;var rh=class extends Wr{constructor(e){super(O.TimeUnit.NANOSECOND,e)}};v.TimestampNanosecond=rh;var tn=class extends we{constructor(e){super();this.unit=e}get typeId(){return O.Type.Interval}toString(){return`Interval<${O.IntervalUnit[this.unit]}>`}};v.Interval=tn;tn[Symbol.toStringTag]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(tn.prototype);var ih=class extends tn{constructor(){super(O.IntervalUnit.DAY_TIME)}};v.IntervalDayTime=ih;var nh=class extends tn{constructor(){super(O.IntervalUnit.YEAR_MONTH)}};v.IntervalYearMonth=nh;var To=class extends we{constructor(e){super();this.children=[e]}get typeId(){return O.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};v.List=To;To[Symbol.toStringTag]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(To.prototype);var Io=class extends we{constructor(e){super();this.children=e}get typeId(){return O.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};v.Struct=Io;Io[Symbol.toStringTag]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Io.prototype);var rn=class extends we{constructor(e,t,i){super();this.mode=e,this.children=i,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((n,s,o)=>(n[s]=o)&&n||n,Object.create(null))}get typeId(){return O.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};v.Union=rn;rn[Symbol.toStringTag]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(rn.prototype);var sh=class extends rn{constructor(e,t){super(O.UnionMode.Dense,e,t)}};v.DenseUnion=sh;var oh=class extends rn{constructor(e,t){super(O.UnionMode.Sparse,e,t)}};v.SparseUnion=oh;var wo=class extends we{constructor(e){super();this.byteWidth=e}get typeId(){return O.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};v.FixedSizeBinary=wo;wo[Symbol.toStringTag]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(wo.prototype);var Bo=class extends we{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return O.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};v.FixedSizeList=Bo;Bo[Symbol.toStringTag]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(Bo.prototype);var So=class extends we{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return O.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};v.Map_=So;So[Symbol.toStringTag]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(So.prototype);var Nv=(r=>()=>++r)(-1),Ao=class extends we{constructor(e,t,i,n){super();this.indices=t,this.dictionary=e,this.isOrdered=n||!1,this.id=i==null?Nv():typeof i=="number"?i:i.low}get typeId(){return O.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};v.Dictionary=Ao;Ao[Symbol.toStringTag]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Ao.prototype);function kv(r){let e=r;switch(r.typeId){case O.Type.Decimal:return 4;case O.Type.Timestamp:return 2;case O.Type.Date:return 1+e.unit;case O.Type.Interval:return 1+e.unit;case O.Type.Int:return 1+ +(e.bitWidth>32);case O.Type.Time:return 1+ +(e.bitWidth>32);case O.Type.FixedSizeList:return e.listSize;case O.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}v.strideForType=kv});var kt=b(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Data=Pi.kUnknownNullCount=void 0;var Lv=Zt(),Cv=Zt(),E=de(),xv=se(),te=xe();Pi.kUnknownNullCount=-1;var W=class{constructor(e,t,i,n,s,o,a){this.type=e,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),this.childData=(o||[]).map(d=>d instanceof W?d:d.data);let u;s instanceof W?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=xv.strideForType(e),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:i,nullBitmap:n,typeIds:s}=this;return t&&(e+=t.byteLength),i&&(e+=i.byteLength),n&&(e+=n.byteLength),s&&(e+=s.byteLength),this.childData.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=Pi.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Cv.popcnt_bit_range(t,this.offset,this.offset+this.length)),e}clone(e,t=this.offset,i=this.length,n=this._nullCount,s=this,o=this.childData){return new W(e,t,i,n,s,o,this.dictionary)}slice(e,t){let{stride:i,typeId:n,childData:s}=this,o=+(this._nullCount===0)-1,a=n===16?i:1,u=this._sliceBuffers(e,t,i,n);return this.clone(this.type,this.offset+e,t,o,u,!s.length||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===E.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:i}=this,n=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);n[t>>3]=(1<<t-(t&~7))-1,i>0&&n.set(Lv.truncateBitmap(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[E.BufferType.VALIDITY]=n,this.clone(this.type,0,e,i+(e-t),s)}_sliceBuffers(e,t,i,n){let s,{buffers:o}=this;return(s=o[E.BufferType.TYPE])&&(o[E.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[E.BufferType.OFFSET])&&(o[E.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[E.BufferType.DATA])&&(o[E.BufferType.DATA]=n===6?s:s.subarray(i*e,i*(e+t))),o}_sliceChildren(e,t,i){return e.map(n=>n.slice(t,i))}static new(e,t,i,n,s,o,a){switch(s instanceof W?s=s.buffers:s||(s=[]),e.typeId){case E.Type.Null:return W.Null(e,t,i);case E.Type.Int:return W.Int(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Dictionary:return W.Dictionary(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[],a);case E.Type.Float:return W.Float(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Bool:return W.Bool(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Decimal:return W.Decimal(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Date:return W.Date(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Time:return W.Time(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Timestamp:return W.Timestamp(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Interval:return W.Interval(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.FixedSizeBinary:return W.FixedSizeBinary(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.DATA]||[]);case E.Type.Binary:return W.Binary(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.OFFSET]||[],s[E.BufferType.DATA]||[]);case E.Type.Utf8:return W.Utf8(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.OFFSET]||[],s[E.BufferType.DATA]||[]);case E.Type.List:return W.List(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.OFFSET]||[],(o||[])[0]);case E.Type.FixedSizeList:return W.FixedSizeList(e,t,i,n||0,s[E.BufferType.VALIDITY],(o||[])[0]);case E.Type.Struct:return W.Struct(e,t,i,n||0,s[E.BufferType.VALIDITY],o||[]);case E.Type.Map:return W.Map(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.OFFSET]||[],(o||[])[0]);case E.Type.Union:return W.Union(e,t,i,n||0,s[E.BufferType.VALIDITY],s[E.BufferType.TYPE]||[],s[E.BufferType.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,t,i){return new W(e,t,i,0)}static Int(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Dictionary(e,t,i,n,s,o,a){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.indices.ArrayType,o),te.toUint8Array(s)],[],a)}static Float(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Bool(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Decimal(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Date(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Time(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Timestamp(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Interval(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static FixedSizeBinary(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,te.toArrayBufferView(e.ArrayType,o),te.toUint8Array(s)])}static Binary(e,t,i,n,s,o,a){return new W(e,t,i,n,[te.toInt32Array(o),te.toUint8Array(a),te.toUint8Array(s)])}static Utf8(e,t,i,n,s,o,a){return new W(e,t,i,n,[te.toInt32Array(o),te.toUint8Array(a),te.toUint8Array(s)])}static List(e,t,i,n,s,o,a){return new W(e,t,i,n,[te.toInt32Array(o),void 0,te.toUint8Array(s)],a?[a]:[])}static FixedSizeList(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,void 0,te.toUint8Array(s)],o?[o]:[])}static Struct(e,t,i,n,s,o){return new W(e,t,i,n,[void 0,void 0,te.toUint8Array(s)],o)}static Map(e,t,i,n,s,o,a){return new W(e,t,i,n,[te.toInt32Array(o),void 0,te.toUint8Array(s)],a?[a]:[])}static Union(e,t,i,n,s,o,a,u){let d=[void 0,void 0,te.toUint8Array(s),te.toArrayBufferView(e.ArrayType,o)];return e.mode===E.UnionMode.Sparse?new W(e,t,i,n,d,a):(d[E.BufferType.OFFSET]=te.toInt32Array(a),new W(e,t,i,n,d,u))}};Pi.Data=W;W.prototype.childData=Object.freeze([])});var $c=b(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.valueToString=void 0;var jv=void 0;function qv(r){if(r===null)return"null";if(r===jv)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r)}Oo.valueToString=qv});var ah=b(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.createIsValidFunction=void 0;var Jc=$c(),Wv=Xe();function zv(r){if(!r||r.length<=0)return function(n){return!0};let e="",t=r.filter(i=>i===i);return t.length>0&&(e=`
    switch (x) {${t.map(i=>`
        case ${Hv(i)}:`).join("")}
            return false;
    }`),r.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}Do.createIsValidFunction=zv;function Hv(r){return typeof r!="bigint"?Jc.valueToString(r):Wv.BigIntAvailable?`${Jc.valueToString(r)}n`:`"${Jc.valueToString(r)}"`}});var zr=b(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.WideBufferBuilder=mt.OffsetsBufferBuilder=mt.BitmapBufferBuilder=mt.DataBufferBuilder=mt.BufferBuilder=void 0;var ch=xe(),Qc=Xe(),Zc=(r,e)=>(r*e+63&~63||64)/e,Yv=(r,e=0)=>r.length>=e?r.subarray(0,e):ch.memcpy(new r.constructor(e),r,0),as=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,i=this.length*t,n=this.buffer.length;i>=n&&this._resize(n===0?Zc(i*1,this.BYTES_PER_ELEMENT):Zc(i*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=Zc(e*this.stride,this.BYTES_PER_ELEMENT);let t=Yv(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=ch.memcpy(new this.ArrayType(e),this.buffer)}};mt.BufferBuilder=as;as.prototype.offset=0;var Fo=class extends as{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};mt.DataBufferBuilder=Fo;var uh=class extends Fo{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:i}=this.reserve(e-this.length+1),n=e>>3,s=e%8,o=i[n]>>s&1;return t?o===0&&(i[n]|=1<<s,++this.numValid):o===1&&(i[n]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};mt.BitmapBufferBuilder=uh;var lh=class extends Fo{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let i=this.length-1,n=this.reserve(e-i+1).buffer;return i<e++&&n.fill(n[i],i,e),n[e]=n[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};mt.OffsetsBufferBuilder=lh;var dh=class extends as{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?Qc.BigInt64Array:Qc.BigUint64Array)}set(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this}_resize(e){let t=super._resize(e),i=t.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return Qc.BigIntAvailable&&(this.buffer64=new this.ArrayType64(t.buffer,t.byteOffset,i)),t}};mt.WideBufferBuilder=dh});var Be=b(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.VariableWidthBuilder=Hr.FixedWidthBuilder=Hr.Builder=void 0;var nn=Ze(),Gv=De(),sn=de(),Kv=kt(),$v=ah(),Xc=zr(),Jv=se(),bt=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=Jv.strideForType(e),this._nulls=new Xc.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=$v.createIsValidFunction(t))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return Qv(e)}static throughAsyncIterable(e){return Zv(e)}toVector(){return Gv.Vector.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((t,i)=>t+i.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,i)=>t+i.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],t=this._values,i=this._offsets,n=this._typeIds,{length:s,nullCount:o}=this;n?(e[sn.BufferType.TYPE]=n.flush(s),i&&(e[sn.BufferType.OFFSET]=i.flush(s))):i?(t&&(e[sn.BufferType.DATA]=t.flush(i.last())),e[sn.BufferType.OFFSET]=i.flush(s)):t&&(e[sn.BufferType.DATA]=t.flush(s)),o>0&&(e[sn.BufferType.VALIDITY]=this._nulls.flush(s));let a=Kv.Data.new(this.type,0,s,o,e,this.children.map(u=>u.flush()));return this.clear(),a}finish(){return this.finished=!0,this.children.forEach(e=>e.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(e=>e.clear()),this}};Hr.Builder=bt;bt.prototype.length=1;bt.prototype.stride=1;bt.prototype.children=null;bt.prototype.finished=!1;bt.prototype.nullValues=null;bt.prototype._isValid=()=>!0;var fh=class extends bt{constructor(e){super(e);this._values=new Xc.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let i=this._values;return i.reserve(e-i.length+1),super.setValue(e,t)}};Hr.FixedWidthBuilder=fh;var hh=class extends bt{constructor(e){super(e);this._pendingLength=0,this._offsets=new Xc.OffsetsBufferBuilder}setValue(e,t){let i=this._pending||(this._pending=new Map),n=i.get(e);n&&(this._pendingLength-=n.length),this._pendingLength+=t.length,i.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};Hr.VariableWidthBuilder=hh;function Qv(r){let{["queueingStrategy"]:e="count"}=r,{["highWaterMark"]:t=e!=="bytes"?1e3:Math.pow(2,14)}=r,i=e!=="bytes"?"length":"byteLength";return function*(n){let s=0,o=bt.new(r);for(let a of n)o.append(a)[i]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}function Zv(r){let{["queueingStrategy"]:e="count"}=r,{["highWaterMark"]:t=e!=="bytes"?1e3:Math.pow(2,14)}=r,i=e!=="bytes"?"length":"byteLength";return function(n){return nn.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,u=bt.new(r);try{for(var d=nn.__asyncValues(n),p;p=yield nn.__await(d.next()),!p.done;){let S=p.value;u.append(S)[i]>=t&&++a&&(yield yield nn.__await(u.toVector()))}}catch(S){s={error:S}}finally{try{p&&!p.done&&(o=d.return)&&(yield nn.__await(o.call(d)))}finally{if(s)throw s.error}}(u.finish().length>0||a===0)&&(yield yield nn.__await(u.toVector()))})}}});var eu=b(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.BoolBuilder=void 0;var Xv=zr(),eT=Be(),ph=class extends eT.Builder{constructor(e){super(e);this._values=new Xv.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};Eo.BoolBuilder=ph});var tu=b(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.NullBuilder=void 0;var tT=Be(),yh=class extends tT.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};Ro.NullBuilder=yh});var ru=b(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.DateMillisecondBuilder=Yr.DateDayBuilder=Yr.DateBuilder=void 0;var rT=Be(),Uo=class extends rT.FixedWidthBuilder{};Yr.DateBuilder=Uo;var _h=class extends Uo{};Yr.DateDayBuilder=_h;var mh=class extends Uo{};Yr.DateMillisecondBuilder=mh});var iu=b(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.DecimalBuilder=void 0;var iT=Be(),bh=class extends iT.FixedWidthBuilder{};Mo.DecimalBuilder=bh});var su=b(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.DictionaryBuilder=void 0;var nT=se(),nu=Be(),gh=class extends nu.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:i}){super({type:new nT.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=nu.Builder.new({type:this.type.indices,nullValues:t}),this.dictionary=nu.Builder.new({type:this.type.dictionary,nullValues:null}),typeof i=="function"&&(this.valueToKey=i)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let i=this.indices;return t=i.setValid(e,t),this.length=i.length,t}setValue(e,t){let i=this._keysToIndices,n=this.valueToKey(t),s=i[n];return s===void 0&&(i[n]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,i=this.dictionary.toVector(),n=this.indices.flush().clone(e);return n.dictionary=t?t.concat(i):i,this.finished||(this._dictionaryOffset+=i.length),this._dictionary=n.dictionary,this.clear(),n}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};Po.DictionaryBuilder=gh});var ou=b(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.FixedSizeBinaryBuilder=void 0;var sT=Be(),vh=class extends sT.FixedWidthBuilder{};Vo.FixedSizeBinaryBuilder=vh});var cs=b(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.float64ToUint16=an.uint16ToFloat64=void 0;var Th=new Float64Array(1),on=new Uint32Array(Th.buffer);function oT(r){let e=(r&31744)>>10,t=(r&1023)/1024,i=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return i*(t?NaN:1/0);case 0:return i*(t?6103515625e-14*t:0)}return i*Math.pow(2,e-15)*(1+t)}an.uint16ToFloat64=oT;function aT(r){if(r!==r)return 32256;Th[0]=r;let e=(on[1]&2147483648)>>16&65535,t=on[1]&2146435072,i=0;return t>=1089470464?on[0]>0?t=31744:(t=(t&2080374784)>>16,i=(on[1]&1048575)>>10):t<=1056964608?(i=1048576+(on[1]&1048575),i=1048576+(i<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,i=(on[1]&1048575)+512>>10),e|t|i&65535}an.float64ToUint16=aT});var au=b(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Float64Builder=Xt.Float32Builder=Xt.Float16Builder=Xt.FloatBuilder=void 0;var cT=cs(),uT=Be(),us=class extends uT.FixedWidthBuilder{};Xt.FloatBuilder=us;var Ih=class extends us{setValue(e,t){this._values.set(e,cT.float64ToUint16(t))}};Xt.Float16Builder=Ih;var wh=class extends us{setValue(e,t){this._values.set(e,t)}};Xt.Float32Builder=wh;var Bh=class extends us{setValue(e,t){this._values.set(e,t)}};Xt.Float64Builder=Bh});var fs=b(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.BN=je.bignumToBigInt=je.bignumToString=je.isArrowBigNumSymbol=void 0;var lT=xe(),ls=Xe();je.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function Lt(r,...e){return e.length===0?Object.setPrototypeOf(lT.toArrayBufferView(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}Lt.prototype[je.isArrowBigNumSymbol]=!0;Lt.prototype.toJSON=function(){return`"${je.bignumToString(this)}"`};Lt.prototype.valueOf=function(){return Sh(this)};Lt.prototype.toString=function(){return je.bignumToString(this)};Lt.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return Sh(this);case"string":return je.bignumToString(this);case"default":return je.bignumToBigInt(this)}return je.bignumToString(this)};function cn(...r){return Lt.apply(this,r)}function un(...r){return Lt.apply(this,r)}function ds(...r){return Lt.apply(this,r)}Object.setPrototypeOf(cn.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(un.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(ds.prototype,Object.create(Uint32Array.prototype));Object.assign(cn.prototype,Lt.prototype,{constructor:cn,signed:!0,TypedArray:Int32Array,BigIntArray:ls.BigInt64Array});Object.assign(un.prototype,Lt.prototype,{constructor:un,signed:!1,TypedArray:Uint32Array,BigIntArray:ls.BigUint64Array});Object.assign(ds.prototype,Lt.prototype,{constructor:ds,signed:!0,TypedArray:Uint32Array,BigIntArray:ls.BigUint64Array});function Sh(r){let{buffer:e,byteOffset:t,length:i,signed:n}=r,s=new Int32Array(e,t,i),o=0,a=0,u=s.length,d,p;for(;a<u;)p=s[a++],d=s[a++],n||(d=d>>>0),o+=(p>>>0)+d*Math.pow(a,32);return o}ls.BigIntAvailable?(je.bignumToBigInt=r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:cu(r),je.bignumToString=r=>r.byteLength===8?`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`:cu(r)):(je.bignumToString=cu,je.bignumToBigInt=je.bignumToString);function cu(r){let e="",t=new Uint32Array(2),i=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),n=new Uint32Array((i=new Uint16Array(i).reverse()).buffer),s=-1,o=i.length-1;do{for(t[0]=i[s=0];s<o;)i[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+i[s];i[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(n[0]||n[1]||n[2]||n[3]);return e||"0"}var No=class{static new(e,t){switch(t){case!0:return new cn(e);case!1:return new un(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case ls.BigInt64Array:return new cn(e)}return e.byteLength===16?new ds(e):new un(e)}static signed(e){return new cn(e)}static unsigned(e){return new un(e)}static decimal(e){return new ds(e)}constructor(e,t){return No.new(e,t)}};je.BN=No});var uu=b(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Uint64Builder=Ve.Uint32Builder=Ve.Uint16Builder=Ve.Uint8Builder=Ve.Int64Builder=Ve.Int32Builder=Ve.Int16Builder=Ve.Int8Builder=Ve.IntBuilder=void 0;var dT=fs(),Ah=zr(),fT=Xe(),hT=Be(),er=class extends hT.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};Ve.IntBuilder=er;var Oh=class extends er{};Ve.Int8Builder=Oh;var Dh=class extends er{};Ve.Int16Builder=Dh;var Fh=class extends er{};Ve.Int32Builder=Fh;var Eh=class extends er{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(ko));super(e);this._values=new Ah.WideBufferBuilder(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(ko(e))}};Ve.Int64Builder=Eh;var Rh=class extends er{};Ve.Uint8Builder=Rh;var Uh=class extends er{};Ve.Uint16Builder=Uh;var Mh=class extends er{};Ve.Uint32Builder=Mh;var Ph=class extends er{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(ko));super(e);this._values=new Ah.WideBufferBuilder(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(ko(e))}};Ve.Uint64Builder=Ph;var ko=(r=>e=>(ArrayBuffer.isView(e)&&(r.buffer=e.buffer,r.byteOffset=e.byteOffset,r.byteLength=e.byteLength,e=dT.bignumToBigInt(r),r.buffer=null),e))({BigIntArray:fT.BigInt64Array})});var lu=b(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.TimeNanosecondBuilder=gt.TimeMicrosecondBuilder=gt.TimeMillisecondBuilder=gt.TimeSecondBuilder=gt.TimeBuilder=void 0;var pT=Be(),ln=class extends pT.FixedWidthBuilder{};gt.TimeBuilder=ln;var Vh=class extends ln{};gt.TimeSecondBuilder=Vh;var Nh=class extends ln{};gt.TimeMillisecondBuilder=Nh;var kh=class extends ln{};gt.TimeMicrosecondBuilder=kh;var Lh=class extends ln{};gt.TimeNanosecondBuilder=Lh});var du=b(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.TimestampNanosecondBuilder=vt.TimestampMicrosecondBuilder=vt.TimestampMillisecondBuilder=vt.TimestampSecondBuilder=vt.TimestampBuilder=void 0;var yT=Be(),dn=class extends yT.FixedWidthBuilder{};vt.TimestampBuilder=dn;var Ch=class extends dn{};vt.TimestampSecondBuilder=Ch;var xh=class extends dn{};vt.TimestampMillisecondBuilder=xh;var jh=class extends dn{};vt.TimestampMicrosecondBuilder=jh;var qh=class extends dn{};vt.TimestampNanosecondBuilder=qh});var fu=b(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.IntervalYearMonthBuilder=Gr.IntervalDayTimeBuilder=Gr.IntervalBuilder=void 0;var _T=Be(),Lo=class extends _T.FixedWidthBuilder{};Gr.IntervalBuilder=Lo;var Wh=class extends Lo{};Gr.IntervalDayTimeBuilder=Wh;var zh=class extends Lo{};Gr.IntervalYearMonthBuilder=zh});var xo=b(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.BinaryBuilder=void 0;var mT=xe(),bT=zr(),gT=Be(),Hh=class extends gT.VariableWidthBuilder{constructor(e){super(e);this._values=new bT.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,mT.toUint8Array(t))}_flushPending(e,t){let i=this._offsets,n=this._values.reserve(t).buffer,s=0,o=0,a=0,u;for([s,u]of e)u===void 0?i.set(s,0):(o=u.length,n.set(u,a),i.set(s,o),a+=o)}};Co.BinaryBuilder=Hh});var qo=b(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.Utf8Builder=void 0;var vT=Ti(),TT=xo(),IT=zr(),wT=Be(),hu=class extends wT.VariableWidthBuilder{constructor(e){super(e);this._values=new IT.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,vT.encodeUtf8(t))}_flushPending(e,t){}};jo.Utf8Builder=hu;hu.prototype._flushPending=TT.BinaryBuilder.prototype._flushPending});var pu=b(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Run=void 0;var BT=De(),Yh=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof BT.Vector?e:(this._values=e,this)}};Wo.Run=Yh});var He=b(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.Field=fn.Schema=void 0;var ST=se(),Tt=class{constructor(e=[],t,i){this.fields=e||[],this.metadata=t||new Map,i||(i=yu(e)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(...e){let t=e.reduce((i,n)=>(i[n]=!0)&&i,Object.create(null));return new Tt(this.fields.filter(i=>t[i.name]),this.metadata)}selectAt(...e){return new Tt(e.map(t=>this.fields[t]).filter(Boolean),this.metadata)}assign(...e){let t=e[0]instanceof Tt?e[0]:Array.isArray(e[0])?new Tt(e[0]):new Tt(e),i=[...this.fields],n=zo(zo(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let u=i.findIndex(d=>d.name===a.name);return~u?(i[u]=a.clone({metadata:zo(zo(new Map,i[u].metadata),a.metadata)}))&&!1:!0}),o=yu(s,new Map);return new Tt([...i,...s],n,new Map([...this.dictionaries,...o]))}};fn.Schema=Tt;var Tr=class{constructor(e,t,i=!1,n){this.name=e,this.type=t,this.nullable=i,this.metadata=n||new Map}static new(...e){let[t,i,n,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],i===void 0&&(i=e[0].type),n===void 0&&(n=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Tr(`${t}`,i,n,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,i,n,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,i=this.type,n=this.nullable,s=this.metadata]=e:{name:t=this.name,type:i=this.type,nullable:n=this.nullable,metadata:s=this.metadata}=e[0],Tr.new(t,i,n,s)}};fn.Field=Tr;function zo(r,e){return new Map([...r||new Map,...e||new Map])}function yu(r,e=new Map){for(let t=-1,i=r.length;++t<i;){let s=r[t].type;if(ST.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&yu(s.children,e)}return e}Tt.prototype.fields=null;Tt.prototype.metadata=null;Tt.prototype.dictionaries=null;Tr.prototype.type=null;Tr.prototype.name=null;Tr.prototype.nullable=null;Tr.prototype.metadata=null});var _u=b(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.ListBuilder=void 0;var AT=pu(),OT=He(),DT=se(),FT=zr(),ET=Be(),Gh=class extends ET.VariableWidthBuilder{constructor(e){super(e);this._run=new AT.Run,this._offsets=new FT.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new DT.List(new OT.Field(t,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let t=this._run,i=this._offsets,n=this._setValue,s=0,o;for([s,o]of e)o===void 0?i.set(s,0):(i.set(s,o.length),n(this,s,t.bind(o)))}};Ho.ListBuilder=Gh});var mu=b(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.FixedSizeListBuilder=void 0;var RT=pu(),UT=He(),MT=Be(),PT=se(),Kh=class extends MT.Builder{constructor(){super(...arguments);this._run=new RT.Run}setValue(e,t){super.setValue(e,this._run.bind(t))}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let i=this.children.push(e);return this.type=new PT.FixedSizeList(this.type.listSize,new UT.Field(t,e.type,!0)),i}clear(){return this._run.clear(),super.clear()}};Yo.FixedSizeListBuilder=Kh});var bu=b(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.MapBuilder=void 0;var VT=He(),NT=se(),kT=Be(),$h=class extends kT.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){t=t instanceof Map?t:new Map(Object.entries(t));let i=this._pending||(this._pending=new Map),n=i.get(e);n&&(this._pendingLength-=n.size),this._pendingLength+=t.size,i.set(e,t)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new NT.Map_(new VT.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,i=this._setValue;e.forEach((n,s)=>{n===void 0?t.set(s,0):(t.set(s,n.size),i(this,s,n))})}};Go.MapBuilder=$h});var gu=b(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.StructBuilder=void 0;var LT=He(),CT=Be(),xT=se(),Jh=class extends CT.Builder{addChild(e,t=`${this.numChildren}`){let i=this.children.push(e);return this.type=new xT.Struct([...this.type.children,new LT.Field(t,e.type,!0)]),i}};Ko.StructBuilder=Jh});var vu=b(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.DenseUnionBuilder=Kr.SparseUnionBuilder=Kr.UnionBuilder=void 0;var jT=He(),Qh=zr(),qT=Be(),WT=se(),$o=class extends qT.Builder{constructor(e){super(e);this._typeIds=new Qh.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,i){return i===void 0&&(i=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,i),this}setValue(e,t,i){this._typeIds.set(e,i),super.setValue(e,t)}addChild(e,t=`${this.children.length}`){let i=this.children.push(e),{type:{children:n,mode:s,typeIds:o}}=this,a=[...n,new jT.Field(t,e.type)];return this.type=new WT.Union(s,[...o,i],a),i}_valueToChildTypeId(e,t,i){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};Kr.UnionBuilder=$o;var Zh=class extends $o{};Kr.SparseUnionBuilder=Zh;var Xh=class extends $o{constructor(e){super(e);this._offsets=new Qh.DataBufferBuilder(new Int32Array(0))}setValue(e,t,i){let n=this.type.typeIdToChildIndex[i];return this._offsets.set(e,this.getChildAt(n).length),super.setValue(e,t,i)}};Kr.DenseUnionBuilder=Xh});var $e=b(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.Visitor=void 0;var zT=kt(),HT=De(),m=de(),YT=se(),ue=class{visitMany(e,...t){return e.map((i,n)=>this.visit(i,...t.map(s=>s[n])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return GT(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};Jo.Visitor=ue;function GT(r,e,t=!0){let i=null,n=m.Type.NONE;switch(e instanceof zT.Data||e instanceof HT.Vector?n=Tu(e.type):e instanceof YT.DataType?n=Tu(e):typeof(n=e)!="number"&&(n=m.Type[e]),n){case m.Type.Null:i=r.visitNull;break;case m.Type.Bool:i=r.visitBool;break;case m.Type.Int:i=r.visitInt;break;case m.Type.Int8:i=r.visitInt8||r.visitInt;break;case m.Type.Int16:i=r.visitInt16||r.visitInt;break;case m.Type.Int32:i=r.visitInt32||r.visitInt;break;case m.Type.Int64:i=r.visitInt64||r.visitInt;break;case m.Type.Uint8:i=r.visitUint8||r.visitInt;break;case m.Type.Uint16:i=r.visitUint16||r.visitInt;break;case m.Type.Uint32:i=r.visitUint32||r.visitInt;break;case m.Type.Uint64:i=r.visitUint64||r.visitInt;break;case m.Type.Float:i=r.visitFloat;break;case m.Type.Float16:i=r.visitFloat16||r.visitFloat;break;case m.Type.Float32:i=r.visitFloat32||r.visitFloat;break;case m.Type.Float64:i=r.visitFloat64||r.visitFloat;break;case m.Type.Utf8:i=r.visitUtf8;break;case m.Type.Binary:i=r.visitBinary;break;case m.Type.FixedSizeBinary:i=r.visitFixedSizeBinary;break;case m.Type.Date:i=r.visitDate;break;case m.Type.DateDay:i=r.visitDateDay||r.visitDate;break;case m.Type.DateMillisecond:i=r.visitDateMillisecond||r.visitDate;break;case m.Type.Timestamp:i=r.visitTimestamp;break;case m.Type.TimestampSecond:i=r.visitTimestampSecond||r.visitTimestamp;break;case m.Type.TimestampMillisecond:i=r.visitTimestampMillisecond||r.visitTimestamp;break;case m.Type.TimestampMicrosecond:i=r.visitTimestampMicrosecond||r.visitTimestamp;break;case m.Type.TimestampNanosecond:i=r.visitTimestampNanosecond||r.visitTimestamp;break;case m.Type.Time:i=r.visitTime;break;case m.Type.TimeSecond:i=r.visitTimeSecond||r.visitTime;break;case m.Type.TimeMillisecond:i=r.visitTimeMillisecond||r.visitTime;break;case m.Type.TimeMicrosecond:i=r.visitTimeMicrosecond||r.visitTime;break;case m.Type.TimeNanosecond:i=r.visitTimeNanosecond||r.visitTime;break;case m.Type.Decimal:i=r.visitDecimal;break;case m.Type.List:i=r.visitList;break;case m.Type.Struct:i=r.visitStruct;break;case m.Type.Union:i=r.visitUnion;break;case m.Type.DenseUnion:i=r.visitDenseUnion||r.visitUnion;break;case m.Type.SparseUnion:i=r.visitSparseUnion||r.visitUnion;break;case m.Type.Dictionary:i=r.visitDictionary;break;case m.Type.Interval:i=r.visitInterval;break;case m.Type.IntervalDayTime:i=r.visitIntervalDayTime||r.visitInterval;break;case m.Type.IntervalYearMonth:i=r.visitIntervalYearMonth||r.visitInterval;break;case m.Type.FixedSizeList:i=r.visitFixedSizeList;break;case m.Type.Map:i=r.visitMap;break}if(typeof i=="function")return i;if(!t)return()=>null;throw new Error(`Unrecognized type '${m.Type[n]}'`)}function Tu(r){switch(r.typeId){case m.Type.Null:return m.Type.Null;case m.Type.Int:{let{bitWidth:e,isSigned:t}=r;switch(e){case 8:return t?m.Type.Int8:m.Type.Uint8;case 16:return t?m.Type.Int16:m.Type.Uint16;case 32:return t?m.Type.Int32:m.Type.Uint32;case 64:return t?m.Type.Int64:m.Type.Uint64}return m.Type.Int}case m.Type.Float:switch(r.precision){case m.Precision.HALF:return m.Type.Float16;case m.Precision.SINGLE:return m.Type.Float32;case m.Precision.DOUBLE:return m.Type.Float64}return m.Type.Float;case m.Type.Binary:return m.Type.Binary;case m.Type.Utf8:return m.Type.Utf8;case m.Type.Bool:return m.Type.Bool;case m.Type.Decimal:return m.Type.Decimal;case m.Type.Time:switch(r.unit){case m.TimeUnit.SECOND:return m.Type.TimeSecond;case m.TimeUnit.MILLISECOND:return m.Type.TimeMillisecond;case m.TimeUnit.MICROSECOND:return m.Type.TimeMicrosecond;case m.TimeUnit.NANOSECOND:return m.Type.TimeNanosecond}return m.Type.Time;case m.Type.Timestamp:switch(r.unit){case m.TimeUnit.SECOND:return m.Type.TimestampSecond;case m.TimeUnit.MILLISECOND:return m.Type.TimestampMillisecond;case m.TimeUnit.MICROSECOND:return m.Type.TimestampMicrosecond;case m.TimeUnit.NANOSECOND:return m.Type.TimestampNanosecond}return m.Type.Timestamp;case m.Type.Date:switch(r.unit){case m.DateUnit.DAY:return m.Type.DateDay;case m.DateUnit.MILLISECOND:return m.Type.DateMillisecond}return m.Type.Date;case m.Type.Interval:switch(r.unit){case m.IntervalUnit.DAY_TIME:return m.Type.IntervalDayTime;case m.IntervalUnit.YEAR_MONTH:return m.Type.IntervalYearMonth}return m.Type.Interval;case m.Type.Map:return m.Type.Map;case m.Type.List:return m.Type.List;case m.Type.Struct:return m.Type.Struct;case m.Type.Union:switch(r.mode){case m.UnionMode.Dense:return m.Type.DenseUnion;case m.UnionMode.Sparse:return m.Type.SparseUnion}return m.Type.Union;case m.Type.FixedSizeBinary:return m.Type.FixedSizeBinary;case m.Type.FixedSizeList:return m.Type.FixedSizeList;case m.Type.Dictionary:return m.Type.Dictionary}throw new Error(`Unrecognized type '${m.Type[r.typeId]}'`)}ue.prototype.visitInt8=null;ue.prototype.visitInt16=null;ue.prototype.visitInt32=null;ue.prototype.visitInt64=null;ue.prototype.visitUint8=null;ue.prototype.visitUint16=null;ue.prototype.visitUint32=null;ue.prototype.visitUint64=null;ue.prototype.visitFloat16=null;ue.prototype.visitFloat32=null;ue.prototype.visitFloat64=null;ue.prototype.visitDateDay=null;ue.prototype.visitDateMillisecond=null;ue.prototype.visitTimestampSecond=null;ue.prototype.visitTimestampMillisecond=null;ue.prototype.visitTimestampMicrosecond=null;ue.prototype.visitTimestampNanosecond=null;ue.prototype.visitTimeSecond=null;ue.prototype.visitTimeMillisecond=null;ue.prototype.visitTimeMicrosecond=null;ue.prototype.visitTimeNanosecond=null;ue.prototype.visitDenseUnion=null;ue.prototype.visitSparseUnion=null;ue.prototype.visitIntervalDayTime=null;ue.prototype.visitIntervalYearMonth=null});var Bu=b(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.instance=hn.SetVisitor=void 0;var KT=De(),$T=$e(),JT=Ti(),QT=cs(),ZT=xe(),It=de(),z=class extends $T.Visitor{};hn.SetVisitor=z;var XT=(r,e,t)=>{r[e]=t/864e5|0},Iu=(r,e,t)=>{r[e]=t%4294967296|0,r[e+1]=t/4294967296|0},eI=(r,e,t)=>{r[e]=t*1e3%4294967296|0,r[e+1]=t*1e3/4294967296|0},tI=(r,e,t)=>{r[e]=t*1e6%4294967296|0,r[e+1]=t*1e6/4294967296|0},ep=(r,e,t,i)=>{let{[t]:n,[t+1]:s}=e;n!=null&&s!=null&&r.set(i.subarray(0,s-n),n)},rI=({offset:r,values:e},t,i)=>{let n=r+t;i?e[n>>3]|=1<<n%8:e[n>>3]&=~(1<<n%8)},tp=({values:r},e,t)=>{XT(r,e,t.valueOf())},rp=({values:r},e,t)=>{Iu(r,e*2,t.valueOf())},tr=({stride:r,values:e},t,i)=>{e[r*t]=i},ip=({stride:r,values:e},t,i)=>{e[r*t]=QT.float64ToUint16(i)},wu=(r,e,t)=>{switch(typeof t){case"bigint":r.values64[e]=t;break;case"number":r.values[e*r.stride]=t;break;default:{let i=t,{stride:n,ArrayType:s}=r,o=ZT.toArrayBufferView(s,i);r.values.set(o.subarray(0,n),n*e)}}},iI=({stride:r,values:e},t,i)=>{e.set(i.subarray(0,r),r*t)},nI=({values:r,valueOffsets:e},t,i)=>ep(r,e,t,i),sI=({values:r,valueOffsets:e},t,i)=>{ep(r,e,t,JT.encodeUtf8(i))},oI=(r,e,t)=>{r.type.bitWidth<64?tr(r,e,t):wu(r,e,t)},aI=(r,e,t)=>{r.type.precision!==It.Precision.HALF?tr(r,e,t):ip(r,e,t)},cI=(r,e,t)=>{r.type.unit===It.DateUnit.DAY?tp(r,e,t):rp(r,e,t)},np=({values:r},e,t)=>Iu(r,e*2,t/1e3),sp=({values:r},e,t)=>Iu(r,e*2,t),op=({values:r},e,t)=>eI(r,e*2,t),ap=({values:r},e,t)=>tI(r,e*2,t),uI=(r,e,t)=>{switch(r.type.unit){case It.TimeUnit.SECOND:return np(r,e,t);case It.TimeUnit.MILLISECOND:return sp(r,e,t);case It.TimeUnit.MICROSECOND:return op(r,e,t);case It.TimeUnit.NANOSECOND:return ap(r,e,t)}},cp=({values:r,stride:e},t,i)=>{r[e*t]=i},up=({values:r,stride:e},t,i)=>{r[e*t]=i},lp=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},dp=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},lI=(r,e,t)=>{switch(r.type.unit){case It.TimeUnit.SECOND:return cp(r,e,t);case It.TimeUnit.MILLISECOND:return up(r,e,t);case It.TimeUnit.MICROSECOND:return lp(r,e,t);case It.TimeUnit.NANOSECOND:return dp(r,e,t)}},dI=({values:r},e,t)=>{r.set(t.subarray(0,4),4*e)},fI=(r,e,t)=>{let i=r.getChildAt(0),n=r.valueOffsets;for(let s=-1,o=n[e],a=n[e+1];o<a;)i.set(o++,t.get(++s))},hI=(r,e,t)=>{let i=r.getChildAt(0),n=r.valueOffsets,s=t instanceof Map?[...t]:Object.entries(t);for(let o=-1,a=n[e],u=n[e+1];a<u;)i.set(a++,s[++o])},pI=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e[n]),yI=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e.get(n)),_I=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e.get(i.name)),mI=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e[i.name]),bI=(r,e,t)=>{let i=t instanceof Map?_I(e,t):t instanceof KT.Vector?yI(e,t):Array.isArray(t)?pI(e,t):mI(e,t);r.type.children.forEach((n,s)=>i(r.getChildAt(s),n,s))},gI=(r,e,t)=>{r.type.mode===It.UnionMode.Dense?fp(r,e,t):hp(r,e,t)},fp=(r,e,t)=>{let i=r.typeIdToChildIndex[r.typeIds[e]],n=r.getChildAt(i);n&&n.set(r.valueOffsets[e],t)},hp=(r,e,t)=>{let i=r.typeIdToChildIndex[r.typeIds[e]],n=r.getChildAt(i);n&&n.set(e,t)},vI=(r,e,t)=>{let i=r.getKey(e);i!==null&&r.setValue(i,t)},TI=(r,e,t)=>{r.type.unit===It.IntervalUnit.DAY_TIME?pp(r,e,t):yp(r,e,t)},pp=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},yp=({values:r},e,t)=>{r[e]=t[0]*12+t[1]%12},II=(r,e,t)=>{let i=r.getChildAt(0),{stride:n}=r;for(let s=-1,o=e*n;++s<n;)i.set(o+s,t.get(s))};z.prototype.visitBool=rI;z.prototype.visitInt=oI;z.prototype.visitInt8=tr;z.prototype.visitInt16=tr;z.prototype.visitInt32=tr;z.prototype.visitInt64=wu;z.prototype.visitUint8=tr;z.prototype.visitUint16=tr;z.prototype.visitUint32=tr;z.prototype.visitUint64=wu;z.prototype.visitFloat=aI;z.prototype.visitFloat16=ip;z.prototype.visitFloat32=tr;z.prototype.visitFloat64=tr;z.prototype.visitUtf8=sI;z.prototype.visitBinary=nI;z.prototype.visitFixedSizeBinary=iI;z.prototype.visitDate=cI;z.prototype.visitDateDay=tp;z.prototype.visitDateMillisecond=rp;z.prototype.visitTimestamp=uI;z.prototype.visitTimestampSecond=np;z.prototype.visitTimestampMillisecond=sp;z.prototype.visitTimestampMicrosecond=op;z.prototype.visitTimestampNanosecond=ap;z.prototype.visitTime=lI;z.prototype.visitTimeSecond=cp;z.prototype.visitTimeMillisecond=up;z.prototype.visitTimeMicrosecond=lp;z.prototype.visitTimeNanosecond=dp;z.prototype.visitDecimal=dI;z.prototype.visitList=fI;z.prototype.visitStruct=bI;z.prototype.visitUnion=gI;z.prototype.visitDenseUnion=fp;z.prototype.visitSparseUnion=hp;z.prototype.visitDictionary=vI;z.prototype.visitInterval=TI;z.prototype.visitIntervalDayTime=pp;z.prototype.visitIntervalYearMonth=yp;z.prototype.visitFixedSizeList=II;z.prototype.visitMap=hI;hn.instance=new z});var _p=b(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.instance=pn.GetBuilderCtor=void 0;var wI=$e(),BI=xo(),SI=eu(),Su=ru(),AI=iu(),OI=su(),DI=ou(),FI=mu(),Qo=au(),Au=fu(),Ir=uu(),EI=_u(),RI=bu(),UI=tu(),MI=gu(),hs=du(),ps=lu(),Ou=vu(),PI=qo(),Du=class extends wI.Visitor{visitNull(){return UI.NullBuilder}visitBool(){return SI.BoolBuilder}visitInt(){return Ir.IntBuilder}visitInt8(){return Ir.Int8Builder}visitInt16(){return Ir.Int16Builder}visitInt32(){return Ir.Int32Builder}visitInt64(){return Ir.Int64Builder}visitUint8(){return Ir.Uint8Builder}visitUint16(){return Ir.Uint16Builder}visitUint32(){return Ir.Uint32Builder}visitUint64(){return Ir.Uint64Builder}visitFloat(){return Qo.FloatBuilder}visitFloat16(){return Qo.Float16Builder}visitFloat32(){return Qo.Float32Builder}visitFloat64(){return Qo.Float64Builder}visitUtf8(){return PI.Utf8Builder}visitBinary(){return BI.BinaryBuilder}visitFixedSizeBinary(){return DI.FixedSizeBinaryBuilder}visitDate(){return Su.DateBuilder}visitDateDay(){return Su.DateDayBuilder}visitDateMillisecond(){return Su.DateMillisecondBuilder}visitTimestamp(){return hs.TimestampBuilder}visitTimestampSecond(){return hs.TimestampSecondBuilder}visitTimestampMillisecond(){return hs.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return hs.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return hs.TimestampNanosecondBuilder}visitTime(){return ps.TimeBuilder}visitTimeSecond(){return ps.TimeSecondBuilder}visitTimeMillisecond(){return ps.TimeMillisecondBuilder}visitTimeMicrosecond(){return ps.TimeMicrosecondBuilder}visitTimeNanosecond(){return ps.TimeNanosecondBuilder}visitDecimal(){return AI.DecimalBuilder}visitList(){return EI.ListBuilder}visitStruct(){return MI.StructBuilder}visitUnion(){return Ou.UnionBuilder}visitDenseUnion(){return Ou.DenseUnionBuilder}visitSparseUnion(){return Ou.SparseUnionBuilder}visitDictionary(){return OI.DictionaryBuilder}visitInterval(){return Au.IntervalBuilder}visitIntervalDayTime(){return Au.IntervalDayTimeBuilder}visitIntervalYearMonth(){return Au.IntervalYearMonthBuilder}visitFixedSizeList(){return FI.FixedSizeListBuilder}visitMap(){return RI.MapBuilder}};pn.GetBuilderCtor=Du;pn.instance=new Du});var Xo=b(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.DenseUnionBuilder=T.SparseUnionBuilder=T.UnionBuilder=T.StructBuilder=T.MapBuilder=T.FixedSizeListBuilder=T.ListBuilder=T.BinaryBuilder=T.Utf8Builder=T.IntervalYearMonthBuilder=T.IntervalDayTimeBuilder=T.IntervalBuilder=T.TimestampNanosecondBuilder=T.TimestampMicrosecondBuilder=T.TimestampMillisecondBuilder=T.TimestampSecondBuilder=T.TimestampBuilder=T.TimeNanosecondBuilder=T.TimeMicrosecondBuilder=T.TimeMillisecondBuilder=T.TimeSecondBuilder=T.TimeBuilder=T.Uint64Builder=T.Uint32Builder=T.Uint16Builder=T.Uint8Builder=T.Int64Builder=T.Int32Builder=T.Int16Builder=T.Int8Builder=T.IntBuilder=T.Float64Builder=T.Float32Builder=T.Float16Builder=T.FloatBuilder=T.FixedSizeBinaryBuilder=T.DictionaryBuilder=T.DecimalBuilder=T.DateMillisecondBuilder=T.DateDayBuilder=T.DateBuilder=T.NullBuilder=T.BoolBuilder=T.Builder=void 0;var VI=Be();Object.defineProperty(T,"Builder",{enumerable:!0,get:function(){return VI.Builder}});var NI=eu();Object.defineProperty(T,"BoolBuilder",{enumerable:!0,get:function(){return NI.BoolBuilder}});var kI=tu();Object.defineProperty(T,"NullBuilder",{enumerable:!0,get:function(){return kI.NullBuilder}});var Fu=ru();Object.defineProperty(T,"DateBuilder",{enumerable:!0,get:function(){return Fu.DateBuilder}});Object.defineProperty(T,"DateDayBuilder",{enumerable:!0,get:function(){return Fu.DateDayBuilder}});Object.defineProperty(T,"DateMillisecondBuilder",{enumerable:!0,get:function(){return Fu.DateMillisecondBuilder}});var LI=iu();Object.defineProperty(T,"DecimalBuilder",{enumerable:!0,get:function(){return LI.DecimalBuilder}});var CI=su();Object.defineProperty(T,"DictionaryBuilder",{enumerable:!0,get:function(){return CI.DictionaryBuilder}});var xI=ou();Object.defineProperty(T,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return xI.FixedSizeBinaryBuilder}});var Zo=au();Object.defineProperty(T,"FloatBuilder",{enumerable:!0,get:function(){return Zo.FloatBuilder}});Object.defineProperty(T,"Float16Builder",{enumerable:!0,get:function(){return Zo.Float16Builder}});Object.defineProperty(T,"Float32Builder",{enumerable:!0,get:function(){return Zo.Float32Builder}});Object.defineProperty(T,"Float64Builder",{enumerable:!0,get:function(){return Zo.Float64Builder}});var wr=uu();Object.defineProperty(T,"IntBuilder",{enumerable:!0,get:function(){return wr.IntBuilder}});Object.defineProperty(T,"Int8Builder",{enumerable:!0,get:function(){return wr.Int8Builder}});Object.defineProperty(T,"Int16Builder",{enumerable:!0,get:function(){return wr.Int16Builder}});Object.defineProperty(T,"Int32Builder",{enumerable:!0,get:function(){return wr.Int32Builder}});Object.defineProperty(T,"Int64Builder",{enumerable:!0,get:function(){return wr.Int64Builder}});Object.defineProperty(T,"Uint8Builder",{enumerable:!0,get:function(){return wr.Uint8Builder}});Object.defineProperty(T,"Uint16Builder",{enumerable:!0,get:function(){return wr.Uint16Builder}});Object.defineProperty(T,"Uint32Builder",{enumerable:!0,get:function(){return wr.Uint32Builder}});Object.defineProperty(T,"Uint64Builder",{enumerable:!0,get:function(){return wr.Uint64Builder}});var ys=lu();Object.defineProperty(T,"TimeBuilder",{enumerable:!0,get:function(){return ys.TimeBuilder}});Object.defineProperty(T,"TimeSecondBuilder",{enumerable:!0,get:function(){return ys.TimeSecondBuilder}});Object.defineProperty(T,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return ys.TimeMillisecondBuilder}});Object.defineProperty(T,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return ys.TimeMicrosecondBuilder}});Object.defineProperty(T,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return ys.TimeNanosecondBuilder}});var _s=du();Object.defineProperty(T,"TimestampBuilder",{enumerable:!0,get:function(){return _s.TimestampBuilder}});Object.defineProperty(T,"TimestampSecondBuilder",{enumerable:!0,get:function(){return _s.TimestampSecondBuilder}});Object.defineProperty(T,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return _s.TimestampMillisecondBuilder}});Object.defineProperty(T,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return _s.TimestampMicrosecondBuilder}});Object.defineProperty(T,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return _s.TimestampNanosecondBuilder}});var Eu=fu();Object.defineProperty(T,"IntervalBuilder",{enumerable:!0,get:function(){return Eu.IntervalBuilder}});Object.defineProperty(T,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return Eu.IntervalDayTimeBuilder}});Object.defineProperty(T,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return Eu.IntervalYearMonthBuilder}});var jI=qo();Object.defineProperty(T,"Utf8Builder",{enumerable:!0,get:function(){return jI.Utf8Builder}});var qI=xo();Object.defineProperty(T,"BinaryBuilder",{enumerable:!0,get:function(){return qI.BinaryBuilder}});var WI=_u();Object.defineProperty(T,"ListBuilder",{enumerable:!0,get:function(){return WI.ListBuilder}});var zI=mu();Object.defineProperty(T,"FixedSizeListBuilder",{enumerable:!0,get:function(){return zI.FixedSizeListBuilder}});var HI=bu();Object.defineProperty(T,"MapBuilder",{enumerable:!0,get:function(){return HI.MapBuilder}});var YI=gu();Object.defineProperty(T,"StructBuilder",{enumerable:!0,get:function(){return YI.StructBuilder}});var Ru=vu();Object.defineProperty(T,"UnionBuilder",{enumerable:!0,get:function(){return Ru.UnionBuilder}});Object.defineProperty(T,"SparseUnionBuilder",{enumerable:!0,get:function(){return Ru.SparseUnionBuilder}});Object.defineProperty(T,"DenseUnionBuilder",{enumerable:!0,get:function(){return Ru.DenseUnionBuilder}});var Uu=de(),GI=qo(),KI=Be(),mp=Bu(),bp=_p();KI.Builder.new=gp;function gp(r){let e=r.type,t=new(bp.instance.getVisitFn(e)())(r);if(e.children&&e.children.length>0){let i=r.children||[],n={nullValues:r.nullValues},s=Array.isArray(i)?(o,a)=>i[a]||n:({name:o})=>i[o]||n;e.children.forEach((o,a)=>{let{type:u}=o,d=s(o,a);t.children.push(gp(Object.assign(Object.assign({},d),{type:u})))})}return t}Object.keys(Uu.Type).map(r=>Uu.Type[r]).filter(r=>typeof r=="number"&&r!==Uu.Type.NONE).forEach(r=>{let e=bp.instance.visit(r);e.prototype._setValue=mp.instance.getVisitFn(r)});GI.Utf8Builder.prototype._setValue=mp.instance.visitBinary});var vp=b(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.Block=yn.Footer=void 0;var $I=mr(),ea=jr(),wt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new wt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+$I.flatbuffers.SIZE_PREFIX_LENGTH),(t||new wt).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ea.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new ea.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let i=this.bb.__offset(this.bb_pos,8);return i?(t||new ta).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let i=this.bb.__offset(this.bb_pos,10);return i?(t||new ta).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,12);return i?(t||new ea.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,ea.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}static createFooter(e,t,i,n,s,o){return wt.startFooter(e),wt.addVersion(e,t),wt.addSchema(e,i),wt.addDictionaries(e,n),wt.addRecordBatches(e,s),wt.addCustomMetadata(e,o),wt.endFooter(e)}};yn.Footer=wt;var ta=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(e,t,i,n){return e.prep(8,24),e.writeInt64(n),e.pad(4),e.writeInt32(i),e.writeInt64(t),e.offset()}};yn.Block=ta});var Vu=b(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.FileBlock=_n.Footer=void 0;var Ct=vp(),Mu=mr(),Tp=Mu.flatbuffers.Long,JI=Mu.flatbuffers.Builder,QI=Mu.flatbuffers.ByteBuffer,Ip=He(),wp=de(),ZI=xe(),Pu=class{constructor(e,t=wp.MetadataVersion.V4,i,n){this.schema=e,this.version=t,i&&(this._recordBatches=i),n&&(this._dictionaryBatches=n)}static decode(e){e=new QI(ZI.toUint8Array(e));let t=Ct.Footer.getRootAsFooter(e),i=Ip.Schema.decode(t.schema());return new Bp(i,t)}static encode(e){let t=new JI,i=Ip.Schema.encode(t,e.schema);Ct.Footer.startRecordBatchesVector(t,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach(o=>$r.encode(t,o));let n=t.endVector();Ct.Footer.startDictionariesVector(t,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach(o=>$r.encode(t,o));let s=t.endVector();return Ct.Footer.startFooter(t),Ct.Footer.addSchema(t,i),Ct.Footer.addVersion(t,wp.MetadataVersion.V4),Ct.Footer.addRecordBatches(t,n),Ct.Footer.addDictionaries(t,s),Ct.Footer.finishFooterBuffer(t,Ct.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,i=this.numRecordBatches;++t<i;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,i=this.numDictionaries;++t<i;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};_n.Footer=Pu;var Bp=class extends Pu{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return $r.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return $r.decode(t)}return null}},$r=class{constructor(e,t,i){this.metaDataLength=e,this.offset=typeof i=="number"?i:i.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new $r(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:i}=t,n=new Tp(t.offset,0),s=new Tp(t.bodyLength,0);return Ct.Block.createBlock(e,n,i,s)}};_n.FileBlock=$r});var ei=b(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.AsyncByteStream=Xr.ByteStream=Xr.AsyncByteQueue=void 0;var Jr=Ze(),Qr=os(),Sp=Ti(),ms=Qi(),Nu=xe(),mn=Xe(),ku=class extends ms.AsyncQueue{write(e){if((e=Nu.toUint8Array(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Sp.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(Sp.decodeUtf8)}toUint8Array(e=!1){return e?Nu.joinUint8Arrays(this._values)[0]:(()=>Jr.__awaiter(this,void 0,void 0,function*(){var t,i;let n=[],s=0;try{for(var o=Jr.__asyncValues(this),a;a=yield o.next(),!a.done;){let u=a.value;n.push(u),s+=u.byteLength}}catch(u){t={error:u}}finally{try{a&&!a.done&&(i=o.return)&&(yield i.call(o))}finally{if(t)throw t.error}}return Nu.joinUint8Arrays(n,s)[0]}))()}};Xr.AsyncByteQueue=ku;var Ap=class{constructor(e){e&&(this.source=new Op(Qr.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Xr.ByteStream=Ap;var ra=class{constructor(e){e instanceof ra?this.source=e.source:e instanceof ku?this.source=new Zr(Qr.default.fromAsyncIterable(e)):mn.isReadableNodeStream(e)?this.source=new Zr(Qr.default.fromNodeStream(e)):mn.isReadableDOMStream(e)?this.source=new Zr(Qr.default.fromDOMStream(e)):mn.isFetchResponse(e)?this.source=new Zr(Qr.default.fromDOMStream(e.body)):mn.isIterable(e)?this.source=new Zr(Qr.default.fromIterable(e)):mn.isPromise(e)?this.source=new Zr(Qr.default.fromAsyncIterable(e)):mn.isAsyncIterable(e)&&(this.source=new Zr(Qr.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Xr.AsyncByteStream=ra;var Op=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||ms.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||ms.ITERATOR_DONE)}},Zr=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return Jr.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return Jr.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Jr.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return Jr.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return Jr.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||ms.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return Jr.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||ms.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var Lu=b(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.AsyncRandomAccessFile=bn.RandomAccessFile=void 0;var ti=Ze(),Dp=ei(),XI=xe(),Fp=class extends Dp.ByteStream{constructor(e,t){super();this.position=0,this.buffer=XI.toUint8Array(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:i}=this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:i,position:n}=this;return t&&n<i?(typeof e!="number"&&(e=1/0),this.position=Math.min(i,n+Math.min(i-n,e)),t.subarray(n,this.position)):null}readAt(e,t){let i=this.buffer,n=Math.min(this.size,e+t);return i?i.subarray(e,n):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};bn.RandomAccessFile=Fp;var Ep=class extends Dp.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>ti.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return ti.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:i}=yield this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)})}seek(e){return ti.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return ti.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:i,position:n}=this;if(t&&n<i){typeof e!="number"&&(e=1/0);let s=n,o=0,a=0,u=Math.min(i,s+Math.min(i-s,e)),d=new Uint8Array(Math.max(0,(this.position=u)-s));for(;(s+=a)<u&&(o+=a)<d.byteLength;)({bytesRead:a}=yield t.read(d,o,d.byteLength-o,s));return d}return null})}readAt(e,t){return ti.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:i,size:n}=this;if(i&&e+t<n){let s=Math.min(n,e+t),o=new Uint8Array(s-e);return(yield i.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return ti.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return ti.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return ti.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};bn.AsyncRandomAccessFile=Ep});var xu=b(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.Int128=rr.Int64=rr.Uint64=rr.BaseInt64=void 0;var ew=1<<16;function gn(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}var vn=8,Cu=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],ia=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),n=t[3]*i[3];this.buffer[0]=n&65535;let s=n>>>16;return n=t[2]*i[3],s+=n,n=t[3]*i[2]>>>0,s+=n,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<n?ew:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*i[3]+t[2]*i[2]+t[3]*i[1],this.buffer[1]+=t[0]*i[3]+t[1]*i[2]+t[2]*i[1]+t[3]*i[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${gn(this.buffer[1])} ${gn(this.buffer[0])}`}};rr.BaseInt64=ia;var oe=class extends ia{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return oe.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return oe.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.length,n=new oe(t);for(let s=0;s<i;){let o=vn<i-s?vn:i-s,a=new oe(new Uint32Array([parseInt(e.substr(s,o),10),0])),u=new oe(new Uint32Array([Cu[o],0]));n.times(u),n.plus(a),s+=o}return n}static convertArray(e){let t=new Uint32Array(e.length*2);for(let i=-1,n=e.length;++i<n;)oe.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new oe(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new oe(new Uint32Array(e.buffer)).plus(t)}};rr.Uint64=oe;var ut=class extends ia{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,i=e.buffer[1]<<0;return t<i||t===i&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return ut.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return ut.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.startsWith("-"),n=e.length,s=new ut(t);for(let o=i?1:0;o<n;){let a=vn<n-o?vn:n-o,u=new ut(new Uint32Array([parseInt(e.substr(o,a),10),0])),d=new ut(new Uint32Array([Cu[a],0]));s.times(d),s.plus(u),o+=a}return i?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let i=-1,n=e.length;++i<n;)ut.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new ut(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new ut(new Uint32Array(e.buffer)).plus(t)}};rr.Int64=ut;var xt=class{constructor(e){this.buffer=e}high(){return new ut(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new ut(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new oe(new Uint32Array([this.buffer[3],0])),i=new oe(new Uint32Array([this.buffer[2],0])),n=new oe(new Uint32Array([this.buffer[1],0])),s=new oe(new Uint32Array([this.buffer[0],0])),o=new oe(new Uint32Array([e.buffer[3],0])),a=new oe(new Uint32Array([e.buffer[2],0])),u=new oe(new Uint32Array([e.buffer[1],0])),d=new oe(new Uint32Array([e.buffer[0],0])),p=oe.multiply(s,d);this.buffer[0]=p.low();let S=new oe(new Uint32Array([p.high(),0]));return p=oe.multiply(n,d),S.plus(p),p=oe.multiply(s,u),S.plus(p),this.buffer[1]=S.low(),this.buffer[3]=S.lessThan(p)?1:0,this.buffer[2]=S.high(),new oe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(oe.multiply(i,d)).plus(oe.multiply(n,u)).plus(oe.multiply(s,a)),this.buffer[3]+=oe.multiply(t,d).plus(oe.multiply(i,u)).plus(oe.multiply(n,a)).plus(oe.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${gn(this.buffer[3])} ${gn(this.buffer[2])} ${gn(this.buffer[1])} ${gn(this.buffer[0])}`}static multiply(e,t){return new xt(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new xt(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return xt.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return xt.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let i=e.startsWith("-"),n=e.length,s=new xt(t);for(let o=i?1:0;o<n;){let a=vn<n-o?vn:n-o,u=new xt(new Uint32Array([parseInt(e.substr(o,a),10),0,0,0])),d=new xt(new Uint32Array([Cu[a],0,0,0]));s.times(d),s.plus(u),o+=a}return i?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let i=-1,n=e.length;++i<n;)xt.from(e[i],new Uint32Array(t.buffer,t.byteOffset+4*4*i,4));return t}};rr.Int128=xt});var Pp=b(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.JSONVectorLoader=Tn.VectorLoader=void 0;var qe=kt(),tw=He(),Br=se(),rw=$e(),Rp=Zt(),iw=Ti(),na=xu(),Up=de(),ir=xe(),ju=class extends rw.Visitor{constructor(e,t,i,n){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=i,this.dictionaries=n}visit(e){return super.visit(e instanceof tw.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return qe.Data.Null(e,0,t)}visitBool(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Bool(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitInt(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Int(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitFloat(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Float(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitUtf8(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Utf8(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Binary(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.FixedSizeBinary(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitDate(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Date(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitTimestamp(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Timestamp(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitTime(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Time(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitDecimal(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Decimal(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitList(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.List(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Struct(e,0,t,i,this.readNullBitmap(e,i),this.visitMany(e.children))}visitUnion(e){return e.mode===Up.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Union(e,0,t,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Union(e,0,t,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Dictionary(e,0,t,i,this.readNullBitmap(e,i),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Interval(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitFixedSizeList(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.FixedSizeList(e,0,t,i,this.readNullBitmap(e,i),this.visit(e.children[0]))}visitMap(e,{length:t,nullCount:i}=this.nextFieldNode()){return qe.Data.Map(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,i=this.nextBufferRange()){return t>0&&this.readData(e,i)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+t)}readDictionary(e){return this.dictionaries.get(e.id)}};Tn.VectorLoader=ju;var Mp=class extends ju{constructor(e,t,i,n){super(new Uint8Array(0),t,i,n);this.sources=e}readNullBitmap(e,t,{offset:i}=this.nextBufferRange()){return t<=0?new Uint8Array(0):Rp.packBools(this.sources[i])}readOffsets(e,{offset:t}=this.nextBufferRange()){return ir.toArrayBufferView(Uint8Array,ir.toArrayBufferView(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return ir.toArrayBufferView(Uint8Array,ir.toArrayBufferView(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:i}=this;return Br.DataType.isTimestamp(e)||(Br.DataType.isInt(e)||Br.DataType.isTime(e))&&e.bitWidth===64||Br.DataType.isDate(e)&&e.unit===Up.DateUnit.MILLISECOND?ir.toArrayBufferView(Uint8Array,na.Int64.convertArray(i[t])):Br.DataType.isDecimal(e)?ir.toArrayBufferView(Uint8Array,na.Int128.convertArray(i[t])):Br.DataType.isBinary(e)||Br.DataType.isFixedSizeBinary(e)?nw(i[t]):Br.DataType.isBool(e)?Rp.packBools(i[t]):Br.DataType.isUtf8(e)?iw.encodeUtf8(i[t].join("")):ir.toArrayBufferView(Uint8Array,ir.toArrayBufferView(e.ArrayType,i[t].map(n=>+n)))}};Tn.JSONVectorLoader=Mp;function nw(r){let e=r.join(""),t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=parseInt(e.substr(i,2),16);return t}});var bs=b(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.StructRow=wn.MapRow=void 0;var Vp=$c(),Je=Symbol.for("parent"),In=Symbol.for("rowIndex"),lt=Symbol.for("keyToIdx"),dt=Symbol.for("idxToVal"),qu=Symbol.for("nodejs.util.inspect.custom"),nr=class{constructor(e,t){this[Je]=e,this.size=t}entries(){return this[Symbol.iterator]()}has(e){return this.get(e)!==void 0}get(e){let t;if(e!=null){let i=this[lt]||(this[lt]=new Map),n=i.get(e);if(n!==void 0){let s=this[dt]||(this[dt]=new Array(this.size));(t=s[n])!==void 0||(s[n]=t=this.getValue(n))}else if((n=this.getIndex(e))>-1){i.set(e,n);let s=this[dt]||(this[dt]=new Array(this.size));(t=s[n])!==void 0||(s[n]=t=this.getValue(n))}}return t}set(e,t){if(e!=null){let i=this[lt]||(this[lt]=new Map),n=i.get(e);if(n===void 0&&i.set(e,n=this.getIndex(e)),n>-1){let s=this[dt]||(this[dt]=new Array(this.size));s[n]=this.setValue(n,t)}}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){let e=this.keys(),t=this.values(),i=this[lt]||(this[lt]=new Map),n=this[dt]||(this[dt]=new Array(this.size));for(let s,o,a=0,u,d;!((u=e.next()).done||(d=t.next()).done);++a)s=u.value,o=d.value,n[a]=o,i.has(s)||i.set(s,a),yield[s,o]}forEach(e,t){let i=this.keys(),n=this.values(),s=t===void 0?e:(u,d,p)=>e.call(t,u,d,p),o=this[lt]||(this[lt]=new Map),a=this[dt]||(this[dt]=new Array(this.size));for(let u,d,p=0,S,D;!((S=i.next()).done||(D=n.next()).done);++p)u=S.value,d=D.value,a[p]=d,o.has(u)||o.set(u,p),s(d,u,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach((t,i)=>e[i]=t),e}inspect(){return this.toString()}[qu](){return this.toString()}toString(){let e=[];return this.forEach((t,i)=>{i=Vp.valueToString(i),t=Vp.valueToString(t),e.push(`${i}: ${t}`)}),`{ ${e.join(", ")} }`}};nr[Symbol.toStringTag]=(r=>(Object.defineProperties(r,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[Je]:{writable:!0,enumerable:!1,configurable:!1,value:null},[In]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),r[Symbol.toStringTag]="Row"))(nr.prototype);var Np=class extends nr{constructor(e){super(e,e.length);return sw(this)}keys(){return this[Je].getChildAt(0)[Symbol.iterator]()}values(){return this[Je].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[Je].getChildAt(0).get(e)}getIndex(e){return this[Je].getChildAt(0).indexOf(e)}getValue(e){return this[Je].getChildAt(1).get(e)}setValue(e,t){this[Je].getChildAt(1).set(e,t)}};wn.MapRow=Np;var kp=class extends nr{constructor(e){super(e,e.type.children.length);return Lp(this)}*keys(){for(let e of this[Je].type.children)yield e.name}*values(){for(let e of this[Je].type.children)yield this[e.name]}getKey(e){return this[Je].type.children[e].name}getIndex(e){return this[Je].type.children.findIndex(t=>t.name===e)}getValue(e){return this[Je].getChildAt(e).get(this[In])}setValue(e,t){return this[Je].getChildAt(e).set(this[In],t)}};wn.StructRow=kp;Object.setPrototypeOf(nr.prototype,Map.prototype);var Lp=(()=>{let r={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let t=-1,i=e[lt]||(e[lt]=new Map),n=o=>function(){return this.get(o)},s=o=>function(a){return this.set(o,a)};for(let o of e.keys())i.set(o,++t),r.get=n(o),r.set=s(o),Object.prototype.hasOwnProperty.call(e,o)||(r.enumerable=!0,Object.defineProperty(e,o,r)),Object.prototype.hasOwnProperty.call(e,t)||(r.enumerable=!1,Object.defineProperty(e,t,r));return r.get=r.set=null,e}})(),sw=(()=>{if(typeof Proxy=="undefined")return Lp;let r=nr.prototype.has,e=nr.prototype.get,t=nr.prototype.set,i=nr.prototype.getKey,n={isExtensible(){return!1},deleteProperty(){return!1},preventExtensions(){return!0},ownKeys(s){return[...s.keys()].map(o=>`${o}`)},has(s,o){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Je:case In:case dt:case lt:case qu:return!0}return typeof o=="number"&&!s.has(o)&&(o=s.getKey(o)),s.has(o)},get(s,o,a){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Je:case In:case dt:case lt:case qu:return Reflect.get(s,o,a)}return typeof o=="number"&&!r.call(a,o)&&(o=i.call(a,o)),e.call(a,o)},set(s,o,a,u){switch(o){case Je:case In:case dt:case lt:return Reflect.set(s,o,a,u);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return typeof o=="number"&&!r.call(u,o)&&(o=i.call(u,o)),r.call(u,o)?!!t.call(u,o,a):!1}};return s=>new Proxy(s,n)})()});var vs=b(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.createElementComparator=ri.clampRange=ri.clampIndex=void 0;var Cp=De(),xp=bs(),ow=xe(),jp=Xe();function aw(r,e,t){let i=r.length,n=e>-1?e:i+e%i;return t?t(r,n):n}ri.clampIndex=aw;var qp;function cw(r,e,t,i){let{length:n=0}=r,s=typeof e!="number"?0:e,o=typeof t!="number"?n:t;return s<0&&(s=(s%n+n)%n),o<0&&(o=(o%n+n)%n),o<s&&(qp=s,s=o,o=qp),o>n&&(o=n),i?i(r,s,o):[s,o]}ri.clampRange=cw;var uw=jp.BigIntAvailable?jp.BigInt(0):0,Wp=r=>r!==r;function gs(r){let e=typeof r;if(e!=="object"||r===null)return Wp(r)?Wp:e!=="bigint"?t=>t===r:t=>uw+t===r;if(r instanceof Date){let t=r.valueOf();return i=>i instanceof Date?i.valueOf()===t:!1}return ArrayBuffer.isView(r)?t=>t?ow.compareArrayLike(r,t):!1:r instanceof Map?dw(r):Array.isArray(r)?lw(r):r instanceof Cp.Vector?fw(r):hw(r)}ri.createElementComparator=gs;function lw(r){let e=[];for(let t=-1,i=r.length;++t<i;)e[t]=gs(r[t]);return sa(e)}function dw(r){let e=-1,t=[];return r.forEach(i=>t[++e]=gs(i)),sa(t)}function fw(r){let e=[];for(let t=-1,i=r.length;++t<i;)e[t]=gs(r.get(t));return sa(e)}function hw(r){let e=Object.keys(r);if(e.length===0)return()=>!1;let t=[];for(let i=-1,n=e.length;++i<n;)t[i]=gs(r[e[i]]);return sa(t,e)}function sa(r,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return pw(r,t);case Map:case xp.MapRow:case xp.StructRow:return zp(r,t,t.keys());case Object:case void 0:return zp(r,t,e||Object.keys(t))}return t instanceof Cp.Vector?yw(r,t):!1}}function pw(r,e){let t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e[i]))return!1;return!0}function yw(r,e){let t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e.get(i)))return!1;return!0}function zp(r,e,t){let i=t[Symbol.iterator](),n=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=r.length,u=s.next(),d=i.next(),p=n.next();for(;o<a&&!d.done&&!p.done&&!u.done&&!(d.value!==p.value||!r[o](u.value));++o,d=i.next(),p=n.next(),u=s.next());return o===a&&d.done&&p.done&&u.done?!0:(i.return&&i.return(),n.return&&n.return(),s.return&&s.return(),!1)}});var Vi=b(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.selectColumnChildrenArgs=Ye.selectVectorChildrenArgs=Ye.selectChunkArgs=Ye.selectFieldArgs=Ye.selectColumnArgs=Ye.selectArgs=Ye.arrayTypeToDataType=Ye.isTypedArray=void 0;var Wu=kt(),Hp=He(),Sr=Sn(),Bn=De(),Bt=se(),_w=ni(),ii=Array.isArray;function zu(r){return ArrayBuffer.isView(r)&&"BYTES_PER_ELEMENT"in r}Ye.isTypedArray=zu;function Yp(r){switch(r){case Int8Array:return Bt.Int8;case Int16Array:return Bt.Int16;case Int32Array:return Bt.Int32;case BigInt64Array:return Bt.Int64;case Uint8Array:return Bt.Uint8;case Uint16Array:return Bt.Uint16;case Uint32Array:return Bt.Uint32;case BigUint64Array:return Bt.Uint64;case Float32Array:return Bt.Float32;case Float64Array:return Bt.Float64;default:return null}}Ye.arrayTypeToDataType=Yp;function mw(r){let e=Yp(r.constructor);if(!e)throw new TypeError("Unrecognized Array input");let t=new e,i=Wu.Data.new(t,0,r.length,0,[void 0,r]);return Bn.Vector.new(i)}Ye.selectArgs=(r,e)=>oa(r,e,[],0);Ye.selectColumnArgs=r=>{let[e,t]=Yu(r,[[],[]]);return t.map((i,n)=>i instanceof Sr.Column?Sr.Column.new(i.field.clone(e[n]),i):i instanceof Bn.Vector?Sr.Column.new(e[n],i):zu(i)?Sr.Column.new(e[n],mw(i)):Sr.Column.new(e[n],[]))};Ye.selectFieldArgs=r=>Yu(r,[[],[]]);Ye.selectChunkArgs=(r,e)=>Hu(r,e,[],0);Ye.selectVectorChildrenArgs=(r,e)=>Gp(r,e,[],0);Ye.selectColumnChildrenArgs=(r,e)=>Kp(r,e,[],0);function oa(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)ii(n=e[o])?s=oa(r,n,t,s).length:n instanceof r&&(t[s++]=n);return t}function Hu(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)ii(n=e[o])?s=Hu(r,n,t,s).length:n instanceof _w.Chunked?s=Hu(r,n.chunks,t,s).length:n instanceof r&&(t[s++]=n);return t}function Gp(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)ii(n=e[o])?s=Gp(r,n,t,s).length:n instanceof r?s=oa(Bn.Vector,n.schema.fields.map((u,d)=>n.getChildAt(d)),t,s).length:n instanceof Bn.Vector&&(t[s++]=n);return t}function Kp(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)ii(n=e[o])?s=Kp(r,n,t,s).length:n instanceof r?s=oa(Sr.Column,n.schema.fields.map((u,d)=>Sr.Column.new(u,n.getChildAt(d))),t,s).length:n instanceof Sr.Column&&(t[s++]=n);return t}var bw=(r,[e,t],i)=>(r[0][i]=e,r[1][i]=t,r);function Yu(r,e){let t,i;switch(i=r.length){case 0:return e;case 1:if(t=e[0],!r[0])return e;if(ii(r[0]))return Yu(r[0],e);r[0]instanceof Wu.Data||r[0]instanceof Bn.Vector||zu(r[0])||r[0]instanceof Bt.DataType||([t,r]=Object.entries(r[0]).reduce(bw,e));break;default:ii(t=r[i-1])?r=ii(r[0])?r[0]:r.slice(0,i-1):(r=ii(r[0])?r[0]:r,t=[])}let n=-1,s=-1,o=-1,a=r.length,u,d,[p,S]=e;for(;++o<a;)d=r[o],d instanceof Sr.Column&&(S[++s]=d)?p[++n]=d.field.clone(t[o],d.type,!0):({[o]:u=o}=t,d instanceof Bt.DataType&&(S[++s]=d)?p[++n]=Hp.Field.new(u,d,!0):(d==null?void 0:d.type)&&(S[++s]=d)&&(d instanceof Wu.Data&&(S[s]=d=Bn.Vector.new(d)),p[++n]=Hp.Field.new(u,d.type,!0)));return e}});var ni=b(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.Chunked=void 0;var gw=vs(),$p=se(),vw=Vi(),Jp=De(),Qp=class{constructor(e){this.chunks=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}next(){for(;this.chunkIndex<this.chunks.length;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}}getChunkIterator(){return this.chunks[this.chunkIndex][Symbol.iterator]()}[Symbol.iterator](){return this}},Ar=class extends Jp.AbstractVector{constructor(e,t=[],i=Tw(t)){super();this._nullCount=-1,this._type=e,this._chunks=t,this._chunkOffsets=i,this._length=i[i.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return vw.selectChunkArgs(Jp.Vector,e)}static concat(...e){let t=Ar.flatten(...e);return new Ar(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((e,t)=>e+t.byteLength,0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((t,{nullCount:i})=>t+i,0)),e}get indices(){if($p.DataType.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=e.length===1?e[0].indices:Ar.concat(...e.map(t=>t.indices))}return this._indices}return null}get dictionary(){return $p.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}[Symbol.iterator](){return new Qp(this._chunks)}clone(e=this._chunks){return new Ar(this._type,e)}concat(...e){return this.clone(Ar.flatten(this,...e))}slice(e,t){return gw.clampRange(this,e,t,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let t=this._children||(this._children=[]),i,n,s;return(i=t[e])?i:(n=(this._type.children||[])[e])&&(s=this._chunks.map(o=>o.getChildAt(e)).filter(o=>o!=null),s.length>0)?t[e]=new Ar(n.type,s):null}search(e,t){let i=e,n=this._chunkOffsets,s=n.length-1;if(i<0||i>=n[s])return null;if(s<=1)return t?t(this,0,i):[0,i];let o=0,a=0,u=0;do{if(o+1===s)return t?t(this,o,i-a):[o,i-a];u=o+(s-o)/2|0,i>=n[u]?o=u:s=u}while(i<n[s]&&i>=(a=n[o]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,t){this.search(e,({chunks:i},n,s)=>i[n].set(s,t))}indexOf(e,t){return t&&typeof t=="number"?this.search(t,(i,n,s)=>this.indexOfInternal(i,n,s,e)):this.indexOfInternal(this,0,Math.max(0,t||0),e)}toArray(){let{chunks:e}=this,t=e.length,i=this._type.ArrayType;if(t<=0)return new i(0);if(t<=1)return e[0].toArray();let n=0,s=new Array(t);for(let u=-1;++u<t;)n+=(s[u]=e[u].toArray()).length;i!==s[0].constructor&&(i=s[0].constructor);let o=new i(n),a=i===Array?ww:Iw;for(let u=-1,d=0;++u<t;)d=a(s[u],o,d);return o}getInternal({_chunks:e},t,i){return e[t].get(i)}isValidInternal({_chunks:e},t,i){return e[t].isValid(i)}indexOfInternal({_chunks:e},t,i,n){let s=t-1,o=e.length,a=i,u=0,d=-1;for(;++s<o;){if(~(d=e[s].indexOf(n,a)))return u+d;a=0,u+=e[s].length}return-1}_sliceInternal(e,t,i){let n=[],{chunks:s,_chunkOffsets:o}=e;for(let a=-1,u=s.length;++a<u;){let d=s[a],p=d.length,S=o[a];if(S>=i)break;if(t>=S+p)continue;if(S>=t&&S+p<=i){n.push(d);continue}let D=Math.max(0,t-S),P=Math.min(i-S,p);n.push(d.slice(D,P))}return e.clone(n)}};aa.Chunked=Ar;function Tw(r){let e=new Uint32Array((r||[]).length+1),t=e[0]=0,i=e.length;for(let n=0;++n<i;)e[n]=t+=r[n-1].length;return e}var Iw=(r,e,t)=>(e.set(r,t),t+r.length),ww=(r,e,t)=>{let i=t;for(let n=-1,s=r.length;++n<s;)e[i++]=r[n];return i}});var Sn=b(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.Column=void 0;var Zp=He(),Xp=De(),Gu=ni(),Ni=class extends Gu.Chunked{constructor(e,t=[],i){t=Gu.Chunked.flatten(...t);super(e.type,t,i);if(this._field=e,t.length===1&&!(this instanceof Ku))return new Ku(e,t[0],this._chunkOffsets)}static new(...e){let[t,i,...n]=e;typeof t!="string"&&!(t instanceof Zp.Field)&&(i=t,t="");let s=Gu.Chunked.flatten(Array.isArray(i)?[...i,...n]:i instanceof Xp.Vector?[i,...n]:[Xp.Vector.new(i,...n)]);if(typeof t=="string"){let o=s[0].data.type;t=new Zp.Field(t,o,!0)}else!t.nullable&&s.some(({nullCount:o})=>o>0)&&(t=t.clone({nullable:!0}));return new Ni(t,s)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new Ni(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t=this._children||(this._children=[]),i,n,s;return(i=t[e])?i:(n=(this.type.children||[])[e])&&(s=this._chunks.map(o=>o.getChildAt(e)).filter(o=>o!=null),s.length>0)?t[e]=new Ni(n,s):null}};ca.Column=Ni;var Ku=class extends Ni{constructor(e,t,i){super(e,[t],i);this._chunk=t}search(e,t){return t?t(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,t){this._chunk.set(e,t)}indexOf(e,t){return this._chunk.indexOf(e,t)}}});var ey=b(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.instance=An.TypeAssembler=void 0;var Bw=mr(),Sw=Bw.flatbuffers.Long,Aw=$e(),M=jr(),$u=class extends Aw.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return M.Null.startNull(t),M.Null.endNull(t)}visitInt(e,t){return M.Int.startInt(t),M.Int.addBitWidth(t,e.bitWidth),M.Int.addIsSigned(t,e.isSigned),M.Int.endInt(t)}visitFloat(e,t){return M.FloatingPoint.startFloatingPoint(t),M.FloatingPoint.addPrecision(t,e.precision),M.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return M.Binary.startBinary(t),M.Binary.endBinary(t)}visitBool(e,t){return M.Bool.startBool(t),M.Bool.endBool(t)}visitUtf8(e,t){return M.Utf8.startUtf8(t),M.Utf8.endUtf8(t)}visitDecimal(e,t){return M.Decimal.startDecimal(t),M.Decimal.addScale(t,e.scale),M.Decimal.addPrecision(t,e.precision),M.Decimal.endDecimal(t)}visitDate(e,t){return M.Date.startDate(t),M.Date.addUnit(t,e.unit),M.Date.endDate(t)}visitTime(e,t){return M.Time.startTime(t),M.Time.addUnit(t,e.unit),M.Time.addBitWidth(t,e.bitWidth),M.Time.endTime(t)}visitTimestamp(e,t){let i=e.timezone&&t.createString(e.timezone)||void 0;return M.Timestamp.startTimestamp(t),M.Timestamp.addUnit(t,e.unit),i!==void 0&&M.Timestamp.addTimezone(t,i),M.Timestamp.endTimestamp(t)}visitInterval(e,t){return M.Interval.startInterval(t),M.Interval.addUnit(t,e.unit),M.Interval.endInterval(t)}visitList(e,t){return M.List.startList(t),M.List.endList(t)}visitStruct(e,t){return M.Struct_.startStruct_(t),M.Struct_.endStruct_(t)}visitUnion(e,t){M.Union.startTypeIdsVector(t,e.typeIds.length);let i=M.Union.createTypeIdsVector(t,e.typeIds);return M.Union.startUnion(t),M.Union.addMode(t,e.mode),M.Union.addTypeIds(t,i),M.Union.endUnion(t)}visitDictionary(e,t){let i=this.visit(e.indices,t);return M.DictionaryEncoding.startDictionaryEncoding(t),M.DictionaryEncoding.addId(t,new Sw(e.id,0)),M.DictionaryEncoding.addIsOrdered(t,e.isOrdered),i!==void 0&&M.DictionaryEncoding.addIndexType(t,i),M.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return M.FixedSizeBinary.startFixedSizeBinary(t),M.FixedSizeBinary.addByteWidth(t,e.byteWidth),M.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return M.FixedSizeList.startFixedSizeList(t),M.FixedSizeList.addListSize(t,e.listSize),M.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return M.Map.startMap(t),M.Map.addKeysSorted(t,e.keysSorted),M.Map.endMap(t)}};An.TypeAssembler=$u;An.instance=new $u});var ay=b(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.fieldFromJSON=sr.dictionaryBatchFromJSON=sr.recordBatchFromJSON=sr.schemaFromJSON=void 0;var On=He(),me=se(),ki=Li(),Dn=de();function Ow(r,e=new Map){return new On.Schema(Fw(r,e),ua(r.customMetadata),e)}sr.schemaFromJSON=Ow;function ty(r){return new ki.RecordBatch(r.count,iy(r.columns),ny(r.columns))}sr.recordBatchFromJSON=ty;function Dw(r){return new ki.DictionaryBatch(ty(r.data),r.id,r.isDelta)}sr.dictionaryBatchFromJSON=Dw;function Fw(r,e){return(r.fields||[]).filter(Boolean).map(t=>On.Field.fromJSON(t,e))}function ry(r,e){return(r.children||[]).filter(Boolean).map(t=>On.Field.fromJSON(t,e))}function iy(r){return(r||[]).reduce((e,t)=>[...e,new ki.FieldNode(t.count,Ew(t.VALIDITY)),...iy(t.children)],[])}function ny(r,e=[]){for(let t=-1,i=(r||[]).length;++t<i;){let n=r[t];n.VALIDITY&&e.push(new ki.BufferRegion(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new ki.BufferRegion(e.length,n.TYPE.length)),n.OFFSET&&e.push(new ki.BufferRegion(e.length,n.OFFSET.length)),n.DATA&&e.push(new ki.BufferRegion(e.length,n.DATA.length)),e=ny(n.children,e)}return e}function Ew(r){return(r||[]).reduce((e,t)=>e+ +(t===0),0)}function Rw(r,e){let t,i,n,s,o,a;return!e||!(s=r.dictionary)?(o=oy(r,ry(r,e)),n=new On.Field(r.name,o,r.nullable,ua(r.customMetadata))):e.has(t=s.id)?(i=(i=s.indexType)?sy(i):new me.Int32,a=new me.Dictionary(e.get(t),i,t,s.isOrdered),n=new On.Field(r.name,a,r.nullable,ua(r.customMetadata))):(i=(i=s.indexType)?sy(i):new me.Int32,e.set(t,o=oy(r,ry(r,e))),a=new me.Dictionary(o,i,t,s.isOrdered),n=new On.Field(r.name,a,r.nullable,ua(r.customMetadata))),n||null}sr.fieldFromJSON=Rw;function ua(r){return new Map(Object.entries(r||{}))}function sy(r){return new me.Int(r.isSigned,r.bitWidth)}function oy(r,e){let t=r.type.name;switch(t){case"NONE":return new me.Null;case"null":return new me.Null;case"binary":return new me.Binary;case"utf8":return new me.Utf8;case"bool":return new me.Bool;case"list":return new me.List((e||[])[0]);case"struct":return new me.Struct(e||[]);case"struct_":return new me.Struct(e||[])}switch(t){case"int":{let i=r.type;return new me.Int(i.isSigned,i.bitWidth)}case"floatingpoint":{let i=r.type;return new me.Float(Dn.Precision[i.precision])}case"decimal":{let i=r.type;return new me.Decimal(i.scale,i.precision)}case"date":{let i=r.type;return new me.Date_(Dn.DateUnit[i.unit])}case"time":{let i=r.type;return new me.Time(Dn.TimeUnit[i.unit],i.bitWidth)}case"timestamp":{let i=r.type;return new me.Timestamp(Dn.TimeUnit[i.unit],i.timezone)}case"interval":{let i=r.type;return new me.Interval(Dn.IntervalUnit[i.unit])}case"union":{let i=r.type;return new me.Union(Dn.UnionMode[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{let i=r.type;return new me.FixedSizeBinary(i.byteWidth)}case"fixedsizelist":{let i=r.type;return new me.FixedSizeList(i.listSize,(e||[])[0])}case"map":{let i=r.type;return new me.Map_((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var Li=b(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.FieldNode=At.BufferRegion=At.DictionaryBatch=At.RecordBatch=At.Message=void 0;var Ju=mr(),U=jr(),ve=ho(),Ge=He(),Uw=xe(),Se=de(),Qu=ey(),la=ay(),Ci=Ju.flatbuffers.Long,Mw=Ju.flatbuffers.Builder,Pw=Ju.flatbuffers.ByteBuffer,be=se(),si=class{constructor(e,t,i,n){this._version=t,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let i=new si(0,Se.MetadataVersion.V4,t);return i._createHeader=Vw(e,t),i}static decode(e){e=new Pw(Uw.toUint8Array(e));let t=ve.Message.getRootAsMessage(e),i=t.bodyLength(),n=t.version(),s=t.headerType(),o=new si(i,n,s);return o._createHeader=Nw(t,s),o}static encode(e){let t=new Mw,i=-1;return e.isSchema()?i=Ge.Schema.encode(t,e.header()):e.isRecordBatch()?i=St.encode(t,e.header()):e.isDictionaryBatch()&&(i=or.encode(t,e.header())),ve.Message.startMessage(t),ve.Message.addVersion(t,Se.MetadataVersion.V4),ve.Message.addHeader(t,i),ve.Message.addHeaderType(t,e.headerType),ve.Message.addBodyLength(t,new Ci(e.bodyLength,0)),ve.Message.finishMessageBuffer(t,ve.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof Ge.Schema)return new si(0,Se.MetadataVersion.V4,Se.MessageHeader.Schema,e);if(e instanceof St)return new si(t,Se.MetadataVersion.V4,Se.MessageHeader.RecordBatch,e);if(e instanceof or)return new si(t,Se.MetadataVersion.V4,Se.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Se.MessageHeader.Schema}isRecordBatch(){return this.headerType===Se.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Se.MessageHeader.DictionaryBatch}};At.Message=si;var St=class{constructor(e,t,i){this._nodes=t,this._buffers=i,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};At.RecordBatch=St;var or=class{constructor(e,t,i=!1){this._data=e,this._isDelta=i,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};At.DictionaryBatch=or;var xi=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};At.BufferRegion=xi;var ji=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};At.FieldNode=ji;function Vw(r,e){return()=>{switch(e){case Se.MessageHeader.Schema:return Ge.Schema.fromJSON(r);case Se.MessageHeader.RecordBatch:return St.fromJSON(r);case Se.MessageHeader.DictionaryBatch:return or.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${Se.MessageHeader[e]}, type: ${e} }`)}}function Nw(r,e){return()=>{switch(e){case Se.MessageHeader.Schema:return Ge.Schema.decode(r.header(new U.Schema));case Se.MessageHeader.RecordBatch:return St.decode(r.header(new ve.RecordBatch),r.version());case Se.MessageHeader.DictionaryBatch:return or.decode(r.header(new ve.DictionaryBatch),r.version())}throw new Error(`Unrecognized Message type: { name: ${Se.MessageHeader[e]}, type: ${e} }`)}}Ge.Field.encode=Gw;Ge.Field.decode=Hw;Ge.Field.fromJSON=la.fieldFromJSON;Ge.Schema.encode=Yw;Ge.Schema.decode=kw;Ge.Schema.fromJSON=la.schemaFromJSON;St.encode=Kw;St.decode=Lw;St.fromJSON=la.recordBatchFromJSON;or.encode=$w;or.decode=Cw;or.fromJSON=la.dictionaryBatchFromJSON;ji.encode=Jw;ji.decode=jw;xi.encode=Qw;xi.decode=xw;function kw(r,e=new Map){let t=zw(r,e);return new Ge.Schema(t,da(r),e)}function Lw(r,e=Se.MetadataVersion.V4){return new St(r.length(),qw(r),Ww(r,e))}function Cw(r,e=Se.MetadataVersion.V4){return new or(St.decode(r.data(),e),r.id(),r.isDelta())}function xw(r){return new xi(r.offset(),r.length())}function jw(r){return new ji(r.length(),r.nullCount())}function qw(r){let e=[];for(let t,i=-1,n=-1,s=r.nodesLength();++i<s;)(t=r.nodes(i))&&(e[++n]=ji.decode(t));return e}function Ww(r,e){let t=[];for(let i,n=-1,s=-1,o=r.buffersLength();++n<o;)(i=r.buffers(n))&&(e<Se.MetadataVersion.V4&&(i.bb_pos+=8*(n+1)),t[++s]=xi.decode(i));return t}function zw(r,e){let t=[];for(let i,n=-1,s=-1,o=r.fieldsLength();++n<o;)(i=r.fields(n))&&(t[++s]=Ge.Field.decode(i,e));return t}function cy(r,e){let t=[];for(let i,n=-1,s=-1,o=r.childrenLength();++n<o;)(i=r.children(n))&&(t[++s]=Ge.Field.decode(i,e));return t}function Hw(r,e){let t,i,n,s,o,a;return!e||!(a=r.dictionary())?(n=ly(r,cy(r,e)),i=new Ge.Field(r.name(),n,r.nullable(),da(r))):e.has(t=a.id().low)?(s=(s=a.indexType())?uy(s):new be.Int32,o=new be.Dictionary(e.get(t),s,t,a.isOrdered()),i=new Ge.Field(r.name(),o,r.nullable(),da(r))):(s=(s=a.indexType())?uy(s):new be.Int32,e.set(t,n=ly(r,cy(r,e))),o=new be.Dictionary(n,s,t,a.isOrdered()),i=new Ge.Field(r.name(),o,r.nullable(),da(r))),i||null}function da(r){let e=new Map;if(r)for(let t,i,n=-1,s=r.customMetadataLength()|0;++n<s;)(t=r.customMetadata(n))&&(i=t.key())!=null&&e.set(i,t.value());return e}function uy(r){return new be.Int(r.isSigned(),r.bitWidth())}function ly(r,e){let t=r.typeType();switch(t){case U.Type.NONE:return new be.Null;case U.Type.Null:return new be.Null;case U.Type.Binary:return new be.Binary;case U.Type.Utf8:return new be.Utf8;case U.Type.Bool:return new be.Bool;case U.Type.List:return new be.List((e||[])[0]);case U.Type.Struct_:return new be.Struct(e||[])}switch(t){case U.Type.Int:{let i=r.type(new U.Int);return new be.Int(i.isSigned(),i.bitWidth())}case U.Type.FloatingPoint:{let i=r.type(new U.FloatingPoint);return new be.Float(i.precision())}case U.Type.Decimal:{let i=r.type(new U.Decimal);return new be.Decimal(i.scale(),i.precision())}case U.Type.Date:{let i=r.type(new U.Date);return new be.Date_(i.unit())}case U.Type.Time:{let i=r.type(new U.Time);return new be.Time(i.unit(),i.bitWidth())}case U.Type.Timestamp:{let i=r.type(new U.Timestamp);return new be.Timestamp(i.unit(),i.timezone())}case U.Type.Interval:{let i=r.type(new U.Interval);return new be.Interval(i.unit())}case U.Type.Union:{let i=r.type(new U.Union);return new be.Union(i.mode(),i.typeIdsArray()||[],e||[])}case U.Type.FixedSizeBinary:{let i=r.type(new U.FixedSizeBinary);return new be.FixedSizeBinary(i.byteWidth())}case U.Type.FixedSizeList:{let i=r.type(new U.FixedSizeList);return new be.FixedSizeList(i.listSize(),(e||[])[0])}case U.Type.Map:{let i=r.type(new U.Map);return new be.Map_((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${U.Type[t]}" (${t})`)}function Yw(r,e){let t=e.fields.map(s=>Ge.Field.encode(r,s));U.Schema.startFieldsVector(r,t.length);let i=U.Schema.createFieldsVector(r,t),n=e.metadata&&e.metadata.size>0?U.Schema.createCustomMetadataVector(r,[...e.metadata].map(([s,o])=>{let a=r.createString(`${s}`),u=r.createString(`${o}`);return U.KeyValue.startKeyValue(r),U.KeyValue.addKey(r,a),U.KeyValue.addValue(r,u),U.KeyValue.endKeyValue(r)})):-1;return U.Schema.startSchema(r),U.Schema.addFields(r,i),U.Schema.addEndianness(r,Zw?U.Endianness.Little:U.Endianness.Big),n!==-1&&U.Schema.addCustomMetadata(r,n),U.Schema.endSchema(r)}function Gw(r,e){let t=-1,i=-1,n=-1,s=e.type,o=e.typeId;be.DataType.isDictionary(s)?(o=s.dictionary.typeId,n=Qu.instance.visit(s,r),i=Qu.instance.visit(s.dictionary,r)):i=Qu.instance.visit(s,r);let a=(s.children||[]).map(p=>Ge.Field.encode(r,p)),u=U.Field.createChildrenVector(r,a),d=e.metadata&&e.metadata.size>0?U.Field.createCustomMetadataVector(r,[...e.metadata].map(([p,S])=>{let D=r.createString(`${p}`),P=r.createString(`${S}`);return U.KeyValue.startKeyValue(r),U.KeyValue.addKey(r,D),U.KeyValue.addValue(r,P),U.KeyValue.endKeyValue(r)})):-1;return e.name&&(t=r.createString(e.name)),U.Field.startField(r),U.Field.addType(r,i),U.Field.addTypeType(r,o),U.Field.addChildren(r,u),U.Field.addNullable(r,!!e.nullable),t!==-1&&U.Field.addName(r,t),n!==-1&&U.Field.addDictionary(r,n),d!==-1&&U.Field.addCustomMetadata(r,d),U.Field.endField(r)}function Kw(r,e){let t=e.nodes||[],i=e.buffers||[];ve.RecordBatch.startNodesVector(r,t.length),t.slice().reverse().forEach(o=>ji.encode(r,o));let n=r.endVector();ve.RecordBatch.startBuffersVector(r,i.length),i.slice().reverse().forEach(o=>xi.encode(r,o));let s=r.endVector();return ve.RecordBatch.startRecordBatch(r),ve.RecordBatch.addLength(r,new Ci(e.length,0)),ve.RecordBatch.addNodes(r,n),ve.RecordBatch.addBuffers(r,s),ve.RecordBatch.endRecordBatch(r)}function $w(r,e){let t=St.encode(r,e.data);return ve.DictionaryBatch.startDictionaryBatch(r),ve.DictionaryBatch.addId(r,new Ci(e.id,0)),ve.DictionaryBatch.addIsDelta(r,e.isDelta),ve.DictionaryBatch.addData(r,t),ve.DictionaryBatch.endDictionaryBatch(r)}function Jw(r,e){return ve.FieldNode.createFieldNode(r,new Ci(e.length,0),new Ci(e.nullCount,0))}function Qw(r,e){return U.Buffer.createBuffer(r,new Ci(e.offset,0),new Ci(e.length,0))}var Zw=function(){let r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256}()});var ha=b(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.magicX2AndPadding=re.magicAndPadding=re.magicLength=re.checkForMagicArrowString=re.MAGIC=re.MAGIC_STR=re.PADDING=re.JSONMessageReader=re.AsyncMessageReader=re.MessageReader=void 0;var oi=Ze(),ai=de(),Xw=mr(),dy=Xw.flatbuffers.ByteBuffer,Ts=Li(),eB=Xe(),tB=Lu(),fy=xe(),fa=ei(),jt=Qi(),Zu=r=>`Expected ${ai.MessageHeader[r]} Message in stream, but was null or length 0.`,Xu=r=>`Header pointer of flatbuffer-encoded ${ai.MessageHeader[r]} Message is null or length 0.`,hy=(r,e)=>`Expected to read ${r} metadata bytes, but only read ${e}.`,py=(r,e)=>`Expected to read ${r} bytes for message body, but only read ${e}.`,el=class{constructor(e){this.source=e instanceof fa.ByteStream?e:new fa.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?jt.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Zu(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=fy.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(py(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=ai.MessageHeader.Schema,i=this.readMessage(t),n=i==null?void 0:i.header();if(e&&!n)throw new Error(Xu(t));return n}readMetadataLength(){let e=this.source.read(re.PADDING),t=e&&new dy(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(e){let t=this.source.read(e);if(!t)return jt.ITERATOR_DONE;if(t.byteLength<e)throw new Error(hy(e,t.byteLength));return{done:!1,value:Ts.Message.decode(t)}}};re.MessageReader=el;var yy=class{constructor(e,t){this.source=e instanceof fa.AsyncByteStream?e:eB.isFileHandle(e)?new tB.AsyncRandomAccessFile(e,t):new fa.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return oi.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?jt.ITERATOR_DONE:e})}throw(e){return oi.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return oi.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return oi.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Zu(e));return t.value})}readMessageBody(e){return oi.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=fy.toUint8Array(yield this.source.read(e));if(t.byteLength<e)throw new Error(py(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return oi.__awaiter(this,void 0,void 0,function*(){let t=ai.MessageHeader.Schema,i=yield this.readMessage(t),n=i==null?void 0:i.header();if(e&&!n)throw new Error(Xu(t));return n})}readMetadataLength(){return oi.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(re.PADDING),t=e&&new dy(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(e){return oi.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return jt.ITERATOR_DONE;if(t.byteLength<e)throw new Error(hy(e,t.byteLength));return{done:!1,value:Ts.Message.decode(t)}})}};re.AsyncMessageReader=yy;var _y=class extends el{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof jt.ArrowJSON?e:new jt.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=Ts.Message.fromJSON(e.schema,ai.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let i=Ts.Message.fromJSON(t,ai.MessageHeader.DictionaryBatch);return{done:!1,value:i}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let i=Ts.Message.fromJSON(t,ai.MessageHeader.RecordBatch);return{done:!1,value:i}}return this._body=[],jt.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(i){return(i||[]).reduce((n,s)=>[...n,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Zu(e));return t.value}readSchema(){let e=ai.MessageHeader.Schema,t=this.readMessage(e),i=t==null?void 0:t.header();if(!t||!i)throw new Error(Xu(e));return i}};re.JSONMessageReader=_y;re.PADDING=4;re.MAGIC_STR="ARROW1";re.MAGIC=new Uint8Array(re.MAGIC_STR.length);for(let r=0;r<re.MAGIC_STR.length;r+=1|0)re.MAGIC[r]=re.MAGIC_STR.charCodeAt(r);function rB(r,e=0){for(let t=-1,i=re.MAGIC.length;++t<i;)if(re.MAGIC[t]!==r[e+t])return!1;return!0}re.checkForMagicArrowString=rB;re.magicLength=re.MAGIC.length;re.magicAndPadding=re.magicLength+re.PADDING;re.magicX2AndPadding=re.magicLength*2+re.PADDING});var nl=b(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.compareTypes=Ae.compareFields=Ae.compareSchemas=Ae.instance=Ae.TypeComparator=void 0;var iB=$e(),N=class extends iB.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((i,n)=>this.compareFields(i,t[n]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};Ae.TypeComparator=N;function ct(r,e){return e instanceof r.constructor}function Is(r,e){return r===e||ct(r,e)}function Or(r,e){return r===e||ct(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function pa(r,e){return r===e||ct(r,e)&&r.precision===e.precision}function nB(r,e){return r===e||ct(r,e)&&r.byteWidth===e.byteWidth}function tl(r,e){return r===e||ct(r,e)&&r.unit===e.unit}function ws(r,e){return r===e||ct(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function Bs(r,e){return r===e||ct(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function sB(r,e){return r===e||ct(r,e)&&r.children.length===e.children.length&&Ae.instance.compareManyFields(r.children,e.children)}function oB(r,e){return r===e||ct(r,e)&&r.children.length===e.children.length&&Ae.instance.compareManyFields(r.children,e.children)}function rl(r,e){return r===e||ct(r,e)&&r.mode===e.mode&&r.typeIds.every((t,i)=>t===e.typeIds[i])&&Ae.instance.compareManyFields(r.children,e.children)}function aB(r,e){return r===e||ct(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&Ae.instance.visit(r.indices,e.indices)&&Ae.instance.visit(r.dictionary,e.dictionary)}function il(r,e){return r===e||ct(r,e)&&r.unit===e.unit}function cB(r,e){return r===e||ct(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&Ae.instance.compareManyFields(r.children,e.children)}function uB(r,e){return r===e||ct(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&Ae.instance.compareManyFields(r.children,e.children)}N.prototype.visitNull=Is;N.prototype.visitBool=Is;N.prototype.visitInt=Or;N.prototype.visitInt8=Or;N.prototype.visitInt16=Or;N.prototype.visitInt32=Or;N.prototype.visitInt64=Or;N.prototype.visitUint8=Or;N.prototype.visitUint16=Or;N.prototype.visitUint32=Or;N.prototype.visitUint64=Or;N.prototype.visitFloat=pa;N.prototype.visitFloat16=pa;N.prototype.visitFloat32=pa;N.prototype.visitFloat64=pa;N.prototype.visitUtf8=Is;N.prototype.visitBinary=Is;N.prototype.visitFixedSizeBinary=nB;N.prototype.visitDate=tl;N.prototype.visitDateDay=tl;N.prototype.visitDateMillisecond=tl;N.prototype.visitTimestamp=ws;N.prototype.visitTimestampSecond=ws;N.prototype.visitTimestampMillisecond=ws;N.prototype.visitTimestampMicrosecond=ws;N.prototype.visitTimestampNanosecond=ws;N.prototype.visitTime=Bs;N.prototype.visitTimeSecond=Bs;N.prototype.visitTimeMillisecond=Bs;N.prototype.visitTimeMicrosecond=Bs;N.prototype.visitTimeNanosecond=Bs;N.prototype.visitDecimal=Is;N.prototype.visitList=sB;N.prototype.visitStruct=oB;N.prototype.visitUnion=rl;N.prototype.visitDenseUnion=rl;N.prototype.visitSparseUnion=rl;N.prototype.visitDictionary=aB;N.prototype.visitInterval=il;N.prototype.visitIntervalDayTime=il;N.prototype.visitIntervalYearMonth=il;N.prototype.visitFixedSizeList=cB;N.prototype.visitMap=uB;Ae.instance=new N;function lB(r,e){return Ae.instance.compareSchemas(r,e)}Ae.compareSchemas=lB;function dB(r,e){return Ae.instance.compareFields(r,e)}Ae.compareFields=dB;function fB(r,e){return Ae.instance.visit(r,e)}Ae.compareTypes=fB});var Ty=b(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.VectorAssembler=void 0;var hB=$e(),my=de(),pB=Dr(),sl=xe(),ol=Zt(),yB=Vi(),by=Li(),gy=se(),Ne=class extends hB.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=new Ne,i=yB.selectVectorChildrenArgs(pB.RecordBatch,e),[n=t]=t.visitMany(i);return n}visit(e){if(!gy.DataType.isDictionary(e.type)){let{data:t,length:i,nullCount:n}=e;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");gy.DataType.isNull(e.type)||qt.call(this,n<=0?new Uint8Array(0):ol.truncateBitmap(t.offset,i,t.nullBitmap)),this.nodes.push(new by.FieldNode(i,n))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};ya.VectorAssembler=Ne;function qt(r){let e=r.byteLength+7&~7;return this.buffers.push(r),this.bufferRegions.push(new by.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function _B(r){let{type:e,length:t,typeIds:i,valueOffsets:n}=r;if(qt.call(this,i),e.mode===my.UnionMode.Sparse)return cl.call(this,r);if(e.mode===my.UnionMode.Dense){if(r.offset<=0)return qt.call(this,n),cl.call(this,r);{let s=i.reduce((p,S)=>Math.max(p,S),i[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(t),d=sl.rebaseValueOffsets(-n[0],t,n);for(let p,S,D=-1;++D<t;)(S=a[p=i[D]])===-1&&(S=a[p]=d[p]),u[D]=d[D]-S,++o[p];qt.call(this,u);for(let p,S=-1,D=e.children.length;++S<D;)if(p=r.getChildAt(S)){let P=e.typeIds[S],Te=Math.min(t,o[P]);this.visit(p.slice(a[P],Te))}}}return this}function mB(r){let e;return r.nullCount>=r.length?qt.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?qt.call(this,ol.truncateBitmap(r.offset,r.length,e)):qt.call(this,ol.packBools(r))}function ci(r){return qt.call(this,r.values.subarray(0,r.length*r.stride))}function vy(r){let{length:e,values:t,valueOffsets:i}=r,n=i[0],s=i[e],o=Math.min(s-n,t.byteLength-n);return qt.call(this,sl.rebaseValueOffsets(-i[0],e,i)),qt.call(this,t.subarray(n,n+o)),this}function al(r){let{length:e,valueOffsets:t}=r;return t&&qt.call(this,sl.rebaseValueOffsets(t[0],e,t)),this.visit(r.getChildAt(0))}function cl(r){return this.visitMany(r.type.children.map((e,t)=>r.getChildAt(t)).filter(Boolean))[0]}Ne.prototype.visitBool=mB;Ne.prototype.visitInt=ci;Ne.prototype.visitFloat=ci;Ne.prototype.visitUtf8=vy;Ne.prototype.visitBinary=vy;Ne.prototype.visitFixedSizeBinary=ci;Ne.prototype.visitDate=ci;Ne.prototype.visitTimestamp=ci;Ne.prototype.visitTime=ci;Ne.prototype.visitDecimal=ci;Ne.prototype.visitList=al;Ne.prototype.visitStruct=cl;Ne.prototype.visitUnion=_B;Ne.prototype.visitInterval=ci;Ne.prototype.visitFixedSizeList=al;Ne.prototype.visitMap=al});var wy=b(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.JSONTypeAssembler=void 0;var bB=$e(),Qe=jr(),Fn=de(),Iy=class extends bB.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Qe.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:i}){return{name:Qe.Type[e].toLowerCase(),bitWidth:t,isSigned:i}}visitFloat({typeId:e,precision:t}){return{name:Qe.Type[e].toLowerCase(),precision:Fn.Precision[t]}}visitBinary({typeId:e}){return{name:Qe.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:Qe.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Qe.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:i}){return{name:Qe.Type[e].toLowerCase(),scale:t,precision:i}}visitDate({typeId:e,unit:t}){return{name:Qe.Type[e].toLowerCase(),unit:Fn.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:i}){return{name:Qe.Type[e].toLowerCase(),unit:Fn.TimeUnit[t],bitWidth:i}}visitTimestamp({typeId:e,timezone:t,unit:i}){return{name:Qe.Type[e].toLowerCase(),unit:Fn.TimeUnit[i],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:Qe.Type[e].toLowerCase(),unit:Fn.IntervalUnit[t]}}visitList({typeId:e}){return{name:Qe.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Qe.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:i}){return{name:Qe.Type[e].toLowerCase(),mode:Fn.UnionMode[t],typeIds:[...i]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:Qe.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:Qe.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:Qe.Type[e].toLowerCase(),keysSorted:t}}};_a.JSONTypeAssembler=Iy});var Ay=b(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.JSONVectorAssembler=void 0;var gB=fs(),Ss=Sn(),vB=De(),TB=$e(),IB=de(),wB=Dr(),ul=de(),ma=Zt(),BB=Vi(),By=se(),ba=class extends TB.Visitor{static assemble(...e){return new ba().visitMany(BB.selectColumnChildrenArgs(wB.RecordBatch,e))}visit(e){let{data:t,name:i,length:n}=e,{offset:s,nullCount:o,nullBitmap:a}=t,u=By.DataType.isDictionary(e.type)?e.type.indices:e.type,d=Object.assign([],t.buffers,{[IB.BufferType.VALIDITY]:void 0});return Object.assign({name:i,count:n,VALIDITY:By.DataType.isNull(u)?void 0:o<=0?Array.from({length:n},()=>1):[...new ma.BitIterator(a,s,n,null,ma.getBit)]},super.visit(vB.Vector.new(t.clone(u,s,n,0,d))))}visitNull(){return{}}visitBool({values:e,offset:t,length:i}){return{DATA:[...new ma.BitIterator(e,t,i,null,ma.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...As(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...e],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...Sy(e)],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...Sy(e)]}}visitDate(e){return{DATA:e.type.unit===ul.DateUnit.DAY?[...e.values]:[...As(e.values,2)]}}visitTimestamp(e){return{DATA:[...As(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<ul.TimeUnit.MICROSECOND?[...e.values]:[...As(e.values,2)]}}visitDecimal(e){return{DATA:[...As(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((t,i)=>this.visit(new Ss.Column(t,[e.getChildAt(i)])))}}visitStruct(e){return{children:e.type.children.map((t,i)=>this.visit(new Ss.Column(t,[e.getChildAt(i)])))}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===ul.UnionMode.Dense?[...e.valueOffsets]:void 0,children:e.type.children.map((t,i)=>this.visit(new Ss.Column(t,[e.getChildAt(i)])))}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:e.type.children.map((t,i)=>this.visit(new Ss.Column(t,[e.getChildAt(i)])))}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((t,i)=>this.visit(new Ss.Column(t,[e.getChildAt(i)])))}}};ga.JSONVectorAssembler=ba;function*Sy(r){for(let e of r)yield e.reduce((t,i)=>`${t}${("0"+(i&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*As(r,e){for(let t=-1,i=r.length/e;++t<i;)yield`${gB.BN.new(r.subarray((t+0)*e,(t+1)*e),!1)}`}});var Ba=b(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.RecordBatchJSONWriter=cr.RecordBatchFileWriter=cr.RecordBatchStreamWriter=cr.RecordBatchWriter=void 0;var Oy=Ze(),ll=Ds(),SB=ha(),AB=Sn(),OB=se(),DB=He(),va=Li(),dl=Li(),En=Vu(),fl=de(),Dy=nl(),hl=ei(),Fy=Ty(),FB=wy(),Ey=Ay(),EB=xe(),pl=Dr(),RB=Qi(),ar=Xe(),Os=class extends RB.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new hl.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,ar.isObject(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return ar.isPromise(e)?e.then(t=>this.writeAll(t)):ar.isAsyncIterable(e)?_l(this,e):yl(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof hl.AsyncByteQueue?this._sink=e:(this._sink=new hl.AsyncByteQueue,e&&ar.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&ar.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!Dy.compareSchemas(t,this._schema))&&(t===null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof ll.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof pl.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!Dy.compareSchemas(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof pl.RecordBatch?e instanceof pl._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof ll.Table?this.writeAll(e.chunks):ar.isIterable(e)&&this.writeAll(e)}_writeMessage(e,t=8){let i=t-1,n=va.Message.encode(e),s=n.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+i&~i,u=a-s-o;return e.headerType===fl.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new En.FileBlock(a,e.bodyLength,this._position)):e.headerType===fl.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new En.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(n),this._writePadding(u)}_write(e){if(this._started){let t=EB.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(va.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(SB.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:i,bufferRegions:n,buffers:s}=Fy.VectorAssembler.assemble(e),o=new dl.RecordBatch(e.length,i,n),a=va.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,i=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:n,nodes:s,bufferRegions:o,buffers:a}=Fy.VectorAssembler.assemble(e),u=new dl.RecordBatch(e.length,s,o),d=new dl.DictionaryBatch(u,t,i),p=va.Message.from(d,n);return this._writeMessage(p)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,i,n;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(i=t.byteLength)>0&&(this._write(t),(n=(i+7&~7)-i)>0&&this._writePadding(n));return this}_writeDictionaries(e){for(let[t,i]of e.dictionaries){let n=this._dictionaryDeltaOffsets.get(t)||0;if(n===0||(i=i.slice(n)).length>0){let s="chunks"in i?i.chunks:[i];for(let o of s)this._writeDictionaryBatch(o,t,n>0),n+=o.length}}return this}};cr.RecordBatchWriter=Os;var Ta=class extends Os{static writeAll(e,t){let i=new Ta(t);return ar.isPromise(e)?e.then(n=>i.writeAll(n)):ar.isAsyncIterable(e)?_l(i,e):yl(i,e)}};cr.RecordBatchStreamWriter=Ta;var Ia=class extends Os{static writeAll(e){let t=new Ia;return ar.isPromise(e)?e.then(i=>t.writeAll(i)):ar.isAsyncIterable(e)?_l(t,e):yl(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=En.Footer.encode(new En.Footer(e,fl.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};cr.RecordBatchFileWriter=Ia;var wa=class extends Os{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new wa().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(Ry)},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,i=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${UB(e,t,i)}`),this._dictionaryBlocks.push(new En.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${MB(this._recordBatches[e])}`),this._recordBatchBlocks.push(new En.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};cr.RecordBatchJSONWriter=wa;function yl(r,e){let t=e;e instanceof ll.Table&&(t=e.chunks,r.reset(void 0,e.schema));for(let i of t)r.write(i);return r.finish()}function _l(r,e){var t,i,n,s;return Oy.__awaiter(this,void 0,void 0,function*(){try{for(t=Oy.__asyncValues(e);i=yield t.next(),!i.done;){let o=i.value;r.write(o)}}catch(o){n={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(n)throw n.error}}return r.finish()})}function Ry({name:r,type:e,nullable:t}){let i=new FB.JSONTypeAssembler;return{name:r,nullable:t,type:i.visit(e),children:(e.children||[]).map(Ry),dictionary:OB.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:i.visit(e.indices)}:void 0}}function UB(r,e,t=!1){let i=new DB.Field(`${e}`,r.type,r.nullCount>0),n=Ey.JSONVectorAssembler.assemble(new AB.Column(i,[r]));return JSON.stringify({id:e,isDelta:t,data:{count:r.length,columns:n}},null,2)}function MB(r){return JSON.stringify({count:r.length,columns:Ey.JSONVectorAssembler.assemble(r)},null,2)}});var gl=b(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.distributeVectorsIntoRecordBatches=ui.distributeColumnsIntoRecordBatches=ui.ensureSameLengthData=void 0;var Uy=kt(),ml=He(),PB=ni(),VB=Dr(),bl=new Uint8Array(0),My=r=>[bl,bl,new Uint8Array(r),bl];function NB(r,e,t=e.reduce((i,n)=>Math.max(i,n.length),0)){let i,n,s=-1,o=e.length,a=[...r.fields],u=[],d=(t+63&~63)>>3;for(;++s<o;)(i=e[s])&&i.length===t?u[s]=i:((n=a[s]).nullable||(a[s]=a[s].clone({nullable:!0})),u[s]=i?i._changeLengthAndBackfillNullBitmap(t):Uy.Data.new(n.type,0,t,t,My(d)));return[new ml.Schema(a),t,u]}ui.ensureSameLengthData=NB;function kB(r){return Py(new ml.Schema(r.map(({field:e})=>e)),r)}ui.distributeColumnsIntoRecordBatches=kB;function Py(r,e){return LB(r,e.map(t=>t instanceof PB.Chunked?t.chunks.map(i=>i.data):[t.data]))}ui.distributeVectorsIntoRecordBatches=Py;function LB(r,e){let t=[...r.fields],i=[],n={numBatches:e.reduce((S,D)=>Math.max(S,D.length),0)},s=0,o=0,a=-1,u=e.length,d,p=[];for(;n.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)p[a]=d=e[a].shift(),o=Math.min(o,d?d.length:o);isFinite(o)&&(p=CB(t,o,p,e,n),o>0&&(i[s++]=[o,p.slice()]))}return[r=new ml.Schema(t,r.metadata),i.map(S=>new VB.RecordBatch(r,...S))]}function CB(r,e,t,i,n){let s,o,a=0,u=-1,d=i.length,p=(e+63&~63)>>3;for(;++u<d;)(s=t[u])&&(a=s.length)>=e?a===e?t[u]=s:(t[u]=s.slice(0,e),s=s.slice(e,a-e),n.numBatches=Math.max(n.numBatches,i[u].unshift(s))):((o=r[u]).nullable||(r[u]=o.clone({nullable:!0})),t[u]=s?s._changeLengthAndBackfillNullBitmap(e):Uy.Data.new(o.type,0,e,e,My(p)));return t}});var Ee=b(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.BaseVector=void 0;var xB=de(),jB=ni(),qB=vs(),vl=De(),Tl=class extends vl.AbstractVector{constructor(e,t){super();this._children=t,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${xB.Type[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,t=this._children){return vl.Vector.new(e,t)}concat(...e){return jB.Chunked.concat(this,...e)}slice(e,t){return qB.clampRange(this,e,t,this._sliceInternal)}isValid(e){if(this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=vl.Vector.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,t,i){return e.clone(e.data.slice(t,i-t),null)}_bindDataAccessors(e){}};Sa.BaseVector=Tl;Tl.prototype[Symbol.isConcatSpreadable]=!0});var Il=b(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.BinaryVector=void 0;var WB=De(),zB=Ee(),HB=se(),Vy=class extends zB.BaseVector{asUtf8(){return WB.Vector.new(this.data.clone(new HB.Utf8))}};Aa.BinaryVector=Vy});var wl=b(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.BoolVector=void 0;var YB=se(),GB=Ee(),KB=ur(),Ny=class extends GB.BaseVector{static from(e){return KB.vectorFromValuesWithType(()=>new YB.Bool,e)}};Oa.BoolVector=Ny});var Sl=b(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.DateMillisecondVector=li.DateDayVector=li.DateVector=void 0;var $B=de(),JB=Ee(),ky=ur(),Bl=se(),Da=class extends JB.BaseVector{static from(...e){return e.length===2?ky.vectorFromValuesWithType(()=>e[1]===$B.DateUnit.DAY?new Bl.DateDay:new Bl.DateMillisecond,e[0]):ky.vectorFromValuesWithType(()=>new Bl.DateMillisecond,e[0])}};li.DateVector=Da;var Ly=class extends Da{};li.DateDayVector=Ly;var Cy=class extends Da{};li.DateMillisecondVector=Cy});var Al=b(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.DecimalVector=void 0;var QB=Ee(),xy=class extends QB.BaseVector{};Fa.DecimalVector=xy});var Ra=b(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.DictionaryVector=void 0;var ZB=kt(),jy=De(),XB=Ee(),eS=ur(),tS=se(),Ol=class extends XB.BaseVector{constructor(e){super(e);this.indices=jy.Vector.new(e.clone(this.type.indices))}static from(...e){if(e.length===3){let[t,i,n]=e,s=new tS.Dictionary(t.type,i,null,null);return jy.Vector.new(ZB.Data.Dictionary(s,0,n.length,0,null,n,t))}return eS.vectorFromValuesWithType(()=>e[0].type,e[0])}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,t){return this.indices.set(e,t)}setValue(e,t){return this.dictionary.set(e,t)}};Ea.DictionaryVector=Ol;Ol.prototype.indices=null});var Dl=b(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.FixedSizeBinaryVector=void 0;var rS=Ee(),qy=class extends rS.BaseVector{};Ua.FixedSizeBinaryVector=qy});var Fl=b(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.FixedSizeListVector=void 0;var iS=Ee(),Wy=class extends iS.BaseVector{};Ma.FixedSizeListVector=Wy});var Ml=b(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.Float64Vector=lr.Float32Vector=lr.Float16Vector=lr.FloatVector=void 0;var nS=kt(),sS=De(),oS=Ee(),aS=ur(),qi=se(),Fs=class extends oS.BaseVector{static from(e){let t=lS(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let i=uS(e.constructor)||t;if(t===null&&(t=i),t&&t===i){let n=new t,s=e.byteLength/n.ArrayType.BYTES_PER_ELEMENT;if(!cS(t,e.constructor))return sS.Vector.new(nS.Data.Float(n,0,s,0,null,e))}}if(t)return aS.vectorFromValuesWithType(()=>new t,e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}};lr.FloatVector=Fs;var El=class extends Fs{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}};lr.Float16Vector=El;var Rl=class extends Fs{};lr.Float32Vector=Rl;var Ul=class extends Fs{};lr.Float64Vector=Ul;var cS=(r,e)=>r===qi.Float16&&e!==Uint16Array,uS=r=>{switch(r){case Uint16Array:return qi.Float16;case Float32Array:return qi.Float32;case Float64Array:return qi.Float64;default:return null}},lS=r=>{switch(r){case El:return qi.Float16;case Rl:return qi.Float32;case Ul:return qi.Float64;default:return null}}});var Pl=b(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.IntervalYearMonthVector=di.IntervalDayTimeVector=di.IntervalVector=void 0;var dS=Ee(),Pa=class extends dS.BaseVector{};di.IntervalVector=Pa;var zy=class extends Pa{};di.IntervalDayTimeVector=zy;var Hy=class extends Pa{};di.IntervalYearMonthVector=Hy});var Va=b(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.Uint64Vector=ke.Uint32Vector=ke.Uint16Vector=ke.Uint8Vector=ke.Int64Vector=ke.Int32Vector=ke.Int16Vector=ke.Int8Vector=ke.IntVector=void 0;var fS=kt(),hS=De(),pS=Ee(),yS=ur(),Yy=Xe(),Gy=xe(),Oe=se(),dr=class extends pS.BaseVector{static from(...e){let[t,i=!1]=e,n=bS(this,i);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){let s=mS(t.constructor,i)||n;if(n===null&&(n=s),n&&n===s){let o=new n,a=t.byteLength/o.ArrayType.BYTES_PER_ELEMENT;return _S(n,t.constructor)&&(a*=.5),hS.Vector.new(fS.Data.Int(o,0,a,0,null,t))}}if(n)return yS.vectorFromValuesWithType(()=>new n,t);throw t instanceof DataView||t instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${t.constructor.name}`):new TypeError("Unrecognized IntVector input")}};ke.IntVector=dr;var Vl=class extends dr{};ke.Int8Vector=Vl;var Nl=class extends dr{};ke.Int16Vector=Nl;var kl=class extends dr{};ke.Int32Vector=kl;var Ll=class extends dr{toBigInt64Array(){return Gy.toBigInt64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}};ke.Int64Vector=Ll;var Cl=class extends dr{};ke.Uint8Vector=Cl;var xl=class extends dr{};ke.Uint16Vector=xl;var jl=class extends dr{};ke.Uint32Vector=jl;var ql=class extends dr{toBigUint64Array(){return Gy.toBigUint64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}};ke.Uint64Vector=ql;var _S=(r,e)=>(r===Oe.Int64||r===Oe.Uint64)&&(e===Int32Array||e===Uint32Array),mS=(r,e)=>{switch(r){case Int8Array:return Oe.Int8;case Int16Array:return Oe.Int16;case Int32Array:return e?Oe.Int64:Oe.Int32;case Yy.BigInt64Array:return Oe.Int64;case Uint8Array:return Oe.Uint8;case Uint16Array:return Oe.Uint16;case Uint32Array:return e?Oe.Uint64:Oe.Uint32;case Yy.BigUint64Array:return Oe.Uint64;default:return null}},bS=(r,e)=>{switch(r){case Vl:return Oe.Int8;case Nl:return Oe.Int16;case kl:return e?Oe.Int64:Oe.Int32;case Ll:return Oe.Int64;case Cl:return Oe.Uint8;case xl:return Oe.Uint16;case jl:return e?Oe.Uint64:Oe.Uint32;case ql:return Oe.Uint64;default:return null}}});var Wl=b(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.ListVector=void 0;var gS=Ee(),Ky=class extends gS.BaseVector{};Na.ListVector=Ky});var zl=b(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.MapVector=void 0;var vS=bs(),TS=De(),IS=Ee(),wS=se(),$y=class extends IS.BaseVector{asList(){let e=this.type.children[0];return TS.Vector.new(this.data.clone(new wS.List(e)))}bind(e){let t=this.getChildAt(0),{[e]:i,[e+1]:n}=this.valueOffsets;return new vS.MapRow(t.slice(i,n))}};ka.MapVector=$y});var Hl=b(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.NullVector=void 0;var BS=Ee(),Jy=class extends BS.BaseVector{};La.NullVector=Jy});var Yl=b(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.StructVector=void 0;var SS=bs(),AS=Ee(),OS=Symbol.for("rowIndex"),Qy=class extends AS.BaseVector{bind(e){let t=this._row||(this._row=new SS.StructRow(this)),i=Object.create(t);return i[OS]=e,i}};Ca.StructVector=Qy});var Gl=b(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.TimestampNanosecondVector=Ot.TimestampMicrosecondVector=Ot.TimestampMillisecondVector=Ot.TimestampSecondVector=Ot.TimestampVector=void 0;var DS=Ee(),Rn=class extends DS.BaseVector{};Ot.TimestampVector=Rn;var Zy=class extends Rn{};Ot.TimestampSecondVector=Zy;var Xy=class extends Rn{};Ot.TimestampMillisecondVector=Xy;var e_=class extends Rn{};Ot.TimestampMicrosecondVector=e_;var t_=class extends Rn{};Ot.TimestampNanosecondVector=t_});var Kl=b(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.TimeNanosecondVector=Dt.TimeMicrosecondVector=Dt.TimeMillisecondVector=Dt.TimeSecondVector=Dt.TimeVector=void 0;var FS=Ee(),Un=class extends FS.BaseVector{};Dt.TimeVector=Un;var r_=class extends Un{};Dt.TimeSecondVector=r_;var i_=class extends Un{};Dt.TimeMillisecondVector=i_;var n_=class extends Un{};Dt.TimeMicrosecondVector=n_;var s_=class extends Un{};Dt.TimeNanosecondVector=s_});var $l=b(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.SparseUnionVector=fi.DenseUnionVector=fi.UnionVector=void 0;var ES=Ee(),xa=class extends ES.BaseVector{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}};fi.UnionVector=xa;var o_=class extends xa{get valueOffsets(){return this.data.valueOffsets}};fi.DenseUnionVector=o_;var a_=class extends xa{};fi.SparseUnionVector=a_});var Jl=b(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.Utf8Vector=void 0;var RS=De(),US=Ee(),c_=se(),MS=ur(),u_=class extends US.BaseVector{static from(e){return MS.vectorFromValuesWithType(()=>new c_.Utf8,e)}asBinary(){return RS.Vector.new(this.data.clone(new c_.Binary))}};ja.Utf8Vector=u_});var l_=b(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.partial2=hi.partial1=hi.partial0=void 0;function PS(r){return function(){return r(this)}}hi.partial0=PS;function VS(r){return function(e){return r(this,e)}}hi.partial1=VS;function NS(r){return function(e,t){return r(this,e,t)}}hi.partial2=NS});var Xl=b(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.instance=Mn.GetVisitor=void 0;var qa=fs(),kS=$e(),LS=Ti(),CS=cs(),Ft=de(),k=class extends kS.Visitor{};Mn.GetVisitor=k;var xS=(r,e)=>864e5*r[e],Ql=(r,e)=>4294967296*r[e+1]+(r[e]>>>0),jS=(r,e)=>4294967296*(r[e+1]/1e3)+(r[e]>>>0)/1e3,qS=(r,e)=>4294967296*(r[e+1]/1e6)+(r[e]>>>0)/1e6,d_=r=>new Date(r),WS=(r,e)=>d_(xS(r,e)),zS=(r,e)=>d_(Ql(r,e)),HS=(r,e)=>null,f_=(r,e,t)=>{let{[t]:i,[t+1]:n}=e;return i!=null&&n!=null?r.subarray(i,n):null},YS=({offset:r,values:e},t)=>{let i=r+t;return(e[i>>3]&1<<i%8)!=0},h_=({values:r},e)=>WS(r,e),p_=({values:r},e)=>zS(r,e*2),fr=({stride:r,values:e},t)=>e[r*t],y_=({stride:r,values:e},t)=>CS.uint16ToFloat64(e[r*t]),Zl=({stride:r,values:e,type:t},i)=>qa.BN.new(e.subarray(r*i,r*(i+1)),t.isSigned),GS=({stride:r,values:e},t)=>e.subarray(r*t,r*(t+1)),KS=({values:r,valueOffsets:e},t)=>f_(r,e,t),$S=({values:r,valueOffsets:e},t)=>{let i=f_(r,e,t);return i!==null?LS.decodeUtf8(i):null},JS=(r,e)=>r.type.bitWidth<64?fr(r,e):Zl(r,e),QS=(r,e)=>r.type.precision!==Ft.Precision.HALF?fr(r,e):y_(r,e),ZS=(r,e)=>r.type.unit===Ft.DateUnit.DAY?h_(r,e):p_(r,e),__=({values:r},e)=>1e3*Ql(r,e*2),m_=({values:r},e)=>Ql(r,e*2),b_=({values:r},e)=>jS(r,e*2),g_=({values:r},e)=>qS(r,e*2),XS=(r,e)=>{switch(r.type.unit){case Ft.TimeUnit.SECOND:return __(r,e);case Ft.TimeUnit.MILLISECOND:return m_(r,e);case Ft.TimeUnit.MICROSECOND:return b_(r,e);case Ft.TimeUnit.NANOSECOND:return g_(r,e)}},v_=({values:r,stride:e},t)=>r[e*t],T_=({values:r,stride:e},t)=>r[e*t],I_=({values:r},e)=>qa.BN.signed(r.subarray(2*e,2*(e+1))),w_=({values:r},e)=>qa.BN.signed(r.subarray(2*e,2*(e+1))),e0=(r,e)=>{switch(r.type.unit){case Ft.TimeUnit.SECOND:return v_(r,e);case Ft.TimeUnit.MILLISECOND:return T_(r,e);case Ft.TimeUnit.MICROSECOND:return I_(r,e);case Ft.TimeUnit.NANOSECOND:return w_(r,e)}},t0=({values:r},e)=>qa.BN.decimal(r.subarray(4*e,4*(e+1))),r0=(r,e)=>{let t=r.getChildAt(0),{valueOffsets:i,stride:n}=r;return t.slice(i[e*n],i[e*n+1])},i0=(r,e)=>r.bind(e),n0=(r,e)=>r.bind(e),s0=(r,e)=>r.type.mode===Ft.UnionMode.Dense?B_(r,e):S_(r,e),B_=(r,e)=>{let t=r.typeIdToChildIndex[r.typeIds[e]],i=r.getChildAt(t);return i?i.get(r.valueOffsets[e]):null},S_=(r,e)=>{let t=r.typeIdToChildIndex[r.typeIds[e]],i=r.getChildAt(t);return i?i.get(e):null},o0=(r,e)=>r.getValue(r.getKey(e)),a0=(r,e)=>r.type.unit===Ft.IntervalUnit.DAY_TIME?A_(r,e):O_(r,e),A_=({values:r},e)=>r.subarray(2*e,2*(e+1)),O_=({values:r},e)=>{let t=r[e],i=new Int32Array(2);return i[0]=t/12|0,i[1]=t%12|0,i},c0=(r,e)=>{let t=r.getChildAt(0),{stride:i}=r;return t.slice(e*i,(e+1)*i)};k.prototype.visitNull=HS;k.prototype.visitBool=YS;k.prototype.visitInt=JS;k.prototype.visitInt8=fr;k.prototype.visitInt16=fr;k.prototype.visitInt32=fr;k.prototype.visitInt64=Zl;k.prototype.visitUint8=fr;k.prototype.visitUint16=fr;k.prototype.visitUint32=fr;k.prototype.visitUint64=Zl;k.prototype.visitFloat=QS;k.prototype.visitFloat16=y_;k.prototype.visitFloat32=fr;k.prototype.visitFloat64=fr;k.prototype.visitUtf8=$S;k.prototype.visitBinary=KS;k.prototype.visitFixedSizeBinary=GS;k.prototype.visitDate=ZS;k.prototype.visitDateDay=h_;k.prototype.visitDateMillisecond=p_;k.prototype.visitTimestamp=XS;k.prototype.visitTimestampSecond=__;k.prototype.visitTimestampMillisecond=m_;k.prototype.visitTimestampMicrosecond=b_;k.prototype.visitTimestampNanosecond=g_;k.prototype.visitTime=e0;k.prototype.visitTimeSecond=v_;k.prototype.visitTimeMillisecond=T_;k.prototype.visitTimeMicrosecond=I_;k.prototype.visitTimeNanosecond=w_;k.prototype.visitDecimal=t0;k.prototype.visitList=r0;k.prototype.visitStruct=n0;k.prototype.visitUnion=s0;k.prototype.visitDenseUnion=B_;k.prototype.visitSparseUnion=S_;k.prototype.visitDictionary=o0;k.prototype.visitInterval=a0;k.prototype.visitIntervalDayTime=A_;k.prototype.visitIntervalYearMonth=O_;k.prototype.visitFixedSizeList=c0;k.prototype.visitMap=i0;Mn.instance=new k});var R_=b(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.instance=Pn.IndexOfVisitor=void 0;var u0=$e(),D_=Zt(),F_=vs(),L=class extends u0.Visitor{};Pn.IndexOfVisitor=L;function l0(r,e){return e===null&&r.length>0?0:-1}function d0(r,e){let{nullBitmap:t}=r.data;if(!t||r.nullCount<=0)return-1;let i=0;for(let n of new D_.BitIterator(t,r.data.offset+(e||0),r.length,t,D_.getBool)){if(!n)return i;++i}return-1}function X(r,e,t){if(e===void 0)return-1;if(e===null)return d0(r,t);let i=F_.createElementComparator(e);for(let n=(t||0)-1,s=r.length;++n<s;)if(i(r.get(n)))return n;return-1}function E_(r,e,t){let i=F_.createElementComparator(e);for(let n=(t||0)-1,s=r.length;++n<s;)if(i(r.get(n)))return n;return-1}L.prototype.visitNull=l0;L.prototype.visitBool=X;L.prototype.visitInt=X;L.prototype.visitInt8=X;L.prototype.visitInt16=X;L.prototype.visitInt32=X;L.prototype.visitInt64=X;L.prototype.visitUint8=X;L.prototype.visitUint16=X;L.prototype.visitUint32=X;L.prototype.visitUint64=X;L.prototype.visitFloat=X;L.prototype.visitFloat16=X;L.prototype.visitFloat32=X;L.prototype.visitFloat64=X;L.prototype.visitUtf8=X;L.prototype.visitBinary=X;L.prototype.visitFixedSizeBinary=X;L.prototype.visitDate=X;L.prototype.visitDateDay=X;L.prototype.visitDateMillisecond=X;L.prototype.visitTimestamp=X;L.prototype.visitTimestampSecond=X;L.prototype.visitTimestampMillisecond=X;L.prototype.visitTimestampMicrosecond=X;L.prototype.visitTimestampNanosecond=X;L.prototype.visitTime=X;L.prototype.visitTimeSecond=X;L.prototype.visitTimeMillisecond=X;L.prototype.visitTimeMicrosecond=X;L.prototype.visitTimeNanosecond=X;L.prototype.visitDecimal=X;L.prototype.visitList=X;L.prototype.visitStruct=X;L.prototype.visitUnion=X;L.prototype.visitDenseUnion=E_;L.prototype.visitSparseUnion=E_;L.prototype.visitDictionary=X;L.prototype.visitInterval=X;L.prototype.visitIntervalDayTime=X;L.prototype.visitIntervalYearMonth=X;L.prototype.visitFixedSizeList=X;L.prototype.visitMap=X;Pn.instance=new L});var ed=b(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.instance=Vn.IteratorVisitor=void 0;var Wa=de(),f0=$e(),h0=Zt(),U_=Xl(),C=class extends f0.Visitor{};Vn.IteratorVisitor=C;function p0(r){let e=U_.instance.getVisitFn(r);return new h0.BitIterator(r.data.nullBitmap,r.data.offset,r.length,r,(t,i,n,s)=>(n&1<<s)!=0?e(t,i):null)}var M_=class{constructor(e,t){this.vector=e,this.getFn=t,this.index=0}next(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};function $(r){if(r.nullCount>0)return p0(r);let{type:e,typeId:t,length:i}=r;return r.stride===1&&(t===Wa.Type.Timestamp||t===Wa.Type.Int&&e.bitWidth!==64||t===Wa.Type.Time&&e.bitWidth!==64||t===Wa.Type.Float&&e.precision>0)?r.data.values.subarray(0,i)[Symbol.iterator]():new M_(r,U_.instance.getVisitFn(r))}C.prototype.visitNull=$;C.prototype.visitBool=$;C.prototype.visitInt=$;C.prototype.visitInt8=$;C.prototype.visitInt16=$;C.prototype.visitInt32=$;C.prototype.visitInt64=$;C.prototype.visitUint8=$;C.prototype.visitUint16=$;C.prototype.visitUint32=$;C.prototype.visitUint64=$;C.prototype.visitFloat=$;C.prototype.visitFloat16=$;C.prototype.visitFloat32=$;C.prototype.visitFloat64=$;C.prototype.visitUtf8=$;C.prototype.visitBinary=$;C.prototype.visitFixedSizeBinary=$;C.prototype.visitDate=$;C.prototype.visitDateDay=$;C.prototype.visitDateMillisecond=$;C.prototype.visitTimestamp=$;C.prototype.visitTimestampSecond=$;C.prototype.visitTimestampMillisecond=$;C.prototype.visitTimestampMicrosecond=$;C.prototype.visitTimestampNanosecond=$;C.prototype.visitTime=$;C.prototype.visitTimeSecond=$;C.prototype.visitTimeMillisecond=$;C.prototype.visitTimeMicrosecond=$;C.prototype.visitTimeNanosecond=$;C.prototype.visitDecimal=$;C.prototype.visitList=$;C.prototype.visitStruct=$;C.prototype.visitUnion=$;C.prototype.visitDenseUnion=$;C.prototype.visitSparseUnion=$;C.prototype.visitDictionary=$;C.prototype.visitInterval=$;C.prototype.visitIntervalDayTime=$;C.prototype.visitIntervalYearMonth=$;C.prototype.visitFixedSizeList=$;C.prototype.visitMap=$;Vn.instance=new C});var P_=b(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.instance=Nn.ToArrayVisitor=void 0;var Es=de(),y0=$e(),_0=ed(),x=class extends y0.Visitor{};Nn.ToArrayVisitor=x;function J(r){let{type:e,length:t,stride:i}=r;switch(e.typeId){case Es.Type.Int:case Es.Type.Float:case Es.Type.Decimal:case Es.Type.Time:case Es.Type.Timestamp:return r.data.values.subarray(0,t*i)}return[..._0.instance.visit(r)]}x.prototype.visitNull=J;x.prototype.visitBool=J;x.prototype.visitInt=J;x.prototype.visitInt8=J;x.prototype.visitInt16=J;x.prototype.visitInt32=J;x.prototype.visitInt64=J;x.prototype.visitUint8=J;x.prototype.visitUint16=J;x.prototype.visitUint32=J;x.prototype.visitUint64=J;x.prototype.visitFloat=J;x.prototype.visitFloat16=J;x.prototype.visitFloat32=J;x.prototype.visitFloat64=J;x.prototype.visitUtf8=J;x.prototype.visitBinary=J;x.prototype.visitFixedSizeBinary=J;x.prototype.visitDate=J;x.prototype.visitDateDay=J;x.prototype.visitDateMillisecond=J;x.prototype.visitTimestamp=J;x.prototype.visitTimestampSecond=J;x.prototype.visitTimestampMillisecond=J;x.prototype.visitTimestampMicrosecond=J;x.prototype.visitTimestampNanosecond=J;x.prototype.visitTime=J;x.prototype.visitTimeSecond=J;x.prototype.visitTimeMillisecond=J;x.prototype.visitTimeMicrosecond=J;x.prototype.visitTimeNanosecond=J;x.prototype.visitDecimal=J;x.prototype.visitList=J;x.prototype.visitStruct=J;x.prototype.visitUnion=J;x.prototype.visitDenseUnion=J;x.prototype.visitSparseUnion=J;x.prototype.visitDictionary=J;x.prototype.visitInterval=J;x.prototype.visitIntervalDayTime=J;x.prototype.visitIntervalYearMonth=J;x.prototype.visitFixedSizeList=J;x.prototype.visitMap=J;Nn.instance=new x});var V_=b(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.instance=kn.ByteWidthVisitor=void 0;var m0=$e(),b0=de(),Rs=(r,e)=>r+e,td=r=>`Cannot compute the byte width of variable-width column ${r}`,rd=class extends m0.Visitor{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(td(e))}visitUtf8(e){throw new Error(td(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return(e.unit+1)*4}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===b0.TimeUnit.SECOND?4:8}visitInterval(e){return(e.unit+1)*4}visitList(e){throw new Error(td(e))}visitStruct(e){return this.visitFields(e.children).reduce(Rs,0)}visitUnion(e){return this.visitFields(e.children).reduce(Rs,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(Rs,0)}visitMap(e){return this.visitFields(e.children).reduce(Rs,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map(t=>this.visit(t.type))}visitSchema(e){return this.visitFields(e.fields).reduce(Rs,0)}};kn.ByteWidthVisitor=rd;kn.instance=new rd});var N_=b(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.instance=Ln.GetVectorConstructor=void 0;var g0=$e(),v0=Il(),T0=wl(),id=Sl(),I0=Al(),w0=Ra(),B0=Dl(),S0=Fl(),za=Ml(),nd=Pl(),Fr=Va(),A0=Wl(),O0=zl(),D0=Hl(),F0=Yl(),Us=Gl(),Ms=Kl(),sd=$l(),E0=Jl(),od=class extends g0.Visitor{visitNull(){return D0.NullVector}visitBool(){return T0.BoolVector}visitInt(){return Fr.IntVector}visitInt8(){return Fr.Int8Vector}visitInt16(){return Fr.Int16Vector}visitInt32(){return Fr.Int32Vector}visitInt64(){return Fr.Int64Vector}visitUint8(){return Fr.Uint8Vector}visitUint16(){return Fr.Uint16Vector}visitUint32(){return Fr.Uint32Vector}visitUint64(){return Fr.Uint64Vector}visitFloat(){return za.FloatVector}visitFloat16(){return za.Float16Vector}visitFloat32(){return za.Float32Vector}visitFloat64(){return za.Float64Vector}visitUtf8(){return E0.Utf8Vector}visitBinary(){return v0.BinaryVector}visitFixedSizeBinary(){return B0.FixedSizeBinaryVector}visitDate(){return id.DateVector}visitDateDay(){return id.DateDayVector}visitDateMillisecond(){return id.DateMillisecondVector}visitTimestamp(){return Us.TimestampVector}visitTimestampSecond(){return Us.TimestampSecondVector}visitTimestampMillisecond(){return Us.TimestampMillisecondVector}visitTimestampMicrosecond(){return Us.TimestampMicrosecondVector}visitTimestampNanosecond(){return Us.TimestampNanosecondVector}visitTime(){return Ms.TimeVector}visitTimeSecond(){return Ms.TimeSecondVector}visitTimeMillisecond(){return Ms.TimeMillisecondVector}visitTimeMicrosecond(){return Ms.TimeMicrosecondVector}visitTimeNanosecond(){return Ms.TimeNanosecondVector}visitDecimal(){return I0.DecimalVector}visitList(){return A0.ListVector}visitStruct(){return F0.StructVector}visitUnion(){return sd.UnionVector}visitDenseUnion(){return sd.DenseUnionVector}visitSparseUnion(){return sd.SparseUnionVector}visitDictionary(){return w0.DictionaryVector}visitInterval(){return nd.IntervalVector}visitIntervalDayTime(){return nd.IntervalDayTimeVector}visitIntervalYearMonth(){return nd.IntervalYearMonthVector}visitFixedSizeList(){return S0.FixedSizeListVector}visitMap(){return O0.MapVector}};Ln.GetVectorConstructor=od;Ln.instance=new od});var ur=b(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.vectorFromValuesWithType=g.StructRow=g.MapRow=g.Utf8Vector=g.SparseUnionVector=g.DenseUnionVector=g.UnionVector=g.TimeNanosecondVector=g.TimeMicrosecondVector=g.TimeMillisecondVector=g.TimeSecondVector=g.TimeVector=g.TimestampNanosecondVector=g.TimestampMicrosecondVector=g.TimestampMillisecondVector=g.TimestampSecondVector=g.TimestampVector=g.StructVector=g.NullVector=g.MapVector=g.ListVector=g.Uint64Vector=g.Uint32Vector=g.Uint16Vector=g.Uint8Vector=g.Int64Vector=g.Int32Vector=g.Int16Vector=g.Int8Vector=g.IntVector=g.IntervalYearMonthVector=g.IntervalDayTimeVector=g.IntervalVector=g.Float64Vector=g.Float32Vector=g.Float16Vector=g.FloatVector=g.FixedSizeListVector=g.FixedSizeBinaryVector=g.DictionaryVector=g.DecimalVector=g.DateMillisecondVector=g.DateDayVector=g.DateVector=g.Chunked=g.BoolVector=g.BinaryVector=g.BaseVector=g.Vector=void 0;var ad=Ze(),R0=De();Object.defineProperty(g,"Vector",{enumerable:!0,get:function(){return R0.Vector}});var U0=Ee();Object.defineProperty(g,"BaseVector",{enumerable:!0,get:function(){return U0.BaseVector}});var M0=Il();Object.defineProperty(g,"BinaryVector",{enumerable:!0,get:function(){return M0.BinaryVector}});var P0=wl();Object.defineProperty(g,"BoolVector",{enumerable:!0,get:function(){return P0.BoolVector}});var V0=ni();Object.defineProperty(g,"Chunked",{enumerable:!0,get:function(){return V0.Chunked}});var cd=Sl();Object.defineProperty(g,"DateVector",{enumerable:!0,get:function(){return cd.DateVector}});Object.defineProperty(g,"DateDayVector",{enumerable:!0,get:function(){return cd.DateDayVector}});Object.defineProperty(g,"DateMillisecondVector",{enumerable:!0,get:function(){return cd.DateMillisecondVector}});var N0=Al();Object.defineProperty(g,"DecimalVector",{enumerable:!0,get:function(){return N0.DecimalVector}});var k0=Ra();Object.defineProperty(g,"DictionaryVector",{enumerable:!0,get:function(){return k0.DictionaryVector}});var L0=Dl();Object.defineProperty(g,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return L0.FixedSizeBinaryVector}});var C0=Fl();Object.defineProperty(g,"FixedSizeListVector",{enumerable:!0,get:function(){return C0.FixedSizeListVector}});var Ha=Ml();Object.defineProperty(g,"FloatVector",{enumerable:!0,get:function(){return Ha.FloatVector}});Object.defineProperty(g,"Float16Vector",{enumerable:!0,get:function(){return Ha.Float16Vector}});Object.defineProperty(g,"Float32Vector",{enumerable:!0,get:function(){return Ha.Float32Vector}});Object.defineProperty(g,"Float64Vector",{enumerable:!0,get:function(){return Ha.Float64Vector}});var ud=Pl();Object.defineProperty(g,"IntervalVector",{enumerable:!0,get:function(){return ud.IntervalVector}});Object.defineProperty(g,"IntervalDayTimeVector",{enumerable:!0,get:function(){return ud.IntervalDayTimeVector}});Object.defineProperty(g,"IntervalYearMonthVector",{enumerable:!0,get:function(){return ud.IntervalYearMonthVector}});var Er=Va();Object.defineProperty(g,"IntVector",{enumerable:!0,get:function(){return Er.IntVector}});Object.defineProperty(g,"Int8Vector",{enumerable:!0,get:function(){return Er.Int8Vector}});Object.defineProperty(g,"Int16Vector",{enumerable:!0,get:function(){return Er.Int16Vector}});Object.defineProperty(g,"Int32Vector",{enumerable:!0,get:function(){return Er.Int32Vector}});Object.defineProperty(g,"Int64Vector",{enumerable:!0,get:function(){return Er.Int64Vector}});Object.defineProperty(g,"Uint8Vector",{enumerable:!0,get:function(){return Er.Uint8Vector}});Object.defineProperty(g,"Uint16Vector",{enumerable:!0,get:function(){return Er.Uint16Vector}});Object.defineProperty(g,"Uint32Vector",{enumerable:!0,get:function(){return Er.Uint32Vector}});Object.defineProperty(g,"Uint64Vector",{enumerable:!0,get:function(){return Er.Uint64Vector}});var x0=Wl();Object.defineProperty(g,"ListVector",{enumerable:!0,get:function(){return x0.ListVector}});var j0=zl();Object.defineProperty(g,"MapVector",{enumerable:!0,get:function(){return j0.MapVector}});var q0=Hl();Object.defineProperty(g,"NullVector",{enumerable:!0,get:function(){return q0.NullVector}});var W0=Yl();Object.defineProperty(g,"StructVector",{enumerable:!0,get:function(){return W0.StructVector}});var Ps=Gl();Object.defineProperty(g,"TimestampVector",{enumerable:!0,get:function(){return Ps.TimestampVector}});Object.defineProperty(g,"TimestampSecondVector",{enumerable:!0,get:function(){return Ps.TimestampSecondVector}});Object.defineProperty(g,"TimestampMillisecondVector",{enumerable:!0,get:function(){return Ps.TimestampMillisecondVector}});Object.defineProperty(g,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return Ps.TimestampMicrosecondVector}});Object.defineProperty(g,"TimestampNanosecondVector",{enumerable:!0,get:function(){return Ps.TimestampNanosecondVector}});var Vs=Kl();Object.defineProperty(g,"TimeVector",{enumerable:!0,get:function(){return Vs.TimeVector}});Object.defineProperty(g,"TimeSecondVector",{enumerable:!0,get:function(){return Vs.TimeSecondVector}});Object.defineProperty(g,"TimeMillisecondVector",{enumerable:!0,get:function(){return Vs.TimeMillisecondVector}});Object.defineProperty(g,"TimeMicrosecondVector",{enumerable:!0,get:function(){return Vs.TimeMicrosecondVector}});Object.defineProperty(g,"TimeNanosecondVector",{enumerable:!0,get:function(){return Vs.TimeNanosecondVector}});var ld=$l();Object.defineProperty(g,"UnionVector",{enumerable:!0,get:function(){return ld.UnionVector}});Object.defineProperty(g,"DenseUnionVector",{enumerable:!0,get:function(){return ld.DenseUnionVector}});Object.defineProperty(g,"SparseUnionVector",{enumerable:!0,get:function(){return ld.SparseUnionVector}});var z0=Jl();Object.defineProperty(g,"Utf8Vector",{enumerable:!0,get:function(){return z0.Utf8Vector}});var k_=bs();Object.defineProperty(g,"MapRow",{enumerable:!0,get:function(){return k_.MapRow}});Object.defineProperty(g,"StructRow",{enumerable:!0,get:function(){return k_.StructRow}});var Ns=l_(),dd=de(),Cn=De(),L_=ni(),Wi=Ee(),H0=Zt(),Ya=Xe(),C_=Be(),x_=Xl(),j_=Bu(),q_=R_(),W_=P_(),z_=ed(),H_=V_(),Y_=N_();Cn.Vector.new=Y0;Cn.Vector.from=K0;function Y0(r,...e){return new(Y_.instance.getVisitFn(r)())(r,...e)}function G0(r,e){if(Ya.isIterable(e))return Cn.Vector.from({nullValues:[null,void 0],type:r(),values:e});if(Ya.isAsyncIterable(e))return Cn.Vector.from({nullValues:[null,void 0],type:r(),values:e});let{values:t=[],type:i=r(),nullValues:n=[null,void 0]}=Object.assign({},e);return Ya.isIterable(t)?Cn.Vector.from(Object.assign(Object.assign({nullValues:n},e),{type:i})):Cn.Vector.from(Object.assign(Object.assign({nullValues:n},e),{type:i}))}g.vectorFromValuesWithType=G0;function K0(r){let e=Object.assign({nullValues:[null,void 0]},r),{values:t=[]}=e,i=ad.__rest(e,["values"]);if(Ya.isIterable(t)){let n=[...C_.Builder.throughIterable(i)(t)];return n.length===1?n[0]:L_.Chunked.concat(n)}return(n=>ad.__awaiter(this,void 0,void 0,function*(){var s,o;let a=C_.Builder.throughAsyncIterable(i);try{for(var u=ad.__asyncValues(a(t)),d;d=yield u.next(),!d.done;){let p=d.value;n.push(p)}}catch(p){s={error:p}}finally{try{d&&!d.done&&(o=u.return)&&(yield o.call(u))}finally{if(s)throw s.error}}return n.length===1?n[0]:L_.Chunked.concat(n)}))([])}Wi.BaseVector.prototype.get=function(e){return x_.instance.visit(this,e)};Wi.BaseVector.prototype.set=function(e,t){return j_.instance.visit(this,e,t)};Wi.BaseVector.prototype.indexOf=function(e,t){return q_.instance.visit(this,e,t)};Wi.BaseVector.prototype.toArray=function(){return W_.instance.visit(this)};Wi.BaseVector.prototype.getByteWidth=function(){return H_.instance.visit(this.type)};Wi.BaseVector.prototype[Symbol.iterator]=function(){return z_.instance.visit(this)};Wi.BaseVector.prototype._bindDataAccessors=Z0;Object.keys(dd.Type).map(r=>dd.Type[r]).filter(r=>typeof r=="number").filter(r=>r!==dd.Type.NONE).forEach(r=>{let e=Y_.instance.visit(r);e.prototype.get=Ns.partial1(x_.instance.getVisitFn(r)),e.prototype.set=Ns.partial2(j_.instance.getVisitFn(r)),e.prototype.indexOf=Ns.partial2(q_.instance.getVisitFn(r)),e.prototype.toArray=Ns.partial0(W_.instance.getVisitFn(r)),e.prototype.getByteWidth=$0(H_.instance.getVisitFn(r)),e.prototype[Symbol.iterator]=Ns.partial0(z_.instance.getVisitFn(r))});function $0(r){return function(){return r(this.type)}}function J0(r){return function(e){return this.isValid(e)?r.call(this,e):null}}function Q0(r){return function(e,t){H0.setBool(this.nullBitmap,this.offset+e,t!=null)&&r.call(this,e,t)}}function Z0(){let r=this.nullBitmap;r&&r.byteLength>0&&(this.get=J0(this.get),this.set=Q0(this.set))}});var Ds=b(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.Table=void 0;var Ga=Ze(),X0=Sn(),eA=ks(),G_=Ba(),fd=Dr(),K_=He(),hd=se(),$_=Vi(),pd=Xe(),J_=gl(),yd=ur(),We=class extends yd.Chunked{constructor(...e){var t;let i=null;e[0]instanceof K_.Schema&&(i=e[0]);let n=e[0]instanceof We?e[0].chunks:$_.selectArgs(fd.RecordBatch,e);if(!i&&!(i=(t=n[0])===null||t===void 0?void 0:t.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");n[0]||(n[0]=new fd._InternalEmptyPlaceholderRecordBatch(i));super(new hd.Struct(i.fields),n);this._schema=i,this._chunks=n}static empty(e=new K_.Schema([])){return new We(e,[])}static from(e){if(!e)return We.empty();if(typeof e=="object"){let i=pd.isIterable(e.values)?tA(e):pd.isAsyncIterable(e.values)?rA(e):null;if(i!==null)return i}let t=eA.RecordBatchReader.from(e);return pd.isPromise(t)?(()=>Ga.__awaiter(this,void 0,void 0,function*(){return yield We.from(yield t)}))():t.isSync()&&(t=t.open())?t.schema?new We(t.schema,[...t]):We.empty():(i=>Ga.__awaiter(this,void 0,void 0,function*(){var n,s;let o=yield i,a=o.schema,u=[];if(a){try{for(var d=Ga.__asyncValues(o),p;p=yield d.next(),!p.done;){let S=p.value;u.push(S)}}catch(S){n={error:S}}finally{try{p&&!p.done&&(s=d.return)&&(yield s.call(d))}finally{if(n)throw n.error}}return new We(a,u)}return We.empty()}))(t.open())}static fromAsync(e){return Ga.__awaiter(this,void 0,void 0,function*(){return yield We.from(e)})}static fromStruct(e){return We.new(e.data.childData,e.type.children)}static new(...e){return new We(...J_.distributeColumnsIntoRecordBatches($_.selectColumnArgs(e)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new We(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex(t=>t.name===e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,i,n=this._schema.fields,s=this._children||(this._children=[]);if(i=s[e])return i;if(t=n[e]){let o=this._chunks.map(a=>a.getChildAt(e)).filter(a=>a!=null);if(o.length>0)return s[e]=new X0.Column(t,o)}return null}serialize(e="binary",t=!0){return(t?G_.RecordBatchStreamWriter:G_.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let t=this._schema.fields.reduce((i,n,s)=>i.set(n.name,s),new Map);return this.selectAt(...e.map(i=>t.get(i)).filter(i=>i>-1))}selectAt(...e){let t=this._schema.selectAt(...e);return new We(t,this._chunks.map(({length:i,data:{childData:n}})=>new fd.RecordBatch(t,i,e.map(s=>n[s]).filter(Boolean))))}assign(e){let t=this._schema.fields,[i,n]=e.schema.fields.reduce((a,u,d)=>{let[p,S]=a,D=t.findIndex(P=>P.name===u.name);return~D?S[D]=d:p.push(d),a},[[],[]]),s=this._schema.assign(e.schema),o=[...t.map((a,u,d,p=n[u])=>p===void 0?this.getColumnAt(u):e.getColumnAt(p)),...i.map(a=>e.getColumnAt(a))].filter(Boolean);return new We(...J_.distributeVectorsIntoRecordBatches(s,o))}};Ka.Table=We;function tA(r){let{type:e}=r;return e instanceof hd.Struct?We.fromStruct(yd.StructVector.from(r)):null}function rA(r){let{type:e}=r;return e instanceof hd.Struct?yd.StructVector.from(r).then(t=>We.fromStruct(t)):null}});var Dr=b(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn._InternalEmptyPlaceholderRecordBatch=xn.RecordBatch=void 0;var _d=kt(),md=Ds(),iA=De(),nA=$e(),sA=He(),oA=Xe(),aA=ni(),cA=Vi(),bd=se(),uA=gl(),lA=ur(),pi=class extends lA.StructVector{constructor(...e){let t,i=e[0],n;if(e[1]instanceof _d.Data)[,t,n]=e;else{let s=i.fields,[,o,a]=e;t=_d.Data.Struct(new bd.Struct(s),0,o,0,null,a)}super(t,n);this._schema=i}static from(e){return oA.isIterable(e.values),md.Table.from(e)}static new(...e){let[t,i]=cA.selectFieldArgs(e),n=i.filter(s=>s instanceof iA.Vector);return new pi(...uA.ensureSameLengthData(new sA.Schema(t),n.map(s=>s.data)))}clone(e,t=this._children){return new pi(this._schema,e,t)}concat(...e){let t=this._schema,i=aA.Chunked.flatten(this,...e);return new md.Table(t,i.map(({data:n})=>new pi(t,n)))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=$a.collect(this))}select(...e){let t=this._schema.fields.reduce((i,n,s)=>i.set(n.name,s),new Map);return this.selectAt(...e.map(i=>t.get(i)).filter(i=>i>-1))}selectAt(...e){let t=this._schema.selectAt(...e),i=e.map(n=>this.data.childData[n]).filter(Boolean);return new pi(t,this.length,i)}};xn.RecordBatch=pi;var Q_=class extends pi{constructor(e){super(e,0,e.fields.map(t=>_d.Data.new(t.type,0,0,0)))}};xn._InternalEmptyPlaceholderRecordBatch=Q_;var $a=class extends nA.Visitor{constructor(){super(...arguments);this.dictionaries=new Map}static collect(e){return new $a().visit(e.data,new bd.Struct(e.schema.fields)).dictionaries}visit(e,t){return bd.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach((i,n)=>this.visit(i,t.children[n].type)),this)}visitDictionary(e,t){let i=e.dictionary;return i&&i.length>0&&this.dictionaries.set(t.id,i),this}}});var ks=b(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.AsyncRecordBatchFileReader=Ut.RecordBatchFileReader=Ut.AsyncRecordBatchStreamReader=Ut.RecordBatchStreamReader=Ut.RecordBatchReader=void 0;var _e=Ze(),Z_=De(),Ja=de(),X_=Vu(),em=os(),tm=ei(),Ls=Lu(),rm=Pp(),gd=Dr(),zi=Qi(),Et=ha(),Rt=Xe(),hr=class extends zi.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return Rt.isPromise(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return em.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return em.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof hr?e:Rt.isArrowJSON(e)?dA(e):Rt.isFileHandle(e)?pA(e):Rt.isPromise(e)?(()=>_e.__awaiter(this,void 0,void 0,function*(){return yield hr.from(yield e)}))():Rt.isFetchResponse(e)||Rt.isReadableDOMStream(e)||Rt.isReadableNodeStream(e)||Rt.isAsyncIterable(e)?hA(new tm.AsyncByteStream(e)):fA(new tm.ByteStream(e))}static readAll(e){return e instanceof hr?e.isSync()?om(e):am(e):Rt.isArrowJSON(e)||ArrayBuffer.isView(e)||Rt.isIterable(e)||Rt.isIteratorResult(e)?om(e):am(e)}};Ut.RecordBatchReader=hr;var jn=class extends hr{constructor(e){super(e);this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return _e.__asyncGenerator(this,arguments,function*(){yield _e.__await(yield*_e.__asyncDelegator(_e.__asyncValues(this[Symbol.iterator]())))})}};Ut.RecordBatchStreamReader=jn;var qn=class extends hr{constructor(e){super(e);this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};Ut.AsyncRecordBatchStreamReader=qn;var Qa=class extends jn{constructor(e){super(e);this._impl=e}};Ut.RecordBatchFileReader=Qa;var vd=class extends qn{constructor(e){super(e);this._impl=e}};Ut.AsyncRecordBatchFileReader=vd;var Td=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){return new gd.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))}_loadDictionaryBatch(e,t){let{id:i,isDelta:n,data:s}=e,{dictionaries:o,schema:a}=this,u=o.get(i);if(n||!u){let d=a.dictionaries.get(i);return u&&n?u.concat(Z_.Vector.new(this._loadVectors(s,t,[d])[0])):Z_.Vector.new(this._loadVectors(s,t,[d])[0])}return u}_loadVectors(e,t,i){return new rm.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}},Cs=class extends Td{constructor(e,t){super(t);this._reader=Rt.isArrowJSON(e)?new Et.JSONMessageReader(this._handle=e):new Et.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=sm(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):zi.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):zi.ITERATOR_DONE}next(){if(this.closed)return zi.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let i=e.header(),n=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(i,n);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let i=e.header(),n=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new gd._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},xs=class extends Td{constructor(e,t){super(t);this._reader=new Et.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return _e.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return _e.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=sm(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return _e.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):zi.ITERATOR_DONE})}return(e){return _e.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):zi.ITERATOR_DONE})}next(){return _e.__awaiter(this,void 0,void 0,function*(){if(this.closed)return zi.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let i=e.header(),n=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(i,n);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let i=e.header(),n=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new gd._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return _e.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},Id=class extends Cs{constructor(e,t){super(e instanceof Ls.RandomAccessFile?e:new Ls.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){let i=this._reader.readMessage(Ja.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let n=i.header(),s=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(n,s)}}return null}_readDictionaryBatch(e){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){let i=this._reader.readMessage(Ja.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let n=i.header(),s=this._reader.readMessageBody(i.bodyLength),o=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,o)}}}_readFooter(){let{_handle:e}=this,t=e.size-Et.magicAndPadding,i=e.readInt32(t),n=e.readAt(t-i,i);return X_.Footer.decode(n)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null}},im=class extends xs{constructor(e,...t){let i=typeof t[0]!="number"?t.shift():void 0,n=t[0]instanceof Map?t.shift():void 0;super(e instanceof Ls.AsyncRandomAccessFile?e:new Ls.AsyncRandomAccessFile(e,i),n)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return _e.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){return _e.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let t=this._footer&&this._footer.getRecordBatch(e);if(t&&(yield this._handle.seek(t.offset))){let i=yield this._reader.readMessage(Ja.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let n=i.header(),s=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(n,s)}}return null})}_readDictionaryBatch(e){return _e.__awaiter(this,void 0,void 0,function*(){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&(yield this._handle.seek(t.offset))){let i=yield this._reader.readMessage(Ja.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let n=i.header(),s=yield this._reader.readMessageBody(i.bodyLength),o=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,o)}}})}_readFooter(){return _e.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-Et.magicAndPadding,i=yield e.readInt32(t),n=yield e.readAt(t-i,i);return X_.Footer.decode(n)})}_readNextMessageAndValidate(e){return _e.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},nm=class extends Cs{constructor(e,t){super(e,t)}_loadVectors(e,t,i){return new rm.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}};function sm(r,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:r.autoDestroy}function*om(r){let e=hr.from(r);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function am(r){return _e.__asyncGenerator(this,arguments,function*(){let t=yield _e.__await(hr.from(r));try{if(!(yield _e.__await(t.open({autoDestroy:!1}))).closed)do yield yield _e.__await(t);while(!(yield _e.__await(t.reset().open())).closed)}finally{yield _e.__await(t.cancel())}})}function dA(r){return new jn(new nm(r))}function fA(r){let e=r.peek(Et.magicLength+7&~7);return e&&e.byteLength>=4?Et.checkForMagicArrowString(e)?new Qa(new Id(r.read())):new jn(new Cs(r)):new jn(new Cs(function*(){}()))}function hA(r){return _e.__awaiter(this,void 0,void 0,function*(){let e=yield r.peek(Et.magicLength+7&~7);return e&&e.byteLength>=4?Et.checkForMagicArrowString(e)?new Qa(new Id(yield r.read())):new qn(new xs(r)):new qn(new xs(function(){return _e.__asyncGenerator(this,arguments,function*(){})}()))})}function pA(r){return _e.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield r.stat(),t=new Ls.AsyncRandomAccessFile(r,e);return e>=Et.magicX2AndPadding&&Et.checkForMagicArrowString(yield t.readAt(0,Et.magicLength+7&~7))?new vd(new im(t)):new qn(new xs(t))})}});var lm=b(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.toDOMStream=void 0;var Za=Ze(),cm=xe(),um=Xe();function yA(r,e){if(um.isAsyncIterable(r))return mA(r,e);if(um.isIterable(r))return _A(r,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}Xa.toDOMStream=yA;function _A(r,e){let t=null,i=(e==null?void 0:e.type)==="bytes"||!1,n=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=r[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:i?n:void 0},e));function s(o,a){let u,d=null,p=o.desiredSize||null;for(;!(d=a.next(i?p:null)).done;)if(ArrayBuffer.isView(d.value)&&(u=cm.toUint8Array(d.value))&&(p!=null&&i&&(p=p-u.byteLength+1),d.value=u),o.enqueue(d.value),p!=null&&--p<=0)return;o.close()}}function mA(r,e){let t=null,i=(e==null?void 0:e.type)==="bytes"||!1,n=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return Za.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=r[Symbol.asyncIterator]()))})},pull(o){return Za.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return Za.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:i?n:void 0},e));function s(o,a){return Za.__awaiter(this,void 0,void 0,function*(){let u,d=null,p=o.desiredSize||null;for(;!(d=yield a.next(i?p:null)).done;)if(ArrayBuffer.isView(d.value)&&(u=cm.toUint8Array(d.value))&&(p!=null&&i&&(p=p-u.byteLength+1),d.value=u),o.enqueue(d.value),p!=null&&--p<=0)return;o.close()})}}});var hm=b(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.BuilderTransform=Wn.builderThroughDOMStream=void 0;var bA=Ze(),gA=Xo();function vA(r){return new wd(r)}Wn.builderThroughDOMStream=vA;var wd=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:i,["queueingStrategy"]:n="count"}=e,s=bA.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=gA.Builder.new(s),this._getSize=n!=="bytes"?dm:fm;let{["highWaterMark"]:o=n==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=n==="bytes"?Math.pow(2,14):1e3}=Object.assign({},i);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:u=>{this._maybeFlush(this._builder,this._controller=u)},start:u=>{this._maybeFlush(this._builder,this._controller=u)}},{highWaterMark:o,size:n!=="bytes"?dm:fm}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:u=>this._writeValueAndReturnChunkSize(u)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!==null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t===null?e.close():e.enqueue(t)}};Wn.BuilderTransform=wd;var dm=r=>r.length,fm=r=>r.byteLength});var pm=b(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.recordBatchReaderThroughDOMStream=void 0;var js=Ze(),TA=ei(),IA=ks();function wA(r,e){let t=new TA.AsyncByteQueue,i=null,n=new ReadableStream({cancel(){return js.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return js.__awaiter(this,void 0,void 0,function*(){yield o(a,i||(i=yield s()))})},pull(a){return js.__awaiter(this,void 0,void 0,function*(){i?yield o(a,i):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},r)),readable:n};function s(){return js.__awaiter(this,void 0,void 0,function*(){return yield(yield IA.RecordBatchReader.from(t)).open(e)})}function o(a,u){return js.__awaiter(this,void 0,void 0,function*(){let d=a.desiredSize,p=null;for(;!(p=yield u.next()).done;)if(a.enqueue(p.value),d!=null&&--d<=0)return;a.close()})}}ec.recordBatchReaderThroughDOMStream=wA});var ym=b(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.recordBatchWriterThroughDOMStream=void 0;var tc=Ze(),BA=ei();function SA(r,e){let t=new this(r),i=new BA.AsyncByteStream(t),n=new ReadableStream({type:"bytes",cancel(){return tc.__awaiter(this,void 0,void 0,function*(){yield i.cancel()})},pull(o){return tc.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return tc.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,r),readable:n};function s(o){return tc.__awaiter(this,void 0,void 0,function*(){let a=null,u=o.desiredSize;for(;a=yield i.read(u||null);)if(o.enqueue(a),u!=null&&(u-=a.byteLength)<=0)return;o.close()})}}rc.recordBatchWriterThroughDOMStream=SA});var Fd=b(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.custom=ee.or=ee.and=ee.col=ee.lit=ee.CustomPredicate=ee.Not=ee.GTeq=ee.LTeq=ee.Equals=ee.Or=ee.And=ee.CombinationPredicate=ee.ComparisonPredicate=ee.Predicate=ee.Col=ee.Literal=ee.Value=void 0;var AA=Ra(),yi=class{eq(e){return e instanceof yi||(e=new Rr(e)),new Sd(this,e)}le(e){return e instanceof yi||(e=new Rr(e)),new Ad(this,e)}ge(e){return e instanceof yi||(e=new Rr(e)),new Od(this,e)}lt(e){return new Gn(this.ge(e))}gt(e){return new Gn(this.le(e))}ne(e){return new Gn(this.eq(e))}};ee.Value=yi;var Rr=class extends yi{constructor(e){super();this.v=e}};ee.Literal=Rr;var Bd=class extends yi{constructor(e){super();this.name=e}bind(e){if(!this.colidx){this.colidx=-1;let i=e.schema.fields;for(let n=-1;++n<i.length;)if(i[n].name===this.name){this.colidx=n;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}let t=this.vector=e.getChildAt(this.colidx);return i=>t.get(i)}};ee.Col=Bd;var zn=class{and(...e){return new Hn(this,...e)}or(...e){return new Yn(this,...e)}not(){return new Gn(this)}};ee.Predicate=zn;var qs=class extends zn{constructor(e,t){super();this.left=e,this.right=t}bind(e){return this.left instanceof Rr?this.right instanceof Rr?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof Rr?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}};ee.ComparisonPredicate=qs;var Ws=class extends zn{constructor(...e){super();this.children=e}};ee.CombinationPredicate=Ws;Ws.prototype.children=Object.freeze([]);var Hn=class extends Ws{constructor(...e){e=e.reduce((t,i)=>t.concat(i instanceof Hn?i.children:i),[]);super(...e)}bind(e){let t=this.children.map(i=>i.bind(e));return(i,n)=>t.every(s=>s(i,n))}};ee.And=Hn;var Yn=class extends Ws{constructor(...e){e=e.reduce((t,i)=>t.concat(i instanceof Yn?i.children:i),[]);super(...e)}bind(e){let t=this.children.map(i=>i.bind(e));return(i,n)=>t.some(s=>s(i,n))}};ee.Or=Yn;var Sd=class extends qs{_bindLitLit(e,t,i){let n=t.v==i.v;return()=>n}_bindColCol(e,t,i){let n=t.bind(e),s=i.bind(e);return(o,a)=>n(o,a)==s(o,a)}_bindColLit(e,t,i){let n=t.bind(e);if(t.vector instanceof AA.DictionaryVector){let s,o=t.vector;return o.dictionary!==this.lastDictionary?(s=o.reverseLookup(i.v),this.lastDictionary=o.dictionary,this.lastKey=s):s=this.lastKey,s===-1?()=>!1:a=>o.getKey(a)===s}else return(s,o)=>n(s,o)==i.v}_bindLitCol(e,t,i){return this._bindColLit(e,i,t)}};ee.Equals=Sd;var Ad=class extends qs{_bindLitLit(e,t,i){let n=t.v<=i.v;return()=>n}_bindColCol(e,t,i){let n=t.bind(e),s=i.bind(e);return(o,a)=>n(o,a)<=s(o,a)}_bindColLit(e,t,i){let n=t.bind(e);return(s,o)=>n(s,o)<=i.v}_bindLitCol(e,t,i){let n=i.bind(e);return(s,o)=>t.v<=n(s,o)}};ee.LTeq=Ad;var Od=class extends qs{_bindLitLit(e,t,i){let n=t.v>=i.v;return()=>n}_bindColCol(e,t,i){let n=t.bind(e),s=i.bind(e);return(o,a)=>n(o,a)>=s(o,a)}_bindColLit(e,t,i){let n=t.bind(e);return(s,o)=>n(s,o)>=i.v}_bindLitCol(e,t,i){let n=i.bind(e);return(s,o)=>t.v>=n(s,o)}};ee.GTeq=Od;var Gn=class extends zn{constructor(e){super();this.child=e}bind(e){let t=this.child.bind(e);return(i,n)=>!t(i,n)}};ee.Not=Gn;var Dd=class extends zn{constructor(e,t){super();this.next=e,this.bind_=t}bind(e){return this.bind_(e),this.next}};ee.CustomPredicate=Dd;function OA(r){return new Rr(r)}ee.lit=OA;function DA(r){return new Bd(r)}ee.col=DA;function FA(...r){return new Hn(...r)}ee.and=FA;function EA(...r){return new Yn(...r)}ee.or=EA;function RA(r,e){return new Dd(r,e)}ee.custom=RA});var Tm=b(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.FilteredDataFrame=_i.CountByResult=_i.DataFrame=void 0;var _m=Ds(),mm=Va(),Ed=He(),bm=Fd(),UA=Dr(),gm=se(),Rd=class extends _m.Table{filter(e){return new zs(this.chunks,e)}scan(e,t){let i=this.chunks,n=i.length;for(let s=-1;++s<n;){let o=i[s];t&&t(o);for(let a=-1,u=o.length;++a<u;)e(a,o)}}scanReverse(e,t){let i=this.chunks,n=i.length;for(let s=n;--s>=0;){let o=i[s];t&&t(o);for(let a=o.length;--a>=0;)e(a,o)}}countBy(e){let t=this.chunks,i=t.length,n=typeof e=="string"?new bm.Col(e):e;n.bind(t[i-1]);let s=n.vector;if(!gm.DataType.isDictionary(s.type))throw new Error("countBy currently only supports dictionary-encoded columns");let o=Math.ceil(Math.log(s.length)/Math.log(256)),a=o==4?Uint32Array:o>=2?Uint16Array:Uint8Array,u=new a(s.dictionary.length);for(let d=-1;++d<i;){let p=t[d];n.bind(p);let S=n.vector.indices;for(let D=-1,P=p.length;++D<P;){let Te=S.get(D);Te!==null&&u[Te]++}}return new ic(s.dictionary,mm.IntVector.from(u))}};_i.DataFrame=Rd;var ic=class extends _m.Table{constructor(e,t){let i=new Ed.Schema([new Ed.Field("values",e.type),new Ed.Field("counts",t.type)]);super(new UA.RecordBatch(i,t.length,[e,t]))}toJSON(){let e=this.getColumnAt(0),t=this.getColumnAt(1),i={};for(let n=-1;++n<this.length;)i[e.get(n)]=t.get(n);return i}};_i.CountByResult=ic;var vm=class{constructor(e,t){this.batches=e,this.predicate=t,this.batchIndex=0,this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch)}next(){for(;this.batchIndex<this.batches.length;){for(;this.index<this.batch.length;){if(this.predicateFunc(this.index,this.batch))return{value:this.batch.get(this.index++)};this.index++}++this.batchIndex<this.batches.length&&(this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch))}return{done:!0,value:null}}[Symbol.iterator](){return this}},zs=class extends Rd{constructor(e,t){super(e);this._predicate=t}scan(e,t){let i=this._chunks,n=i.length;for(let s=-1;++s<n;){let o=i[s],a=this._predicate.bind(o),u=!1;for(let d=-1,p=o.length;++d<p;)a(d,o)&&(t&&!u&&(t(o),u=!0),e(d,o))}}scanReverse(e,t){let i=this._chunks,n=i.length;for(let s=n;--s>=0;){let o=i[s],a=this._predicate.bind(o),u=!1;for(let d=o.length;--d>=0;)a(d,o)&&(t&&!u&&(t(o),u=!0),e(d,o))}}count(){let e=0,t=this._chunks,i=t.length;for(let n=-1;++n<i;){let s=t[n],o=this._predicate.bind(s);for(let a=-1,u=s.length;++a<u;)o(a,s)&&++e}return e}[Symbol.iterator](){return new vm(this._chunks,this._predicate)}filter(e){return new zs(this._chunks,this._predicate.and(e))}countBy(e){let t=this._chunks,i=t.length,n=typeof e=="string"?new bm.Col(e):e;n.bind(t[i-1]);let s=n.vector;if(!gm.DataType.isDictionary(s.type))throw new Error("countBy currently only supports dictionary-encoded columns");let o=Math.ceil(Math.log(s.length)/Math.log(256)),a=o==4?Uint32Array:o>=2?Uint16Array:Uint8Array,u=new a(s.dictionary.length);for(let d=-1;++d<i;){let p=t[d],S=this._predicate.bind(p);n.bind(p);let D=n.vector.indices;for(let P=-1,Te=p.length;++P<Te;){let he=D.get(P);he!==null&&S(P,p)&&u[he]++}}return new ic(s.dictionary,mm.IntVector.from(u))}};_i.FilteredDataFrame=zs});var Bm=b(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.isTypedArray=c.util=c.predicate=c.CountByResult=c.FilteredDataFrame=c.DataFrame=c.RecordBatch=c.Message=c.JSONMessageReader=c.AsyncMessageReader=c.MessageReader=c.RecordBatchJSONWriter=c.RecordBatchStreamWriter=c.RecordBatchFileWriter=c.RecordBatchWriter=c.AsyncRecordBatchStreamReader=c.AsyncRecordBatchFileReader=c.RecordBatchStreamReader=c.RecordBatchFileReader=c.RecordBatchReader=c.AsyncByteQueue=c.AsyncByteStream=c.ByteStream=c.Utf8Builder=c.SparseUnionBuilder=c.DenseUnionBuilder=c.UnionBuilder=c.TimeNanosecondBuilder=c.TimeMicrosecondBuilder=c.TimeMillisecondBuilder=c.TimeSecondBuilder=c.TimeBuilder=c.TimestampNanosecondBuilder=c.TimestampMicrosecondBuilder=c.TimestampMillisecondBuilder=c.TimestampSecondBuilder=c.TimestampBuilder=c.StructBuilder=c.NullBuilder=c.MapBuilder=c.ListBuilder=c.Uint64Builder=c.Uint32Builder=c.Uint16Builder=c.Uint8Builder=c.Int64Builder=c.Int32Builder=c.Int16Builder=c.Int8Builder=c.IntBuilder=c.IntervalYearMonthBuilder=c.IntervalDayTimeBuilder=c.IntervalBuilder=c.Float64Builder=c.Float32Builder=c.Float16Builder=c.FloatBuilder=c.FixedSizeListBuilder=c.FixedSizeBinaryBuilder=c.DictionaryBuilder=c.DecimalBuilder=c.DateMillisecondBuilder=c.DateDayBuilder=c.DateBuilder=c.BoolBuilder=c.BinaryBuilder=c.Builder=c.Utf8Vector=c.SparseUnionVector=c.DenseUnionVector=c.UnionVector=c.TimeNanosecondVector=c.TimeMicrosecondVector=c.TimeMillisecondVector=c.TimeSecondVector=c.TimeVector=c.TimestampNanosecondVector=c.TimestampMicrosecondVector=c.TimestampMillisecondVector=c.TimestampSecondVector=c.TimestampVector=c.StructVector=c.NullVector=c.MapVector=c.ListVector=c.Uint64Vector=c.Uint32Vector=c.Uint16Vector=c.Uint8Vector=c.Int64Vector=c.Int32Vector=c.Int16Vector=c.Int8Vector=c.IntVector=c.IntervalYearMonthVector=c.IntervalDayTimeVector=c.IntervalVector=c.Float64Vector=c.Float32Vector=c.Float16Vector=c.FloatVector=c.FixedSizeListVector=c.FixedSizeBinaryVector=c.DictionaryVector=c.DecimalVector=c.DateMillisecondVector=c.DateDayVector=c.DateVector=c.Chunked=c.BoolVector=c.BinaryVector=c.BaseVector=c.Vector=c.Field=c.Schema=c.Visitor=c.Column=c.Table=c.Map_=c.FixedSizeList=c.IntervalYearMonth=c.IntervalDayTime=c.Interval=c.Dictionary=c.SparseUnion=c.DenseUnion=c.Union=c.Struct=c.List=c.Decimal=c.TimeNanosecond=c.TimeMicrosecond=c.TimeMillisecond=c.TimeSecond=c.Time=c.TimestampNanosecond=c.TimestampMicrosecond=c.TimestampMillisecond=c.TimestampSecond=c.Timestamp=c.DateMillisecond=c.DateDay=c.Date_=c.FixedSizeBinary=c.Binary=c.Utf8=c.Float64=c.Float32=c.Float16=c.Float=c.Uint64=c.Uint32=c.Uint16=c.Uint8=c.Int64=c.Int32=c.Int16=c.Int8=c.Int=c.Bool=c.Null=c.DataType=c.Data=c.BufferType=c.Type=c.MessageHeader=c.MetadataVersion=c.IntervalUnit=c.UnionMode=c.Precision=c.TimeUnit=c.DateUnit=void 0;var Kn=jr();Object.defineProperty(c,"DateUnit",{enumerable:!0,get:function(){return Kn.DateUnit}});Object.defineProperty(c,"TimeUnit",{enumerable:!0,get:function(){return Kn.TimeUnit}});Object.defineProperty(c,"Precision",{enumerable:!0,get:function(){return Kn.Precision}});Object.defineProperty(c,"UnionMode",{enumerable:!0,get:function(){return Kn.UnionMode}});Object.defineProperty(c,"IntervalUnit",{enumerable:!0,get:function(){return Kn.IntervalUnit}});Object.defineProperty(c,"MetadataVersion",{enumerable:!0,get:function(){return Kn.MetadataVersion}});var MA=ho();Object.defineProperty(c,"MessageHeader",{enumerable:!0,get:function(){return MA.MessageHeader}});var Im=de();Object.defineProperty(c,"Type",{enumerable:!0,get:function(){return Im.Type}});Object.defineProperty(c,"BufferType",{enumerable:!0,get:function(){return Im.BufferType}});var PA=kt();Object.defineProperty(c,"Data",{enumerable:!0,get:function(){return PA.Data}});var Y=se();Object.defineProperty(c,"DataType",{enumerable:!0,get:function(){return Y.DataType}});Object.defineProperty(c,"Null",{enumerable:!0,get:function(){return Y.Null}});Object.defineProperty(c,"Bool",{enumerable:!0,get:function(){return Y.Bool}});Object.defineProperty(c,"Int",{enumerable:!0,get:function(){return Y.Int}});Object.defineProperty(c,"Int8",{enumerable:!0,get:function(){return Y.Int8}});Object.defineProperty(c,"Int16",{enumerable:!0,get:function(){return Y.Int16}});Object.defineProperty(c,"Int32",{enumerable:!0,get:function(){return Y.Int32}});Object.defineProperty(c,"Int64",{enumerable:!0,get:function(){return Y.Int64}});Object.defineProperty(c,"Uint8",{enumerable:!0,get:function(){return Y.Uint8}});Object.defineProperty(c,"Uint16",{enumerable:!0,get:function(){return Y.Uint16}});Object.defineProperty(c,"Uint32",{enumerable:!0,get:function(){return Y.Uint32}});Object.defineProperty(c,"Uint64",{enumerable:!0,get:function(){return Y.Uint64}});Object.defineProperty(c,"Float",{enumerable:!0,get:function(){return Y.Float}});Object.defineProperty(c,"Float16",{enumerable:!0,get:function(){return Y.Float16}});Object.defineProperty(c,"Float32",{enumerable:!0,get:function(){return Y.Float32}});Object.defineProperty(c,"Float64",{enumerable:!0,get:function(){return Y.Float64}});Object.defineProperty(c,"Utf8",{enumerable:!0,get:function(){return Y.Utf8}});Object.defineProperty(c,"Binary",{enumerable:!0,get:function(){return Y.Binary}});Object.defineProperty(c,"FixedSizeBinary",{enumerable:!0,get:function(){return Y.FixedSizeBinary}});Object.defineProperty(c,"Date_",{enumerable:!0,get:function(){return Y.Date_}});Object.defineProperty(c,"DateDay",{enumerable:!0,get:function(){return Y.DateDay}});Object.defineProperty(c,"DateMillisecond",{enumerable:!0,get:function(){return Y.DateMillisecond}});Object.defineProperty(c,"Timestamp",{enumerable:!0,get:function(){return Y.Timestamp}});Object.defineProperty(c,"TimestampSecond",{enumerable:!0,get:function(){return Y.TimestampSecond}});Object.defineProperty(c,"TimestampMillisecond",{enumerable:!0,get:function(){return Y.TimestampMillisecond}});Object.defineProperty(c,"TimestampMicrosecond",{enumerable:!0,get:function(){return Y.TimestampMicrosecond}});Object.defineProperty(c,"TimestampNanosecond",{enumerable:!0,get:function(){return Y.TimestampNanosecond}});Object.defineProperty(c,"Time",{enumerable:!0,get:function(){return Y.Time}});Object.defineProperty(c,"TimeSecond",{enumerable:!0,get:function(){return Y.TimeSecond}});Object.defineProperty(c,"TimeMillisecond",{enumerable:!0,get:function(){return Y.TimeMillisecond}});Object.defineProperty(c,"TimeMicrosecond",{enumerable:!0,get:function(){return Y.TimeMicrosecond}});Object.defineProperty(c,"TimeNanosecond",{enumerable:!0,get:function(){return Y.TimeNanosecond}});Object.defineProperty(c,"Decimal",{enumerable:!0,get:function(){return Y.Decimal}});Object.defineProperty(c,"List",{enumerable:!0,get:function(){return Y.List}});Object.defineProperty(c,"Struct",{enumerable:!0,get:function(){return Y.Struct}});Object.defineProperty(c,"Union",{enumerable:!0,get:function(){return Y.Union}});Object.defineProperty(c,"DenseUnion",{enumerable:!0,get:function(){return Y.DenseUnion}});Object.defineProperty(c,"SparseUnion",{enumerable:!0,get:function(){return Y.SparseUnion}});Object.defineProperty(c,"Dictionary",{enumerable:!0,get:function(){return Y.Dictionary}});Object.defineProperty(c,"Interval",{enumerable:!0,get:function(){return Y.Interval}});Object.defineProperty(c,"IntervalDayTime",{enumerable:!0,get:function(){return Y.IntervalDayTime}});Object.defineProperty(c,"IntervalYearMonth",{enumerable:!0,get:function(){return Y.IntervalYearMonth}});Object.defineProperty(c,"FixedSizeList",{enumerable:!0,get:function(){return Y.FixedSizeList}});Object.defineProperty(c,"Map_",{enumerable:!0,get:function(){return Y.Map_}});var VA=Ds();Object.defineProperty(c,"Table",{enumerable:!0,get:function(){return VA.Table}});var NA=Sn();Object.defineProperty(c,"Column",{enumerable:!0,get:function(){return NA.Column}});var kA=$e();Object.defineProperty(c,"Visitor",{enumerable:!0,get:function(){return kA.Visitor}});var wm=He();Object.defineProperty(c,"Schema",{enumerable:!0,get:function(){return wm.Schema}});Object.defineProperty(c,"Field",{enumerable:!0,get:function(){return wm.Field}});var j=ur();Object.defineProperty(c,"Vector",{enumerable:!0,get:function(){return j.Vector}});Object.defineProperty(c,"BaseVector",{enumerable:!0,get:function(){return j.BaseVector}});Object.defineProperty(c,"BinaryVector",{enumerable:!0,get:function(){return j.BinaryVector}});Object.defineProperty(c,"BoolVector",{enumerable:!0,get:function(){return j.BoolVector}});Object.defineProperty(c,"Chunked",{enumerable:!0,get:function(){return j.Chunked}});Object.defineProperty(c,"DateVector",{enumerable:!0,get:function(){return j.DateVector}});Object.defineProperty(c,"DateDayVector",{enumerable:!0,get:function(){return j.DateDayVector}});Object.defineProperty(c,"DateMillisecondVector",{enumerable:!0,get:function(){return j.DateMillisecondVector}});Object.defineProperty(c,"DecimalVector",{enumerable:!0,get:function(){return j.DecimalVector}});Object.defineProperty(c,"DictionaryVector",{enumerable:!0,get:function(){return j.DictionaryVector}});Object.defineProperty(c,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return j.FixedSizeBinaryVector}});Object.defineProperty(c,"FixedSizeListVector",{enumerable:!0,get:function(){return j.FixedSizeListVector}});Object.defineProperty(c,"FloatVector",{enumerable:!0,get:function(){return j.FloatVector}});Object.defineProperty(c,"Float16Vector",{enumerable:!0,get:function(){return j.Float16Vector}});Object.defineProperty(c,"Float32Vector",{enumerable:!0,get:function(){return j.Float32Vector}});Object.defineProperty(c,"Float64Vector",{enumerable:!0,get:function(){return j.Float64Vector}});Object.defineProperty(c,"IntervalVector",{enumerable:!0,get:function(){return j.IntervalVector}});Object.defineProperty(c,"IntervalDayTimeVector",{enumerable:!0,get:function(){return j.IntervalDayTimeVector}});Object.defineProperty(c,"IntervalYearMonthVector",{enumerable:!0,get:function(){return j.IntervalYearMonthVector}});Object.defineProperty(c,"IntVector",{enumerable:!0,get:function(){return j.IntVector}});Object.defineProperty(c,"Int8Vector",{enumerable:!0,get:function(){return j.Int8Vector}});Object.defineProperty(c,"Int16Vector",{enumerable:!0,get:function(){return j.Int16Vector}});Object.defineProperty(c,"Int32Vector",{enumerable:!0,get:function(){return j.Int32Vector}});Object.defineProperty(c,"Int64Vector",{enumerable:!0,get:function(){return j.Int64Vector}});Object.defineProperty(c,"Uint8Vector",{enumerable:!0,get:function(){return j.Uint8Vector}});Object.defineProperty(c,"Uint16Vector",{enumerable:!0,get:function(){return j.Uint16Vector}});Object.defineProperty(c,"Uint32Vector",{enumerable:!0,get:function(){return j.Uint32Vector}});Object.defineProperty(c,"Uint64Vector",{enumerable:!0,get:function(){return j.Uint64Vector}});Object.defineProperty(c,"ListVector",{enumerable:!0,get:function(){return j.ListVector}});Object.defineProperty(c,"MapVector",{enumerable:!0,get:function(){return j.MapVector}});Object.defineProperty(c,"NullVector",{enumerable:!0,get:function(){return j.NullVector}});Object.defineProperty(c,"StructVector",{enumerable:!0,get:function(){return j.StructVector}});Object.defineProperty(c,"TimestampVector",{enumerable:!0,get:function(){return j.TimestampVector}});Object.defineProperty(c,"TimestampSecondVector",{enumerable:!0,get:function(){return j.TimestampSecondVector}});Object.defineProperty(c,"TimestampMillisecondVector",{enumerable:!0,get:function(){return j.TimestampMillisecondVector}});Object.defineProperty(c,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return j.TimestampMicrosecondVector}});Object.defineProperty(c,"TimestampNanosecondVector",{enumerable:!0,get:function(){return j.TimestampNanosecondVector}});Object.defineProperty(c,"TimeVector",{enumerable:!0,get:function(){return j.TimeVector}});Object.defineProperty(c,"TimeSecondVector",{enumerable:!0,get:function(){return j.TimeSecondVector}});Object.defineProperty(c,"TimeMillisecondVector",{enumerable:!0,get:function(){return j.TimeMillisecondVector}});Object.defineProperty(c,"TimeMicrosecondVector",{enumerable:!0,get:function(){return j.TimeMicrosecondVector}});Object.defineProperty(c,"TimeNanosecondVector",{enumerable:!0,get:function(){return j.TimeNanosecondVector}});Object.defineProperty(c,"UnionVector",{enumerable:!0,get:function(){return j.UnionVector}});Object.defineProperty(c,"DenseUnionVector",{enumerable:!0,get:function(){return j.DenseUnionVector}});Object.defineProperty(c,"SparseUnionVector",{enumerable:!0,get:function(){return j.SparseUnionVector}});Object.defineProperty(c,"Utf8Vector",{enumerable:!0,get:function(){return j.Utf8Vector}});var G=Xo();Object.defineProperty(c,"Builder",{enumerable:!0,get:function(){return G.Builder}});Object.defineProperty(c,"BinaryBuilder",{enumerable:!0,get:function(){return G.BinaryBuilder}});Object.defineProperty(c,"BoolBuilder",{enumerable:!0,get:function(){return G.BoolBuilder}});Object.defineProperty(c,"DateBuilder",{enumerable:!0,get:function(){return G.DateBuilder}});Object.defineProperty(c,"DateDayBuilder",{enumerable:!0,get:function(){return G.DateDayBuilder}});Object.defineProperty(c,"DateMillisecondBuilder",{enumerable:!0,get:function(){return G.DateMillisecondBuilder}});Object.defineProperty(c,"DecimalBuilder",{enumerable:!0,get:function(){return G.DecimalBuilder}});Object.defineProperty(c,"DictionaryBuilder",{enumerable:!0,get:function(){return G.DictionaryBuilder}});Object.defineProperty(c,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return G.FixedSizeBinaryBuilder}});Object.defineProperty(c,"FixedSizeListBuilder",{enumerable:!0,get:function(){return G.FixedSizeListBuilder}});Object.defineProperty(c,"FloatBuilder",{enumerable:!0,get:function(){return G.FloatBuilder}});Object.defineProperty(c,"Float16Builder",{enumerable:!0,get:function(){return G.Float16Builder}});Object.defineProperty(c,"Float32Builder",{enumerable:!0,get:function(){return G.Float32Builder}});Object.defineProperty(c,"Float64Builder",{enumerable:!0,get:function(){return G.Float64Builder}});Object.defineProperty(c,"IntervalBuilder",{enumerable:!0,get:function(){return G.IntervalBuilder}});Object.defineProperty(c,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return G.IntervalDayTimeBuilder}});Object.defineProperty(c,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return G.IntervalYearMonthBuilder}});Object.defineProperty(c,"IntBuilder",{enumerable:!0,get:function(){return G.IntBuilder}});Object.defineProperty(c,"Int8Builder",{enumerable:!0,get:function(){return G.Int8Builder}});Object.defineProperty(c,"Int16Builder",{enumerable:!0,get:function(){return G.Int16Builder}});Object.defineProperty(c,"Int32Builder",{enumerable:!0,get:function(){return G.Int32Builder}});Object.defineProperty(c,"Int64Builder",{enumerable:!0,get:function(){return G.Int64Builder}});Object.defineProperty(c,"Uint8Builder",{enumerable:!0,get:function(){return G.Uint8Builder}});Object.defineProperty(c,"Uint16Builder",{enumerable:!0,get:function(){return G.Uint16Builder}});Object.defineProperty(c,"Uint32Builder",{enumerable:!0,get:function(){return G.Uint32Builder}});Object.defineProperty(c,"Uint64Builder",{enumerable:!0,get:function(){return G.Uint64Builder}});Object.defineProperty(c,"ListBuilder",{enumerable:!0,get:function(){return G.ListBuilder}});Object.defineProperty(c,"MapBuilder",{enumerable:!0,get:function(){return G.MapBuilder}});Object.defineProperty(c,"NullBuilder",{enumerable:!0,get:function(){return G.NullBuilder}});Object.defineProperty(c,"StructBuilder",{enumerable:!0,get:function(){return G.StructBuilder}});Object.defineProperty(c,"TimestampBuilder",{enumerable:!0,get:function(){return G.TimestampBuilder}});Object.defineProperty(c,"TimestampSecondBuilder",{enumerable:!0,get:function(){return G.TimestampSecondBuilder}});Object.defineProperty(c,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return G.TimestampMillisecondBuilder}});Object.defineProperty(c,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return G.TimestampMicrosecondBuilder}});Object.defineProperty(c,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return G.TimestampNanosecondBuilder}});Object.defineProperty(c,"TimeBuilder",{enumerable:!0,get:function(){return G.TimeBuilder}});Object.defineProperty(c,"TimeSecondBuilder",{enumerable:!0,get:function(){return G.TimeSecondBuilder}});Object.defineProperty(c,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return G.TimeMillisecondBuilder}});Object.defineProperty(c,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return G.TimeMicrosecondBuilder}});Object.defineProperty(c,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return G.TimeNanosecondBuilder}});Object.defineProperty(c,"UnionBuilder",{enumerable:!0,get:function(){return G.UnionBuilder}});Object.defineProperty(c,"DenseUnionBuilder",{enumerable:!0,get:function(){return G.DenseUnionBuilder}});Object.defineProperty(c,"SparseUnionBuilder",{enumerable:!0,get:function(){return G.SparseUnionBuilder}});Object.defineProperty(c,"Utf8Builder",{enumerable:!0,get:function(){return G.Utf8Builder}});var Ud=ei();Object.defineProperty(c,"ByteStream",{enumerable:!0,get:function(){return Ud.ByteStream}});Object.defineProperty(c,"AsyncByteStream",{enumerable:!0,get:function(){return Ud.AsyncByteStream}});Object.defineProperty(c,"AsyncByteQueue",{enumerable:!0,get:function(){return Ud.AsyncByteQueue}});var Hs=ks();Object.defineProperty(c,"RecordBatchReader",{enumerable:!0,get:function(){return Hs.RecordBatchReader}});Object.defineProperty(c,"RecordBatchFileReader",{enumerable:!0,get:function(){return Hs.RecordBatchFileReader}});Object.defineProperty(c,"RecordBatchStreamReader",{enumerable:!0,get:function(){return Hs.RecordBatchStreamReader}});Object.defineProperty(c,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return Hs.AsyncRecordBatchFileReader}});Object.defineProperty(c,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return Hs.AsyncRecordBatchStreamReader}});var nc=Ba();Object.defineProperty(c,"RecordBatchWriter",{enumerable:!0,get:function(){return nc.RecordBatchWriter}});Object.defineProperty(c,"RecordBatchFileWriter",{enumerable:!0,get:function(){return nc.RecordBatchFileWriter}});Object.defineProperty(c,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return nc.RecordBatchStreamWriter}});Object.defineProperty(c,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return nc.RecordBatchJSONWriter}});var Md=ha();Object.defineProperty(c,"MessageReader",{enumerable:!0,get:function(){return Md.MessageReader}});Object.defineProperty(c,"AsyncMessageReader",{enumerable:!0,get:function(){return Md.AsyncMessageReader}});Object.defineProperty(c,"JSONMessageReader",{enumerable:!0,get:function(){return Md.JSONMessageReader}});var LA=Li();Object.defineProperty(c,"Message",{enumerable:!0,get:function(){return LA.Message}});var CA=Dr();Object.defineProperty(c,"RecordBatch",{enumerable:!0,get:function(){return CA.RecordBatch}});var Pd=Tm();Object.defineProperty(c,"DataFrame",{enumerable:!0,get:function(){return Pd.DataFrame}});Object.defineProperty(c,"FilteredDataFrame",{enumerable:!0,get:function(){return Pd.FilteredDataFrame}});Object.defineProperty(c,"CountByResult",{enumerable:!0,get:function(){return Pd.CountByResult}});var xA=fs(),jA=xu(),qA=Zt(),WA=cs(),zA=xe(),HA=vs(),YA=Fd();c.predicate=YA;var Vd=nl();c.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xA),jA),qA),WA),zA),HA),{compareSchemas:Vd.compareSchemas,compareFields:Vd.compareFields,compareTypes:Vd.compareTypes});var GA=Vi();Object.defineProperty(c,"isTypedArray",{enumerable:!0,get:function(){return GA.isTypedArray}})});var ac=b(()=>{});var jd=b(()=>{});var XA={};cv(XA,{registerWorker:()=>Pm});var Sm=_r(os()),Am=_r(Xo()),$n=_r(ks()),Jn=_r(Ba()),Om=_r(lm()),Dm=_r(hm()),sc=_r(pm()),oc=_r(ym()),f=_r(Bm());Sm.default.toDOMStream=Om.toDOMStream;Am.Builder.throughDOM=Dm.builderThroughDOMStream;$n.RecordBatchReader.throughDOM=sc.recordBatchReaderThroughDOMStream;$n.RecordBatchFileReader.throughDOM=sc.recordBatchReaderThroughDOMStream;$n.RecordBatchStreamReader.throughDOM=sc.recordBatchReaderThroughDOMStream;Jn.RecordBatchWriter.throughDOM=oc.recordBatchWriterThroughDOMStream;Jn.RecordBatchFileWriter.throughDOM=oc.recordBatchWriterThroughDOMStream;Jn.RecordBatchStreamWriter.throughDOM=oc.recordBatchWriterThroughDOMStream;var Nd;(function(s){s[s.NONE=0]="NONE",s[s.DEBUG=1]="DEBUG",s[s.INFO=2]="INFO",s[s.WARNING=3]="WARNING",s[s.ERROR=4]="ERROR"})(Nd||(Nd={}));var kd;(function(s){s[s.NONE=0]="NONE",s[s.CONNECT=1]="CONNECT",s[s.DISCONNECT=2]="DISCONNECT",s[s.OPEN=3]="OPEN",s[s.QUERY=4]="QUERY"})(kd||(kd={}));var Ld;(function(o){o[o.NONE=0]="NONE",o[o.OK=1]="OK",o[o.ERROR=2]="ERROR",o[o.START=3]="START",o[o.RUN=4]="RUN",o[o.CAPTURE=5]="CAPTURE"})(Ld||(Ld={}));var Cd;(function(s){s[s.NONE=0]="NONE",s[s.WEB_WORKER=1]="WEB_WORKER",s[s.NODE_WORKER=2]="NODE_WORKER",s[s.BINDINGS=3]="BINDINGS",s[s.ASYNC_DUCKDB=4]="ASYNC_DUCKDB"})(Cd||(Cd={}));var KA=class{constructor(e,t,i){this.db=e;this.conn=t;this.header=i;this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}};var ne;(function(R){R.CLOSE_PREPARED="CLOSE_PREPARED",R.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",R.CONNECT="CONNECT",R.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",R.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",R.CREATE_PREPARED="CREATE_PREPARED",R.DISCONNECT="DISCONNECT",R.DROP_FILE="DROP_FILE",R.DROP_FILES="DROP_FILES",R.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",R.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",R.FLUSH_FILES="FLUSH_FILES",R.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",R.GET_VERSION="GET_VERSION",R.GLOB_FILE_INFOS="GLOB_FILE_INFOS",R.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",R.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",R.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",R.INSTANTIATE="INSTANTIATE",R.OPEN="OPEN",R.PING="PING",R.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",R.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",R.REGISTER_FILE_URL="REGISTER_FILE_URL",R.RESET="RESET",R.RUN_PREPARED="RUN_PREPARED",R.RUN_QUERY="RUN_QUERY",R.SEND_PREPARED="SEND_PREPARED",R.SEND_QUERY="SEND_QUERY",R.TOKENIZE="TOKENIZE"})(ne||(ne={}));var Re;(function(Q){Q.CONNECTION_INFO="CONNECTION_INFO",Q.ERROR="ERROR",Q.FEATURE_FLAGS="FEATURE_FLAGS",Q.FILE_BUFFER="FILE_BUFFER",Q.FILE_INFOS="FILE_INFOS",Q.FILE_SIZE="FILE_SIZE",Q.FILE_STATISTICS="FILE_STATISTICS",Q.LOG="LOG",Q.OK="OK",Q.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",Q.QUERY_PLAN="QUERY_PLAN",Q.QUERY_RESULT="QUERY_RESULT",Q.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",Q.QUERY_START="QUERY_START",Q.REGISTERED_FILE="REGISTERED_FILE",Q.SCRIPT_TOKENS="SCRIPT_TOKENS",Q.SUCCESS="SUCCESS",Q.VERSION_STRING="VERSION_STRING"})(Re||(Re={}));function Qn(r,e){switch(e.typeId){case f.Type.Binary:return{name:r,type:"binary"};case f.Type.Bool:return{name:r,type:"bool"};case f.Type.Date:return{name:r,type:"date"};case f.Type.DateDay:return{name:r,type:"date32[d]"};case f.Type.DateMillisecond:return{name:r,type:"date64[ms]"};case f.Type.Decimal:{let t=e;return{name:r,type:"decimal",precision:t.precision,scale:t.scale}}case f.Type.Float:return{name:r,type:"float"};case f.Type.Float16:return{name:r,type:"float16"};case f.Type.Float32:return{name:r,type:"float32"};case f.Type.Float64:return{name:r,type:"float64"};case f.Type.Int:return{name:r,type:"int32"};case f.Type.Int16:return{name:r,type:"int16"};case f.Type.Int32:return{name:r,type:"int32"};case f.Type.Int64:return{name:r,type:"int64"};case f.Type.Uint16:return{name:r,type:"uint16"};case f.Type.Uint32:return{name:r,type:"uint32"};case f.Type.Uint64:return{name:r,type:"uint64"};case f.Type.Uint8:return{name:r,type:"uint8"};case f.Type.IntervalDayTime:return{name:r,type:"interval[dt]"};case f.Type.IntervalYearMonth:return{name:r,type:"interval[m]"};case f.Type.List:{let t=e;return{name:r,type:"list",children:[Qn(t.valueField.name,t.valueField.type)]}}case f.Type.FixedSizeBinary:return{name:r,type:"fixedsizebinary",byteWidth:e.byteWidth};case f.Type.Null:return{name:r,type:"null"};case f.Type.Utf8:return{name:r,type:"utf8"};case f.Type.Struct:return{name:r,type:"struct",children:e.children.map(i=>Qn(i.name,i.type))};case f.Type.Time:return{name:r,type:"time[s]"};case f.Type.TimeMicrosecond:return{name:r,type:"time[us]"};case f.Type.TimeMillisecond:return{name:r,type:"time[ms]"};case f.Type.TimeNanosecond:return{name:r,type:"time[ns]"};case f.Type.TimeSecond:return{name:r,type:"time[s]"};case f.Type.Timestamp:return{name:r,type:"timestamp",timezone:e.timezone||void 0};case f.Type.TimestampSecond:return{name:r,type:"timestamp[s]",timezone:e.timezone||void 0};case f.Type.TimestampMicrosecond:return{name:r,type:"timestamp[us]",timezone:e.timezone||void 0};case f.Type.TimestampNanosecond:return{name:r,type:"timestamp[ns]",timezone:e.timezone||void 0};case f.Type.TimestampMillisecond:return{name:r,type:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error(`unsupported arrow type: ${e.toString()}`)}var yF=new TextEncoder;var xd=class{constructor(){this._bindings=null;this._nextMessageId=0}log(e){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:Re.LOG,data:e},[])}sendOK(e){this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.OK,data:null},[])}failWith(e,t){let i={name:t.name,message:t.message,stack:t.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.ERROR,data:i},[])}async onMessage(e){switch(e.type){case ne.PING:this.sendOK(e);return;case ne.INSTANTIATE:this._bindings!=null&&this.failWith(e,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(e.data[0],e.data[1]),this.sendOK(e)}catch(t){this._bindings=null,this.failWith(e,t)}return;default:break}if(!this._bindings)return this.failWith(e,new Error("duckdb is not initialized"));try{switch(e.type){case ne.GET_VERSION:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.VERSION_STRING,data:this._bindings.getVersion()},[]);break;case ne.GET_FEATURE_FLAGS:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.FEATURE_FLAGS,data:this._bindings.getFeatureFlags()},[]);break;case ne.RESET:this._bindings.reset(),this.sendOK(e);break;case ne.OPEN:this._bindings.open(e.data),this.sendOK(e);break;case ne.DROP_FILE:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.SUCCESS,data:this._bindings.dropFile(e.data)},[]);break;case ne.DROP_FILES:this._bindings.dropFiles(),this.sendOK(e);break;case ne.FLUSH_FILES:this._bindings.flushFiles(),this.sendOK(e);break;case ne.CONNECT:{let t=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.CONNECTION_INFO,data:t.useUnsafe((i,n)=>n)},[]);break}case ne.DISCONNECT:this._bindings.disconnect(e.data),this.sendOK(e);break;case ne.CREATE_PREPARED:{let t=this._bindings.createPrepared(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.PREPARED_STATEMENT_ID,data:t},[]);break}case ne.CLOSE_PREPARED:{this._bindings.closePrepared(e.data[0],e.data[1]),this.sendOK(e);break}case ne.RUN_PREPARED:{let t=this._bindings.runPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.QUERY_RESULT,data:t},[t.buffer]);break}case ne.RUN_QUERY:{let t=this._bindings.runQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.QUERY_RESULT,data:t},[t.buffer]);break}case ne.SEND_PREPARED:{let t=this._bindings.sendPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.QUERY_START,data:t},[t.buffer]);break}case ne.SEND_QUERY:{let t=this._bindings.sendQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.QUERY_START,data:t},[t.buffer]);break}case ne.FETCH_QUERY_RESULTS:{let t=this._bindings.fetchQueryResults(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.QUERY_RESULT_CHUNK,data:t},[t.buffer]);break}case ne.GLOB_FILE_INFOS:{let t=this._bindings.globFiles(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.FILE_INFOS,data:t},[]);break}case ne.REGISTER_FILE_URL:this._bindings.registerFileURL(e.data[0],e.data[1]),this.sendOK(e);break;case ne.REGISTER_FILE_BUFFER:this._bindings.registerFileBuffer(e.data[0],e.data[1]),this.sendOK(e);break;case ne.REGISTER_FILE_HANDLE:this._bindings.registerFileHandle(e.data[0],e.data[1]),this.sendOK(e);break;case ne.COPY_FILE_TO_PATH:this._bindings.copyFileToPath(e.data[0],e.data[1]),this.sendOK(e);break;case ne.COPY_FILE_TO_BUFFER:{let t=this._bindings.copyFileToBuffer(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.FILE_BUFFER,data:t},[]);break}case ne.COLLECT_FILE_STATISTICS:this._bindings.collectFileStatistics(e.data[0],e.data[1]),this.sendOK(e);break;case ne.EXPORT_FILE_STATISTICS:{this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.FILE_STATISTICS,data:this._bindings.exportFileStatistics(e.data)},[]);break}case ne.INSERT_ARROW_FROM_IPC_STREAM:{this._bindings.insertArrowFromIPCStream(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case ne.INSERT_CSV_FROM_PATH:{this._bindings.insertCSVFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case ne.INSERT_JSON_FROM_PATH:{this._bindings.insertJSONFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case ne.TOKENIZE:{let t=this._bindings.tokenize(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Re.SCRIPT_TOKENS,data:t},[]);break}}}catch(t){return this.failWith(e,t)}}};var Em={},$A=function(){var r=Em.url;return function(e){e=e||{};var t=typeof e!="undefined"?e:{},i,n;t.ready=new Promise(function(l,h){i=l,n=h});var s={},o;for(o in t)t.hasOwnProperty(o)&&(s[o]=t[o]);var a=[],u="./this.program",d=function(l,h){throw h},p=typeof window=="object",S=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",P="";function Te(l){return t.locateFile?t.locateFile(l,P):P+l}var he,Mt,tt,Q;function Vm(l){if(!(l instanceof ro)){var h=l;mi("exiting due to exception: "+h)}}var Hi,Yi;D?(S?P=ac().dirname(P)+"/":P=__dirname+"/",he=function(h,_){return Hi||(Hi=jd()),Yi||(Yi=ac()),h=Yi.normalize(h),Hi.readFileSync(h,_?null:"utf8")},tt=function(h){var _=he(h,!0);return _.buffer||(_=new Uint8Array(_)),Kd(_.buffer),_},Mt=function(h,_,I){Hi||(Hi=jd()),Yi||(Yi=ac()),h=Yi.normalize(h),Hi.readFile(h,function(q,Z){q?I(q):_(Z.buffer)})},process.argv.length>1&&(u=process.argv[1].replace(/\\/g,"/")),a=process.argv.slice(2),process.on("uncaughtException",function(l){if(!(l instanceof ro))throw l}),process.on("unhandledRejection",function(l){throw l}),d=function(l,h){if(lc())throw process.exitCode=l,h;Vm(h),process.exit(l)},t.inspect=function(){return"[Emscripten Module object]"}):(p||S)&&(S?P=self.location.href:typeof document!="undefined"&&document.currentScript&&(P=document.currentScript.src),r&&(P=r),P.indexOf("blob:")!==0?P=P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):P="",he=function(l){var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},S&&(tt=function(l){var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Mt=function(l,h,_){var I=new XMLHttpRequest;I.open("GET",l,!0),I.responseType="arraybuffer",I.onload=function(){if(I.status==200||I.status==0&&I.response){h(I.response);return}_()},I.onerror=_,I.send(null)},Q=function(l){document.title=l});var Nm=t.print||console.log.bind(console),mi=t.printErr||console.warn.bind(console);for(o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);s=null,t.arguments&&(a=t.arguments),t.thisProgram&&(u=t.thisProgram),t.quit&&(d=t.quit);var Xn;t.wasmBinary&&(Xn=t.wasmBinary);var km=t.noExitRuntime||!0;typeof WebAssembly!="object"&&pr("no native wasm support detected");var Ys,cc=!1,Gs;function Kd(l,h){l||pr("Assertion failed: "+h)}function R(l){var h=t["_"+l];return Kd(h,"Cannot call unknown function "+l+", make sure it is exported"),h}function Lm(l,h,_,I,q){var Z={string:function(Le){var yr=0;if(Le!=null&&Le!==0){var is=(Le.length<<2)+1;yr=yc(is),Cm(Le,yr,is)}return yr},array:function(Le){var yr=yc(Le.length);return Zd(Le,yr),yr}};function H(Le){return h==="string"?Ks(Le):h==="boolean"?Boolean(Le):Le}var K=R(l),ge=[],Wt=0;if(I)for(var zt=0;zt<I.length;zt++){var rs=Z[_[zt]];rs?(Wt===0&&(Wt=cf()),ge[zt]=rs(I[zt])):ge[zt]=I[zt]}var rt=K.apply(null,ge);function Ht(Le){return Wt!==0&&uf(Wt),H(Le)}return rt=Ht(rt),rt}var $d=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function Jd(l,h,_){for(var I=h+_,q=h;l[q]&&!(q>=I);)++q;if(q-h>16&&l.subarray&&$d)return $d.decode(l.subarray(h,q));for(var Z="";h<q;){var H=l[h++];if(!(H&128)){Z+=String.fromCharCode(H);continue}var K=l[h++]&63;if((H&224)==192){Z+=String.fromCharCode((H&31)<<6|K);continue}var ge=l[h++]&63;if((H&240)==224?H=(H&15)<<12|K<<6|ge:H=(H&7)<<18|K<<12|ge<<6|l[h++]&63,H<65536)Z+=String.fromCharCode(H);else{var Wt=H-65536;Z+=String.fromCharCode(55296|Wt>>10,56320|Wt&1023)}}return Z}function Ks(l,h){return l?Jd(Ki,l,h):""}function Qd(l,h,_,I){if(!(I>0))return 0;for(var q=_,Z=_+I-1,H=0;H<l.length;++H){var K=l.charCodeAt(H);if(K>=55296&&K<=57343){var ge=l.charCodeAt(++H);K=65536+((K&1023)<<10)|ge&1023}if(K<=127){if(_>=Z)break;h[_++]=K}else if(K<=2047){if(_+1>=Z)break;h[_++]=192|K>>6,h[_++]=128|K&63}else if(K<=65535){if(_+2>=Z)break;h[_++]=224|K>>12,h[_++]=128|K>>6&63,h[_++]=128|K&63}else{if(_+3>=Z)break;h[_++]=240|K>>18,h[_++]=128|K>>12&63,h[_++]=128|K>>6&63,h[_++]=128|K&63}}return h[_]=0,_-q}function Cm(l,h,_){return Qd(l,Ki,h,_)}function xm(l){for(var h=0,_=0;_<l.length;++_){var I=l.charCodeAt(_);I>=55296&&I<=57343&&(I=65536+((I&1023)<<10)|l.charCodeAt(++_)&1023),I<=127?++h:I<=2047?h+=2:I<=65535?h+=3:h+=4}return h}function Zd(l,h){Gi.set(l,h)}function jm(l,h,_){for(var I=0;I<l.length;++I)Gi[h++>>0]=l.charCodeAt(I);_||(Gi[h>>0]=0)}function qm(l,h){return l%h>0&&(l+=h-l%h),l}var Xd,Gi,Ki,Wm,zm,pe,Hm,Ym,Gm;function ef(l){Xd=l,t.HEAP8=Gi=new Int8Array(l),t.HEAP16=Wm=new Int16Array(l),t.HEAP32=pe=new Int32Array(l),t.HEAPU8=Ki=new Uint8Array(l),t.HEAPU16=zm=new Uint16Array(l),t.HEAPU32=Hm=new Uint32Array(l),t.HEAPF32=Ym=new Float32Array(l),t.HEAPF64=Gm=new Float64Array(l)}var eO=t.INITIAL_MEMORY||16777216,uc,tf=[],rf=[],Km=[],nf=[],$m=!1,Jm=!1,Qm=0;function lc(){return km||Qm>0}function Zm(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)ib(t.preRun.shift());$s(tf)}function Xm(){$m=!0,$s(rf)}function eb(){$s(Km)}function tb(){Jm=!0}function rb(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)sb(t.postRun.shift());$s(nf)}function ib(l){tf.unshift(l)}function nb(l){rf.unshift(l)}function sb(l){nf.unshift(l)}var bi=0,dc=null,es=null;function ob(l){bi++,t.monitorRunDependencies&&t.monitorRunDependencies(bi)}function ab(l){if(bi--,t.monitorRunDependencies&&t.monitorRunDependencies(bi),bi==0&&(dc!==null&&(clearInterval(dc),dc=null),es)){var h=es;es=null,h()}}t.preloadedImages={},t.preloadedAudios={};function pr(l){t.onAbort&&t.onAbort(l),l="Aborted("+l+")",mi(l),cc=!0,Gs=1,l+=". Build with -s ASSERTIONS=1 for more info.";var h=new WebAssembly.RuntimeError(l);throw n(h),h}var cb="data:application/octet-stream;base64,";function sf(l){return l.startsWith(cb)}var ft;t.locateFile?(ft="./duckdb-wasm-next.wasm",sf(ft)||(ft=Te(ft))):ft=new URL("duckdb_wasm.wasm",Em.url).toString();function of(l){try{if(l==ft&&Xn)return new Uint8Array(Xn);if(tt)return tt(l);throw"both async and sync fetching of the wasm failed"}catch(h){pr(h)}}function ub(){return!Xn&&(p||S)&&typeof fetch=="function"?fetch(ft,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+ft+"'";return l.arrayBuffer()}).catch(function(){return of(ft)}):Promise.resolve().then(function(){return of(ft)})}function lb(){var l={a:dg};function h(H,K){var ge=H.exports;t.asm=ge,Ys=t.asm.V,ef(Ys.buffer),uc=t.asm.Y,nb(t.asm.W),ab("wasm-instantiate")}ob("wasm-instantiate");function _(H){h(H.instance)}function I(H){return ub().then(function(K){return WebAssembly.instantiate(K,l)}).then(function(K){return K}).then(H,function(K){mi("failed to asynchronously prepare wasm: "+K),pr(K)})}function q(){return!Xn&&typeof WebAssembly.instantiateStreaming=="function"&&!sf(ft)&&typeof fetch=="function"?fetch(ft,{credentials:"same-origin"}).then(function(H){var K=WebAssembly.instantiateStreaming(H,l);return K.then(_,function(ge){return mi("wasm streaming compile failed: "+ge),mi("falling back to ArrayBuffer instantiation"),I(_)})}):I(_)}if(t.instantiateWasm)try{var Z=t.instantiateWasm(l,h);return Z}catch(H){return mi("Module.instantiateWasm callback failed with error: "+H),!1}return q().catch(n),{}}function $s(l){for(;l.length>0;){var h=l.shift();if(typeof h=="function"){h(t);continue}var _=h.func;typeof _=="number"?h.arg===void 0?uc.get(_)():uc.get(_)(h.arg):_(h.arg===void 0?null:h.arg)}}function db(l){if(l instanceof ro||l=="unwind")return Gs;d(1,l)}var ze={mappings:{},buffers:[null,[],[]],printChar:function(l,h){var _=ze.buffers[l];h===0||h===10?((l===1?Nm:mi)(Jd(_,0)),_.length=0):_.push(h)},varargs:void 0,get:function(){ze.varargs+=4;var l=pe[ze.varargs-4>>2];return l},getStr:function(l){var h=Ks(l);return h},get64:function(l,h){return l}};function fb(l,h){return l=ze.getStr(l),ze.doAccess(l,h)}function hb(l){return pe[af()>>2]=l,l}function pb(l,h,_){return ze.varargs=_,0}function yb(l,h){}function _b(l,h,_,I){}function mb(l,h,_){}function bb(){return 42}function gb(l,h,_){return ze.varargs=_,0}function vb(l,h,_){return 0}function Tb(l,h){return l=ze.getStr(l),ze.doMkdir(l,h)}function Ib(l,h,_){ze.varargs=_}function wb(l,h){}function Bb(l){}function Sb(l,h){}function Ab(l){}function Ob(l,h){pr("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function Db(l,h){pr("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function Fb(){pr("")}var fc;D?fc=function(){var l=process.hrtime();return l[0]*1e3+l[1]/1e6}:fc=function(){return performance.now()};var Eb=!0;function Rb(l,h){var _;if(l===0)_=Date.now();else if((l===1||l===4)&&Eb)_=fc();else return hb(28),-1;return pe[h>>2]=_/1e3|0,pe[h+4>>2]=_%1e3*1e3*1e3|0,0}function Ub(l,h){return globalThis.DUCKDB_RUNTIME.createDirectory(t,l,h)}function Mb(l,h){return globalThis.DUCKDB_RUNTIME.checkDirectory(t,l,h)}function Pb(l,h){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(t,l,h)}function Vb(l,h){return globalThis.DUCKDB_RUNTIME.removeDirectory(t,l,h)}function Nb(l){return globalThis.DUCKDB_RUNTIME.closeFile(t,l)}function kb(l,h){return globalThis.DUCKDB_RUNTIME.checkFile(t,l,h)}function Lb(l){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(t,l)}function Cb(l,h,_,I){return globalThis.DUCKDB_RUNTIME.moveFile(t,l,h,_,I)}function xb(l){return globalThis.DUCKDB_RUNTIME.openFile(t,l)}function jb(l,h,_,I){return globalThis.DUCKDB_RUNTIME.readFile(t,l,h,_,I)}function qb(l,h){return globalThis.DUCKDB_RUNTIME.truncateFile(t,l,h)}function Wb(l,h,_,I){return globalThis.DUCKDB_RUNTIME.writeFile(t,l,h,_,I)}function zb(l,h){return globalThis.DUCKDB_RUNTIME.glob(t,l,h)}function Hb(l){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(t,l)}function Yb(){return 2147483648}function Gb(l,h,_){Ki.copyWithin(l,h,h+_)}function Kb(l){try{return Ys.grow(l-Xd.byteLength+65535>>>16),ef(Ys.buffer),1}catch(h){}}function $b(l){var h=Ki.length;l=l>>>0;var _=2147483648;if(l>_)return!1;for(var I=1;I<=4;I*=2){var q=h*(1+.2/I);q=Math.min(q,l+100663296);var Z=Math.min(_,qm(Math.max(l,q),65536)),H=Kb(Z);if(H)return!0}return!1}var hc={};function Jb(){return u||"./this.program"}function ts(){if(!ts.strings){var l=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:l,_:Jb()};for(var _ in hc)hc[_]===void 0?delete h[_]:h[_]=hc[_];var I=[];for(var _ in h)I.push(_+"="+h[_]);ts.strings=I}return ts.strings}function Qb(l,h){var _=0;return ts().forEach(function(I,q){var Z=h+_;pe[l+q*4>>2]=Z,jm(I,Z),_+=I.length+1}),0}function Zb(l,h){var _=ts();pe[l>>2]=_.length;var I=0;return _.forEach(function(q){I+=q.length+1}),pe[h>>2]=I,0}function Xb(l){return 0}function eg(l,h){var _=l==1||l==2?2:pr();return Gi[h>>0]=_,0}function tg(l,h,_,I,q,Z){var H=ze.getStreamFromFD(l),K=ze.doReadv(H,h,_,I);return pe[Z>>2]=K,0}function rg(l,h,_,I,q,Z){var H=ze.getStreamFromFD(l),K=ze.doWritev(H,h,_,I);return pe[Z>>2]=K,0}function ig(l,h,_,I){var q=ze.getStreamFromFD(l),Z=ze.doReadv(q,h,_);return pe[I>>2]=Z,0}function ng(l,h,_,I,q){}function sg(l){var h=ze.getStreamFromFD(l);return h.stream_ops&&h.stream_ops.fsync?-h.stream_ops.fsync(h):0}function og(l,h,_,I){for(var q=0,Z=0;Z<_;Z++){for(var H=pe[h+Z*8>>2],K=pe[h+(Z*8+4)>>2],ge=0;ge<K;ge++)ze.printChar(l,Ki[H+ge]);q+=K}return pe[I>>2]=q,0}function ag(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var l=new Uint8Array(1);return function(){return crypto.getRandomValues(l),l[0]}}else if(D)try{var h=av("crypto");return function(){return h.randomBytes(1)[0]}}catch(_){}return function(){pr("randomDevice")}}function Js(l,h){Js.randomDevice||(Js.randomDevice=ag());for(var _=0;_<h;_++)Gi[l+_>>0]=Js.randomDevice();return 0}function Qs(l){return l%4==0&&(l%100!=0||l%400==0)}function pc(l,h){for(var _=0,I=0;I<=h;_+=l[I++]);return _}var Zs=[31,29,31,30,31,30,31,31,30,31,30,31],Xs=[31,28,31,30,31,30,31,31,30,31,30,31];function eo(l,h){for(var _=new Date(l.getTime());h>0;){var I=Qs(_.getFullYear()),q=_.getMonth(),Z=(I?Zs:Xs)[q];if(h>Z-_.getDate())h-=Z-_.getDate()+1,_.setDate(1),q<11?_.setMonth(q+1):(_.setMonth(0),_.setFullYear(_.getFullYear()+1));else return _.setDate(_.getDate()+h),_}return _}function cg(l,h,_,I){var q=pe[I+40>>2],Z={tm_sec:pe[I>>2],tm_min:pe[I+4>>2],tm_hour:pe[I+8>>2],tm_mday:pe[I+12>>2],tm_mon:pe[I+16>>2],tm_year:pe[I+20>>2],tm_wday:pe[I+24>>2],tm_yday:pe[I+28>>2],tm_isdst:pe[I+32>>2],tm_gmtoff:pe[I+36>>2],tm_zone:q?Ks(q):""},H=Ks(_),K={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in K)H=H.replace(new RegExp(ge,"g"),K[ge]);var Wt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],zt=["January","February","March","April","May","June","July","August","September","October","November","December"];function rs(w,V,Ce){for(var le=typeof w=="number"?w.toString():w||"";le.length<V;)le=Ce[0]+le;return le}function rt(w,V){return rs(w,V,"0")}function Ht(w,V){function Ce(Yt){return Yt<0?-1:Yt>0?1:0}var le;return(le=Ce(w.getFullYear()-V.getFullYear()))===0&&(le=Ce(w.getMonth()-V.getMonth()))===0&&(le=Ce(w.getDate()-V.getDate())),le}function Le(w){switch(w.getDay()){case 0:return new Date(w.getFullYear()-1,11,29);case 1:return w;case 2:return new Date(w.getFullYear(),0,3);case 3:return new Date(w.getFullYear(),0,2);case 4:return new Date(w.getFullYear(),0,1);case 5:return new Date(w.getFullYear()-1,11,31);case 6:return new Date(w.getFullYear()-1,11,30)}}function yr(w){var V=eo(new Date(w.tm_year+1900,0,1),w.tm_yday),Ce=new Date(V.getFullYear(),0,4),le=new Date(V.getFullYear()+1,0,4),Yt=Le(Ce),Mr=Le(le);return Ht(Yt,V)<=0?Ht(Mr,V)<=0?V.getFullYear()+1:V.getFullYear():V.getFullYear()-1}var is={"%a":function(w){return Wt[w.tm_wday].substring(0,3)},"%A":function(w){return Wt[w.tm_wday]},"%b":function(w){return zt[w.tm_mon].substring(0,3)},"%B":function(w){return zt[w.tm_mon]},"%C":function(w){var V=w.tm_year+1900;return rt(V/100|0,2)},"%d":function(w){return rt(w.tm_mday,2)},"%e":function(w){return rs(w.tm_mday,2," ")},"%g":function(w){return yr(w).toString().substring(2)},"%G":function(w){return yr(w)},"%H":function(w){return rt(w.tm_hour,2)},"%I":function(w){var V=w.tm_hour;return V==0?V=12:V>12&&(V-=12),rt(V,2)},"%j":function(w){return rt(w.tm_mday+pc(Qs(w.tm_year+1900)?Zs:Xs,w.tm_mon-1),3)},"%m":function(w){return rt(w.tm_mon+1,2)},"%M":function(w){return rt(w.tm_min,2)},"%n":function(){return`
`},"%p":function(w){return w.tm_hour>=0&&w.tm_hour<12?"AM":"PM"},"%S":function(w){return rt(w.tm_sec,2)},"%t":function(){return"	"},"%u":function(w){return w.tm_wday||7},"%U":function(w){var V=new Date(w.tm_year+1900,0,1),Ce=V.getDay()===0?V:eo(V,7-V.getDay()),le=new Date(w.tm_year+1900,w.tm_mon,w.tm_mday);if(Ht(Ce,le)<0){var Yt=pc(Qs(le.getFullYear())?Zs:Xs,le.getMonth()-1)-31,Mr=31-Ce.getDate(),gi=Mr+Yt+le.getDate();return rt(Math.ceil(gi/7),2)}return Ht(Ce,V)===0?"01":"00"},"%V":function(w){var V=new Date(w.tm_year+1900,0,4),Ce=new Date(w.tm_year+1901,0,4),le=Le(V),Yt=Le(Ce),Mr=eo(new Date(w.tm_year+1900,0,1),w.tm_yday);if(Ht(Mr,le)<0)return"53";if(Ht(Yt,Mr)<=0)return"01";var gi;return le.getFullYear()<w.tm_year+1900?gi=w.tm_yday+32-le.getDate():gi=w.tm_yday+1-le.getDate(),rt(Math.ceil(gi/7),2)},"%w":function(w){return w.tm_wday},"%W":function(w){var V=new Date(w.tm_year,0,1),Ce=V.getDay()===1?V:eo(V,V.getDay()===0?1:7-V.getDay()+1),le=new Date(w.tm_year+1900,w.tm_mon,w.tm_mday);if(Ht(Ce,le)<0){var Yt=pc(Qs(le.getFullYear())?Zs:Xs,le.getMonth()-1)-31,Mr=31-Ce.getDate(),gi=Mr+Yt+le.getDate();return rt(Math.ceil(gi/7),2)}return Ht(Ce,V)===0?"01":"00"},"%y":function(w){return(w.tm_year+1900).toString().substring(2)},"%Y":function(w){return w.tm_year+1900},"%z":function(w){var V=w.tm_gmtoff,Ce=V>=0;return V=Math.abs(V)/60,V=V/60*100+V%60,(Ce?"+":"-")+String("0000"+V).slice(-4)},"%Z":function(w){return w.tm_zone},"%%":function(){return"%"}};for(var ge in is)H.includes(ge)&&(H=H.replace(new RegExp(ge,"g"),is[ge](Z)));var mc=lg(H,!1);return mc.length>h?0:(Zd(mc,l),mc.length-1)}function ug(l,h,_,I){return cg(l,h,_,I)}function lg(l,h,_){var I=_>0?_:xm(l)+1,q=new Array(I),Z=Qd(l,q,0,q.length);return h&&(q.length=Z),q}var dg={M:fb,c:pb,O:yb,N:_b,K:mb,i:bb,o:gb,H:vb,L:Tb,f:Ib,I:wb,j:Bb,l:Sb,k:Ab,R:Ob,Q:Db,a:Fb,m:Rb,A:Ub,B:Mb,y:Pb,z:Vb,h:Nb,v:kb,D:Lb,w:Cb,F:xb,d:jb,C:qb,E:Wb,u:zb,g:Hb,p:Yb,T:Gb,U:$b,x:Qb,G:Zb,b:Xb,S:eg,s:tg,r:rg,n:ig,t:ng,J:sg,e:og,P:Js,q:ug},tO=lb(),fg=t.___wasm_call_ctors=function(){return(fg=t.___wasm_call_ctors=t.asm.W).apply(null,arguments)},hg=t._main=function(){return(hg=t._main=t.asm.X).apply(null,arguments)},pg=t._duckdb_web_fs_glob_add_path=function(){return(pg=t._duckdb_web_fs_glob_add_path=t.asm.Z).apply(null,arguments)},yg=t._duckdb_web_clear_response=function(){return(yg=t._duckdb_web_clear_response=t.asm._).apply(null,arguments)},_g=t._duckdb_web_fail_with=function(){return(_g=t._duckdb_web_fail_with=t.asm.$).apply(null,arguments)},mg=t._duckdb_web_reset=function(){return(mg=t._duckdb_web_reset=t.asm.aa).apply(null,arguments)},bg=t._duckdb_web_connect=function(){return(bg=t._duckdb_web_connect=t.asm.ba).apply(null,arguments)},gg=t._duckdb_web_disconnect=function(){return(gg=t._duckdb_web_disconnect=t.asm.ca).apply(null,arguments)},vg=t._duckdb_web_flush_files=function(){return(vg=t._duckdb_web_flush_files=t.asm.da).apply(null,arguments)},Tg=t._duckdb_web_flush_file=function(){return(Tg=t._duckdb_web_flush_file=t.asm.ea).apply(null,arguments)},Ig=t._duckdb_web_open=function(){return(Ig=t._duckdb_web_open=t.asm.fa).apply(null,arguments)},wg=t._duckdb_web_collect_file_stats=function(){return(wg=t._duckdb_web_collect_file_stats=t.asm.ga).apply(null,arguments)},Bg=t._duckdb_web_export_file_stats=function(){return(Bg=t._duckdb_web_export_file_stats=t.asm.ha).apply(null,arguments)},Sg=t._duckdb_web_fs_drop_file=function(){return(Sg=t._duckdb_web_fs_drop_file=t.asm.ia).apply(null,arguments)},Ag=t._duckdb_web_fs_drop_files=function(){return(Ag=t._duckdb_web_fs_drop_files=t.asm.ja).apply(null,arguments)},Og=t._duckdb_web_fs_glob_file_infos=function(){return(Og=t._duckdb_web_fs_glob_file_infos=t.asm.ka).apply(null,arguments)},Dg=t._duckdb_web_fs_get_file_info_by_id=function(){return(Dg=t._duckdb_web_fs_get_file_info_by_id=t.asm.la).apply(null,arguments)},Fg=t._duckdb_web_fs_get_file_info_by_name=function(){return(Fg=t._duckdb_web_fs_get_file_info_by_name=t.asm.ma).apply(null,arguments)},Eg=t._duckdb_web_fs_set_file_descriptor=function(){return(Eg=t._duckdb_web_fs_set_file_descriptor=t.asm.na).apply(null,arguments)},Rg=t._duckdb_web_fs_register_file_url=function(){return(Rg=t._duckdb_web_fs_register_file_url=t.asm.oa).apply(null,arguments)},Ug=t._duckdb_web_fs_register_file_buffer=function(){return(Ug=t._duckdb_web_fs_register_file_buffer=t.asm.pa).apply(null,arguments)},Mg=t._duckdb_web_copy_file_to_buffer=function(){return(Mg=t._duckdb_web_copy_file_to_buffer=t.asm.qa).apply(null,arguments)},Pg=t._duckdb_web_copy_file_to_path=function(){return(Pg=t._duckdb_web_copy_file_to_path=t.asm.ra).apply(null,arguments)},Vg=t._duckdb_web_get_version=function(){return(Vg=t._duckdb_web_get_version=t.asm.sa).apply(null,arguments)},Ng=t._duckdb_web_get_feature_flags=function(){return(Ng=t._duckdb_web_get_feature_flags=t.asm.ta).apply(null,arguments)},kg=t._duckdb_web_tokenize=function(){return(kg=t._duckdb_web_tokenize=t.asm.ua).apply(null,arguments)},Lg=t._duckdb_web_prepared_create=function(){return(Lg=t._duckdb_web_prepared_create=t.asm.va).apply(null,arguments)},Cg=t._duckdb_web_prepared_close=function(){return(Cg=t._duckdb_web_prepared_close=t.asm.wa).apply(null,arguments)},xg=t._duckdb_web_prepared_run=function(){return(xg=t._duckdb_web_prepared_run=t.asm.xa).apply(null,arguments)},jg=t._duckdb_web_prepared_send=function(){return(jg=t._duckdb_web_prepared_send=t.asm.ya).apply(null,arguments)},qg=t._duckdb_web_query_run=function(){return(qg=t._duckdb_web_query_run=t.asm.za).apply(null,arguments)},Wg=t._duckdb_web_query_send=function(){return(Wg=t._duckdb_web_query_send=t.asm.Aa).apply(null,arguments)},zg=t._duckdb_web_query_fetch_results=function(){return(zg=t._duckdb_web_query_fetch_results=t.asm.Ba).apply(null,arguments)},Hg=t._duckdb_web_insert_arrow_from_ipc_stream=function(){return(Hg=t._duckdb_web_insert_arrow_from_ipc_stream=t.asm.Ca).apply(null,arguments)},Yg=t._duckdb_web_insert_csv_from_path=function(){return(Yg=t._duckdb_web_insert_csv_from_path=t.asm.Da).apply(null,arguments)},Gg=t._duckdb_web_insert_json_from_path=function(){return(Gg=t._duckdb_web_insert_json_from_path=t.asm.Ea).apply(null,arguments)},af=t.___errno_location=function(){return(af=t.___errno_location=t.asm.Fa).apply(null,arguments)},cf=t.stackSave=function(){return(cf=t.stackSave=t.asm.Ga).apply(null,arguments)},uf=t.stackRestore=function(){return(uf=t.stackRestore=t.asm.Ha).apply(null,arguments)},yc=t.stackAlloc=function(){return(yc=t.stackAlloc=t.asm.Ia).apply(null,arguments)},Kg=t._malloc=function(){return(Kg=t._malloc=t.asm.Ja).apply(null,arguments)},$g=t._free=function(){return($g=t._free=t.asm.Ka).apply(null,arguments)};t.ccall=Lm;var to;function ro(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}var Jg=!1;es=function l(){to||_c(),to||(es=l)};function Qg(l){var h=t._main,_=0,I=0;try{var q=h(_,I);return Zg(q,!0),q}catch(Z){return db(Z)}finally{Jg=!0}}function _c(l){if(l=l||a,bi>0||(Zm(),bi>0))return;function h(){to||(to=!0,t.calledRun=!0,!cc&&(Xm(),eb(),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),lf&&Qg(l),rb()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),h()},1)):h()}t.run=_c;function Zg(l,h){Gs=l,lc()||tb(),Xg(l)}function Xg(l){Gs=l,lc()||(t.onExit&&t.onExit(l),cc=!0),d(l,new ro(l))}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var lf=!0;return t.noInitialRun&&(lf=!1),_c(),e.ready}}(),Fm=$A;var qd=class{constructor(e,t){this._bindings=e,this._conn=t}close(){this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}query(e){let t=this._bindings.runQuery(this._conn,e),i=f.RecordBatchReader.from(t);return console.assert(i.isSync()),console.assert(i.isFile()),f.Table.from(i)}send(e){let t=this._bindings.sendQuery(this._conn,e),i=new Wd(this._bindings,this._conn,t),n=f.RecordBatchReader.from(i);return console.assert(n.isSync()),console.assert(n.isStream()),n}prepare(e){let t=this._bindings.createPrepared(this._conn,e);return new Rm(this._bindings,this._conn,t)}insertArrowTable(e,t){let i=e.serialize("binary",!0);this.insertArrowFromIPCStream(i,t)}insertArrowFromIPCStream(e,t){this._bindings.insertArrowFromIPCStream(this._conn,e,t)}insertCSVFromPath(e,t){this._bindings.insertCSVFromPath(this._conn,e,t)}insertJSONFromPath(e,t){this._bindings.insertJSONFromPath(this._conn,e,t)}},Wd=class{constructor(e,t,i){this.bindings=e;this.conn=t;this.header=i;this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=this.bindings.fetchQueryResults(this.conn);return this._depleted=e.length==0,{done:this._depleted,value:e}}[Symbol.iterator](){return this}},Rm=class{constructor(e,t,i){this.bindings=e,this.connectionId=t,this.statementId=i}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...e){let t=this.bindings.runPrepared(this.connectionId,this.statementId,e),i=f.RecordBatchReader.from(t);return console.assert(i.isSync()),console.assert(i.isFile()),f.Table.from(i)}send(...e){let t=this.bindings.sendPrepared(this.connectionId,this.statementId,e),i=new Wd(this.bindings,this.connectionId,t),n=f.RecordBatchReader.from(i);return console.assert(n.isSync()),console.assert(n.isStream()),n}};var ce;(function(e){e[e.SUCCESS=0]="SUCCESS"})(ce||(ce={}));function JA(){let r=new TextDecoder;return e=>(typeof SharedArrayBuffer!="undefined"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),r.decode(e))}var QA=JA();function Ur(r,e){r.ccall("duckdb_web_fail_with",null,["string"],[e])}function Zn(r,e,t){let i=r.HEAPU8.subarray(e,e+t),n=new Uint8Array(new ArrayBuffer(i.byteLength));return n.set(i),n}function ie(r,e,t){return QA(r.HEAPU8.subarray(e,e+t))}var st;(function(i){i[i.BUFFER=0]="BUFFER",i[i.NATIVE=1]="NATIVE",i[i.HTTP=3]="HTTP"})(st||(st={}));function fe(r,e,t,i){let n=r.stackSave(),s=r.stackAlloc(3*8);t.unshift("number"),i.unshift(s),r.ccall(e,null,t,i);let o=r.HEAPF64[(s>>3)+0],a=r.HEAPF64[(s>>3)+1],u=r.HEAPF64[(s>>3)+2];return r.stackRestore(n),[o,a,u]}function Ue(r){r.ccall("duckdb_web_clear_response",null,[],[])}var zd=class{constructor(e){let t=new Float64Array(e.buffer,e.byteOffset,e.byteLength/8),i=new Uint8Array(new ArrayBuffer(e.byteLength));i.set(e.subarray(7*8)),this.totalFileReadsCold=t[0],this.totalFileReadsAhead=t[1],this.totalFileReadsCached=t[2],this.totalFileWrites=t[3],this.totalPageAccesses=t[4],this.totalPageLoads=t[5],this.blockSize=t[6],this.blockStats=i}getBlockStats(e,t){return t=t||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0},t.file_writes=this.blockStats[e*3+0]&15,t.file_reads_cold=this.blockStats[e*3+0]>>4,t.file_reads_ahead=this.blockStats[e*3+1]&15,t.file_reads_cached=this.blockStats[e*3+1]>>4,t.page_accesses=this.blockStats[e*3+1]&15,t.page_loads=this.blockStats[e*3+1]>>4,t}};var ZA=new TextEncoder,Um;(function(s){s[s.WASM_EXCEPTIONS=1]="WASM_EXCEPTIONS",s[s.WASM_THREADS=2]="WASM_THREADS",s[s.WASM_SIMD=4]="WASM_SIMD",s[s.WASM_BULK_MEMORY=8]="WASM_BULK_MEMORY",s[s.EMIT_BIGINT=16]="EMIT_BIGINT"})(Um||(Um={}));var Hd=class{constructor(e,t){this._instance=null;this._initPromise=null;this._initPromiseResolver=()=>{};this._logger=e,this._runtime=t}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(){return this._instance!=null?this:(this._initPromise!=null&&await this._initPromise,this._initPromise=new Promise(e=>{this._initPromiseResolver=e}),this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null,this)}open(e){let[t,i,n]=fe(this.mod,"duckdb_web_open",["string"],[JSON.stringify(e)]);if(t!==ce.SUCCESS)throw new Error(ie(this.mod,i,n));Ue(this.mod)}reset(){let[e,t,i]=fe(this.mod,"duckdb_web_reset",[],[]);if(e!==ce.SUCCESS)throw new Error(ie(this.mod,t,i));Ue(this.mod)}getVersion(){let[e,t,i]=fe(this.mod,"duckdb_web_get_version",[],[]);if(e!==ce.SUCCESS)throw new Error(ie(this.mod,t,i));let n=ie(this.mod,t,i);return Ue(this.mod),n}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(e){let[t,i,n]=fe(this.mod,"duckdb_web_tokenize",["string"],[e]);if(t!==ce.SUCCESS)throw new Error(ie(this.mod,i,n));let s=ie(this.mod,i,n);return Ue(this.mod),JSON.parse(s)}connect(){let e=this.mod.ccall("duckdb_web_connect","number",[],[]);return new qd(this,e)}disconnect(e){this.mod.ccall("duckdb_web_disconnect",null,["number"],[e])}runQuery(e,t){let[i,n,s]=fe(this.mod,"duckdb_web_query_run",["number","string"],[e,t]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s));let o=Zn(this.mod,n,s);return Ue(this.mod),o}sendQuery(e,t){let[i,n,s]=fe(this.mod,"duckdb_web_query_send",["number","string"],[e,t]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s));let o=Zn(this.mod,n,s);return Ue(this.mod),o}fetchQueryResults(e){let[t,i,n]=fe(this.mod,"duckdb_web_query_fetch_results",["number"],[e]);if(t!==ce.SUCCESS)throw new Error(ie(this.mod,i,n));let s=Zn(this.mod,i,n);return Ue(this.mod),s}createPrepared(e,t){let[i,n,s]=fe(this.mod,"duckdb_web_prepared_create",["number","string"],[e,t]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s));return Ue(this.mod),n}closePrepared(e,t){let[i,n,s]=fe(this.mod,"duckdb_web_prepared_close",["number","number"],[e,t]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s));Ue(this.mod)}runPrepared(e,t,i){let[n,s,o]=fe(this.mod,"duckdb_web_prepared_run",["number","number","string"],[e,t,JSON.stringify(i)]);if(n!==ce.SUCCESS)throw new Error(ie(this.mod,s,o));let a=Zn(this.mod,s,o);return Ue(this.mod),a}sendPrepared(e,t,i){let[n,s,o]=fe(this.mod,"duckdb_web_prepared_send",["number","number","string"],[e,t,JSON.stringify(i)]);if(n!==ce.SUCCESS)throw new Error(ie(this.mod,s,o));let a=Zn(this.mod,s,o);return Ue(this.mod),a}insertArrowFromIPCStream(e,t,i){if(t.length==0)return;let n=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(n,n+t.length).set(t);let o=i?JSON.stringify(i):"",[a,u,d]=fe(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[e,n,t.length,o]);if(a!==ce.SUCCESS)throw new Error(ie(this.mod,u,d))}insertCSVFromPath(e,t,i){if(i.columns!==void 0){i.columnsFlat=[];for(let d in i.columns)i.columnsFlat.push(Qn(d,i.columns[d]))}let n=vi({},i);n.columns=n.columnsFlat,delete n.columnsFlat;let s=JSON.stringify(n),[o,a,u]=fe(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[e,t,s]);if(o!==ce.SUCCESS)throw new Error(ie(this.mod,a,u))}insertJSONFromPath(e,t,i){if(i.columns!==void 0){i.columnsFlat=[];for(let d in i.columns)i.columnsFlat.push(Qn(d,i.columns[d]))}let n=vi({},i);n.columns=n.columnsFlat,delete n.columnsFlat;let s=JSON.stringify(n),[o,a,u]=fe(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[e,t,s]);if(o!==ce.SUCCESS)throw new Error(ie(this.mod,a,u))}globFiles(e){let[t,i,n]=fe(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[e]);if(t!==ce.SUCCESS)throw new Error(ie(this.mod,i,n));let s=ie(this.mod,i,n);Ue(this.mod);let o=JSON.parse(s);return o==null?[]:o}registerFileURL(e,t){t===void 0&&(t=e);let[i,n,s]=fe(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[e,t]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s));Ue(this.mod)}registerFileText(e,t){let i=ZA.encode(t);this.registerFileBuffer(e,i)}registerFileBuffer(e,t){let i=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(i,i+t.length).set(t);let[s,o,a]=fe(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[e,i,t.length]);if(s!==ce.SUCCESS)throw new Error(ie(this.mod,o,a));Ue(this.mod)}registerFileHandle(e,t){let[i,n,s]=fe(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[e,e]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s));if(Ue(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(e,t),this.pthread){for(let o of this.pthread.runningWorkers)o.postMessage({cmd:"registerFileHandle",fileName:e,fileHandle:t});for(let o of this.pthread.unusedWorkers)o.postMessage({cmd:"dropFileHandle",fileName:e})}}dropFile(e){return this.mod.ccall("duckdb_web_fs_drop_file","boolean",["string"],[e])}dropFiles(){let[e,t,i]=fe(this.mod,"duckdb_web_fs_drop_files",[],[]);if(e!==ce.SUCCESS)throw new Error(ie(this.mod,t,i));Ue(this.mod)}flushFiles(){this.mod.ccall("duckdb_web_flush_files",null,[],[])}copyFileToPath(e,t){let[i,n,s]=fe(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[e,t]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s));Ue(this.mod)}copyFileToBuffer(e){let[t,i,n]=fe(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[e]);if(t!==ce.SUCCESS)throw new Error(ie(this.mod,i,n));let s=this.mod.HEAPU8.subarray(i,i+n),o=new Uint8Array(s.length);return o.set(s),Ue(this.mod),o}collectFileStatistics(e,t){let[i,n,s]=fe(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[e,t]);if(i!==ce.SUCCESS)throw new Error(ie(this.mod,n,s))}exportFileStatistics(e){let[t,i,n]=fe(this.mod,"duckdb_web_export_file_stats",["string"],[e]);if(t!==ce.SUCCESS)throw new Error(ie(this.mod,i,n));return new zd(this.mod.HEAPU8.subarray(i,i+n))}};var Yd=class extends Hd{constructor(e,t,i,n){super(e,t);this.mainModuleURL=i,this.pthreadWorkerURL=n}locateFile(e,t){if(e.endsWith(".wasm"))return this.mainModuleURL;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerURL)throw new Error("Missing DuckDB worker URL!");return this.pthreadWorkerURL}throw new Error(`WASM instantiation requested unexpected file: prefix=${t} path=${e}`)}instantiateWasm(e,t){return globalThis.DUCKDB_RUNTIME=this._runtime,WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fetch(this.mainModuleURL),e).then(i=>{t(i.instance,i.module)}):fetch(this.mainModuleURL).then(i=>i.arrayBuffer()).then(i=>WebAssembly.instantiate(i,e).then(n=>{t(n.instance,n.module)})).catch(i=>{console.error("Failed to instantiate WASM:",i)}),[]}};var Gd=class extends Yd{constructor(e,t,i,n=null){super(e,t,i,n)}instantiateImpl(e){return Fm(io(vi({},e),{instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)}))}};var ot={fileInfoCache:new Map,getFileInfo(r,e){try{let t=ot.fileInfoCache.get(e);if(t)return t;let[i,n,s]=fe(r,"duckdb_web_fs_get_file_info_by_id",["number"],[e]);if(i!==ce.SUCCESS)return null;let o=ie(r,n,s);Ue(r);let a=JSON.parse(o);if(a==null)return null;let u=io(vi({},a),{blob:null});return ot.fileInfoCache.set(e,u),u}catch(t){return null}},testPlatformFeature:(r,e)=>{switch(e){case 1:return typeof BigInt64Array!="undefined";default:return console.warn(`test for unknown feature: ${e}`),!1}},openFile:(r,e)=>{var t;try{ot.fileInfoCache.delete(e);let i=ot.getFileInfo(r,e);switch(i==null?void 0:i.dataProtocol){case st.HTTP:{let n=null;try{let s=new XMLHttpRequest;s.open("HEAD",i.dataUrl,!1),s.setRequestHeader("Range","bytes=0-"),s.send(null);let o=s.getResponseHeader("Content-Length");if(s.status==206&&o!==null){let a=r._malloc(2*8);return r.HEAPF64[(a>>3)+0]=+o,r.HEAPF64[(a>>3)+1]=0,a}}catch(s){n=s,console.warn(`HEAD request with range header failed: ${s}`)}if(i.allowFullHttpReads){console.warn(`falling back to full HTTP read for: ${i.dataUrl}`);let s=new XMLHttpRequest;if(s.open("GET",i.dataUrl,!1),s.responseType="arraybuffer",s.send(null),s.status==200){let o=r._malloc(s.response.byteLength),a=new Uint8Array(s.response,0,s.response.byteLength);r.HEAPU8.set(a,o);let u=r._malloc(2*8);return r.HEAPF64[(u>>3)+0]=s.response.byteLength,r.HEAPF64[(u>>3)+1]=o,u}}if(n!=null)throw new Error(`Reading file ${i.fileName} failed with error: ${n}`);return 0}case st.NATIVE:{let n=(t=ot._files)==null?void 0:t.get(i.fileName);if(n){let a=r._malloc(2*8);return r.HEAPF64[(a>>3)+0]=n.size,r.HEAPF64[(a>>3)+1]=0,a}console.warn(`Buffering missing file: ${i.fileName}`);let s=r._malloc(2*8),o=r._malloc(1);return r.HEAPF64[(s>>3)+0]=1,r.HEAPF64[(s>>3)+1]=o,s}}}catch(i){console.error(i.toString()),Ur(r,i.toString())}return 0},glob:(r,e,t)=>{try{let i=ie(r,e,t);if(i.startsWith("http")){let n=new XMLHttpRequest;if(n.open("HEAD",i,!1),n.send(null),n.status!=200&&n.status!==206){Ur(r,`HEAD request failed: ${i}`);return}r.ccall("duckdb_web_fs_glob_add_path",null,["string"],[i])}}catch(i){return Ur(r,i.toString()),0}},checkFile:(r,e,t)=>{try{let i=ie(r,e,t);if(i.startsWith("http")){let n=new XMLHttpRequest;n.open("HEAD",i,!1),n.setRequestHeader("Range","bytes=0-"),n.send(null);let s=!1;if(n.status==206)s=!0;else if(n.status==200)s=n.getResponseHeader("Accept-Ranges")==="bytes";else return!1;return!!s}}catch(i){return!1}return!1},syncFile:(r,e)=>{},closeFile:(r,e)=>{let t=ot.getFileInfo(r,e);switch(ot.fileInfoCache.delete(e),t==null?void 0:t.dataProtocol){case st.HTTP:break;case st.NATIVE:return}},truncateFile:(r,e,t)=>{let i=ot.getFileInfo(r,e);switch(i==null?void 0:i.dataProtocol){case st.HTTP:Ur(r,"Cannot truncate a http file");return;case st.NATIVE:Ur(r,"truncateFile not implemented");return}return 0},readFile(r,e,t,i,n){var s;try{let o=ot.getFileInfo(r,e);switch(o==null?void 0:o.dataProtocol){case st.HTTP:{if(!o.dataUrl)throw new Error(`Missing data URL for file ${e}`);try{let a=new XMLHttpRequest;if(a.open("GET",o.dataUrl,!1),a.responseType="arraybuffer",a.setRequestHeader("Range",`bytes=${n}-${n+i-1}`),a.send(null),a.status==206||a.status==200&&i==a.response.byteLength&&n==0){let u=new Uint8Array(a.response,0,Math.min(a.response.byteLength,i));return r.HEAPU8.set(u,t),u.byteLength}else throw a.status==200?new Error(`Range request for ${o.dataUrl} did not return a partial response: ${a.status} "${a.statusText}"`):new Error(`Range request for ${o.dataUrl} did returned non-success status: ${a.status} "${a.statusText}"`)}catch(a){throw new Error(`Range request for ${o.dataUrl} failed with error: ${a}"`)}}case st.NATIVE:{let a=(s=ot._files)==null?void 0:s.get(o.fileName);if(!a)throw new Error(`No handle available for file: ${o.fileName}`);let u=a.slice(n,n+i),d=new Uint8Array(new FileReaderSync().readAsArrayBuffer(u));return r.HEAPU8.set(d,t),d.byteLength}}return 0}catch(o){return Ur(r,o.toString()),0}},writeFile:(r,e,t,i,n)=>{let s=ot.getFileInfo(r,e);switch(s==null?void 0:s.dataProtocol){case st.HTTP:return Ur(r,"Cannot write to HTTP file"),0;case st.NATIVE:return Ur(r,"writefile not implemented"),0}return 0},getLastFileModificationTime:(r,e)=>{var i;let t=ot.getFileInfo(r,e);switch(t==null?void 0:t.dataProtocol){case st.NATIVE:{if(!((i=ot._files)==null?void 0:i.get(t.fileName)))throw Error(`No handle available for file: ${t.fileName}`);return 0}case st.HTTP:return new Date().getTime()}return 0},checkDirectory:(r,e,t)=>{let i=ie(r,e,t);return console.log(`checkDirectory: ${i}`),!1},createDirectory:(r,e,t)=>{let i=ie(r,e,t);console.log(`createDirectory: ${i}`)},removeDirectory:(r,e,t)=>{let i=ie(r,e,t);console.log(`removeDirectory: ${i}`)},listDirectoryEntries:(r,e,t)=>{let i=ie(r,e,t);return console.log(`listDirectoryEntries: ${i}`),!1},moveFile:(r,e,t,i,n)=>{},removeFile:(r,e,t)=>{}};var Mm=class extends xd{postMessage(e,t){globalThis.postMessage(e,t)}async instantiate(e,t){return await new Gd(this,ot,e,t).instantiate()}};function Pm(){let r=new Mm;globalThis.onmessage=async e=>{await r.onMessage(e.data)}}Pm();return XA;})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=duckdb-browser-next.worker.js.map
