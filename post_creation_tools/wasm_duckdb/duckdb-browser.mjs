var om=Object.create;var la=Object.defineProperty;var am=Object.getOwnPropertyDescriptor;var cm=Object.getOwnPropertyNames;var um=Object.getPrototypeOf,lm=Object.prototype.hasOwnProperty;var dm=r=>la(r,"__esModule",{value:!0});var p=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var hm=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cm(e))!lm.call(r,i)&&i!=="default"&&la(r,i,{get:()=>e[i],enumerable:!(t=am(e,i))||t.enumerable});return r},Wt=r=>hm(dm(la(r!=null?om(um(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var Ve=p((Fw,as)=>{var kl,xl,jl,Cl,ql,zl,Wl,Gl,Yl,ss,da,Hl,Kl,$l,pi,Jl,Ql,Zl,Xl,ed,td,rd,id,os;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(t(e,t(i)))}):typeof as=="object"&&typeof as.exports=="object"?r(t(e,t(as.exports))):r(t(e));function t(i,n){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(s,o){return i[s]=n?n(s,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])};kl=function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(i,n);function s(){this.constructor=i}i.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},xl=Object.assign||function(i){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},jl=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(i);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(i,o[a])&&(s[o[a]]=i[o[a]]);return s},Cl=function(i,n,s,o){var a=arguments.length,u=a<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,s):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(i,n,s,o);else for(var h=i.length-1;h>=0;h--)(d=i[h])&&(u=(a<3?d(u):a>3?d(n,s,u):d(n,s))||u);return a>3&&u&&Object.defineProperty(n,s,u),u},ql=function(i,n){return function(s,o){n(s,o,i)}},zl=function(i,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,n)},Wl=function(i,n,s,o){function a(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h($){try{w(o.next($))}catch(me){d(me)}}function B($){try{w(o.throw($))}catch(me){d(me)}}function w($){$.done?u($.value):a($.value).then(h,B)}w((o=o.apply(i,n||[])).next())})},Gl=function(i,n){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,a,u,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(w){return function($){return B([w,$])}}function B(w){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,a&&(u=w[0]&2?a.return:w[0]?a.throw||((u=a.return)&&u.call(a),0):a.next)&&!(u=u.call(a,w[1])).done)return u;switch(a=0,u&&(w=[w[0]&2,u.value]),w[0]){case 0:case 1:u=w;break;case 4:return s.label++,{value:w[1],done:!1};case 5:s.label++,a=w[1],w=[0];continue;case 7:w=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(w[0]===6||w[0]===2)){s=0;continue}if(w[0]===3&&(!u||w[1]>u[0]&&w[1]<u[3])){s.label=w[1];break}if(w[0]===6&&s.label<u[1]){s.label=u[1],u=w;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(w);break}u[2]&&s.ops.pop(),s.trys.pop();continue}w=n.call(i,s)}catch($){w=[6,$],a=0}finally{o=u=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Yl=function(i,n){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&os(n,i,s)},os=Object.create?function(i,n,s,o){o===void 0&&(o=s),Object.defineProperty(i,o,{enumerable:!0,get:function(){return n[s]}})}:function(i,n,s,o){o===void 0&&(o=s),i[o]=n[s]},ss=function(i){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&i[n],o=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},da=function(i,n){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var o=s.call(i),a,u=[],d;try{for(;(n===void 0||n-- >0)&&!(a=o.next()).done;)u.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(d)throw d.error}}return u},Hl=function(){for(var i=[],n=0;n<arguments.length;n++)i=i.concat(da(arguments[n]));return i},Kl=function(){for(var i=0,n=0,s=arguments.length;n<s;n++)i+=arguments[n].length;for(var o=Array(i),a=0,n=0;n<s;n++)for(var u=arguments[n],d=0,h=u.length;d<h;d++,a++)o[a]=u[d];return o},$l=function(i,n,s){if(s||arguments.length===2)for(var o=0,a=n.length,u;o<a;o++)(u||!(o in n))&&(u||(u=Array.prototype.slice.call(n,0,o)),u[o]=n[o]);return i.concat(u||Array.prototype.slice.call(n))},pi=function(i){return this instanceof pi?(this.v=i,this):new pi(i)},Jl=function(i,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(i,n||[]),a,u=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(he){o[he]&&(a[he]=function(ar){return new Promise(function(It,q){u.push([he,ar,It,q])>1||h(he,ar)})})}function h(he,ar){try{B(o[he](ar))}catch(It){me(u[0][3],It)}}function B(he){he.value instanceof pi?Promise.resolve(he.value.v).then(w,$):me(u[0][2],he)}function w(he){h("next",he)}function $(he){h("throw",he)}function me(he,ar){he(ar),u.shift(),u.length&&h(u[0][0],u[0][1])}},Ql=function(i){var n,s;return n={},o("next"),o("throw",function(a){throw a}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(a,u){n[a]=i[a]?function(d){return(s=!s)?{value:pi(i[a](d)),done:a==="return"}:u?u(d):d}:u}},Zl=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],s;return n?n.call(i):(i=typeof ss=="function"?ss(i):i[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(u){s[u]=i[u]&&function(d){return new Promise(function(h,B){d=i[u](d),a(h,B,d.done,d.value)})}}function a(u,d,h,B){Promise.resolve(B).then(function(w){u({value:w,done:h})},d)}},Xl=function(i,n){return Object.defineProperty?Object.defineProperty(i,"raw",{value:n}):i.raw=n,i};var t=Object.create?function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}:function(i,n){i.default=n};ed=function(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var s in i)s!=="default"&&Object.prototype.hasOwnProperty.call(i,s)&&os(n,i,s);return t(n,i),n},td=function(i){return i&&i.__esModule?i:{default:i}},rd=function(i,n,s,o){if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?i!==n||!o:!n.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?o:s==="a"?o.call(i):o?o.value:n.get(i)},id=function(i,n,s,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?i!==n||!a:!n.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(i,s):a?a.value=s:n.set(i,s),s},r("__extends",kl),r("__assign",xl),r("__rest",jl),r("__decorate",Cl),r("__param",ql),r("__metadata",zl),r("__awaiter",Wl),r("__generator",Gl),r("__exportStar",Yl),r("__createBinding",os),r("__values",ss),r("__read",da),r("__spread",Hl),r("__spreadArrays",Kl),r("__spreadArray",$l),r("__await",pi),r("__asyncGenerator",Jl),r("__asyncDelegator",Ql),r("__asyncValues",Zl),r("__makeTemplateObject",Xl),r("__importStar",ed),r("__importDefault",td),r("__classPrivateFieldGet",rd),r("__classPrivateFieldSet",id)})});var Yt=p(nd=>{var f={};f.Offset;f.Table;f.SIZEOF_SHORT=2;f.SIZEOF_INT=4;f.FILE_IDENTIFIER_LENGTH=4;f.SIZE_PREFIX_LENGTH=4;f.Encoding={UTF8_BYTES:1,UTF16_STRING:2};f.int32=new Int32Array(2);f.float32=new Float32Array(f.int32.buffer);f.float64=new Float64Array(f.int32.buffer);f.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;f.Long=function(r,e){this.low=r|0,this.high=e|0};f.Long.create=function(r,e){return r==0&&e==0?f.Long.ZERO:new f.Long(r,e)};f.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};f.Long.prototype.equals=function(r){return this.low==r.low&&this.high==r.high};f.Long.ZERO=new f.Long(0,0);f.Builder=function(r){if(r)var e=r;else var e=1024;this.bb=f.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};f.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};f.Builder.prototype.forceDefaults=function(r){this.force_defaults=r};f.Builder.prototype.dataBuffer=function(){return this.bb};f.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};f.Builder.prototype.prep=function(r,e){r>this.minalign&&(this.minalign=r);for(var t=~(this.bb.capacity()-this.space+e)+1&r-1;this.space<t+r+e;){var i=this.bb.capacity();this.bb=f.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(t)};f.Builder.prototype.pad=function(r){for(var e=0;e<r;e++)this.bb.writeInt8(--this.space,0)};f.Builder.prototype.writeInt8=function(r){this.bb.writeInt8(this.space-=1,r)};f.Builder.prototype.writeInt16=function(r){this.bb.writeInt16(this.space-=2,r)};f.Builder.prototype.writeInt32=function(r){this.bb.writeInt32(this.space-=4,r)};f.Builder.prototype.writeInt64=function(r){this.bb.writeInt64(this.space-=8,r)};f.Builder.prototype.writeFloat32=function(r){this.bb.writeFloat32(this.space-=4,r)};f.Builder.prototype.writeFloat64=function(r){this.bb.writeFloat64(this.space-=8,r)};f.Builder.prototype.addInt8=function(r){this.prep(1,0),this.writeInt8(r)};f.Builder.prototype.addInt16=function(r){this.prep(2,0),this.writeInt16(r)};f.Builder.prototype.addInt32=function(r){this.prep(4,0),this.writeInt32(r)};f.Builder.prototype.addInt64=function(r){this.prep(8,0),this.writeInt64(r)};f.Builder.prototype.addFloat32=function(r){this.prep(4,0),this.writeFloat32(r)};f.Builder.prototype.addFloat64=function(r){this.prep(8,0),this.writeFloat64(r)};f.Builder.prototype.addFieldInt8=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt8(e),this.slot(r))};f.Builder.prototype.addFieldInt16=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt16(e),this.slot(r))};f.Builder.prototype.addFieldInt32=function(r,e,t){(this.force_defaults||e!=t)&&(this.addInt32(e),this.slot(r))};f.Builder.prototype.addFieldInt64=function(r,e,t){(this.force_defaults||!e.equals(t))&&(this.addInt64(e),this.slot(r))};f.Builder.prototype.addFieldFloat32=function(r,e,t){(this.force_defaults||e!=t)&&(this.addFloat32(e),this.slot(r))};f.Builder.prototype.addFieldFloat64=function(r,e,t){(this.force_defaults||e!=t)&&(this.addFloat64(e),this.slot(r))};f.Builder.prototype.addFieldOffset=function(r,e,t){(this.force_defaults||e!=t)&&(this.addOffset(e),this.slot(r))};f.Builder.prototype.addFieldStruct=function(r,e,t){e!=t&&(this.nested(e),this.slot(r))};f.Builder.prototype.nested=function(r){if(r!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};f.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};f.Builder.prototype.slot=function(r){this.vtable[r]=this.offset()};f.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};f.Builder.growByteBuffer=function(r){var e=r.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var t=e<<1,i=f.ByteBuffer.allocate(t);return i.setPosition(t-e),i.bytes().set(r.bytes(),t-e),i};f.Builder.prototype.addOffset=function(r){this.prep(f.SIZEOF_INT,0),this.writeInt32(this.offset()-r+f.SIZEOF_INT)};f.Builder.prototype.startObject=function(r){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=r;for(var e=0;e<r;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()};f.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var r=this.offset(),e=this.vtable_in_use-1;e>=0&&this.vtable[e]==0;e--);for(var t=e+1;e>=0;e--)this.addInt16(this.vtable[e]!=0?r-this.vtable[e]:0);var i=2;this.addInt16(r-this.object_start);var n=(t+i)*f.SIZEOF_SHORT;this.addInt16(n);var s=0,o=this.space;e:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(a)){for(var u=f.SIZEOF_SHORT;u<n;u+=f.SIZEOF_SHORT)if(this.bb.readInt16(o+u)!=this.bb.readInt16(a+u))continue e;s=this.vtables[e];break}}return s?(this.space=this.bb.capacity()-r,this.bb.writeInt32(this.space,s-r)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-r,this.offset()-r)),this.isNested=!1,r};f.Builder.prototype.finish=function(r,e,t){var i=t?f.SIZE_PREFIX_LENGTH:0;if(e){var n=e;if(this.prep(this.minalign,f.SIZEOF_INT+f.FILE_IDENTIFIER_LENGTH+i),n.length!=f.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+f.FILE_IDENTIFIER_LENGTH);for(var s=f.FILE_IDENTIFIER_LENGTH-1;s>=0;s--)this.writeInt8(n.charCodeAt(s))}this.prep(this.minalign,f.SIZEOF_INT+i),this.addOffset(r),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};f.Builder.prototype.finishSizePrefixed=function(r,e){this.finish(r,e,!0)};f.Builder.prototype.requiredField=function(r,e){var t=this.bb.capacity()-r,i=t-this.bb.readInt32(t),n=this.bb.readInt16(i+e)!=0;if(!n)throw new Error("FlatBuffers: field "+e+" must be set")};f.Builder.prototype.startVector=function(r,e,t){this.notNested(),this.vector_num_elems=e,this.prep(f.SIZEOF_INT,r*e),this.prep(t,r*e)};f.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};f.Builder.prototype.createString=function(r){if(r instanceof Uint8Array)var e=r;else for(var e=[],t=0;t<r.length;){var i,n=r.charCodeAt(t++);if(n<55296||n>=56320)i=n;else{var s=r.charCodeAt(t++);i=(n<<10)+s+(65536-(55296<<10)-56320)}i<128?e.push(i):(i<2048?e.push(i>>6&31|192):(i<65536?e.push(i>>12&15|224):e.push(i>>18&7|240,i>>12&63|128),e.push(i>>6&63|128)),e.push(i&63|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var t=0,o=this.space,a=this.bb.bytes();t<e.length;t++)a[o++]=e[t];return this.endVector()};f.Builder.prototype.createLong=function(r,e){return f.Long.create(r,e)};f.ByteBuffer=function(r){this.bytes_=r,this.position_=0};f.ByteBuffer.allocate=function(r){return new f.ByteBuffer(new Uint8Array(r))};f.ByteBuffer.prototype.clear=function(){this.position_=0};f.ByteBuffer.prototype.bytes=function(){return this.bytes_};f.ByteBuffer.prototype.position=function(){return this.position_};f.ByteBuffer.prototype.setPosition=function(r){this.position_=r};f.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};f.ByteBuffer.prototype.readInt8=function(r){return this.readUint8(r)<<24>>24};f.ByteBuffer.prototype.readUint8=function(r){return this.bytes_[r]};f.ByteBuffer.prototype.readInt16=function(r){return this.readUint16(r)<<16>>16};f.ByteBuffer.prototype.readUint16=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8};f.ByteBuffer.prototype.readInt32=function(r){return this.bytes_[r]|this.bytes_[r+1]<<8|this.bytes_[r+2]<<16|this.bytes_[r+3]<<24};f.ByteBuffer.prototype.readUint32=function(r){return this.readInt32(r)>>>0};f.ByteBuffer.prototype.readInt64=function(r){return new f.Long(this.readInt32(r),this.readInt32(r+4))};f.ByteBuffer.prototype.readUint64=function(r){return new f.Long(this.readUint32(r),this.readUint32(r+4))};f.ByteBuffer.prototype.readFloat32=function(r){return f.int32[0]=this.readInt32(r),f.float32[0]};f.ByteBuffer.prototype.readFloat64=function(r){return f.int32[f.isLittleEndian?0:1]=this.readInt32(r),f.int32[f.isLittleEndian?1:0]=this.readInt32(r+4),f.float64[0]};f.ByteBuffer.prototype.writeInt8=function(r,e){this.bytes_[r]=e};f.ByteBuffer.prototype.writeUint8=function(r,e){this.bytes_[r]=e};f.ByteBuffer.prototype.writeInt16=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8};f.ByteBuffer.prototype.writeUint16=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8};f.ByteBuffer.prototype.writeInt32=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8,this.bytes_[r+2]=e>>16,this.bytes_[r+3]=e>>24};f.ByteBuffer.prototype.writeUint32=function(r,e){this.bytes_[r]=e,this.bytes_[r+1]=e>>8,this.bytes_[r+2]=e>>16,this.bytes_[r+3]=e>>24};f.ByteBuffer.prototype.writeInt64=function(r,e){this.writeInt32(r,e.low),this.writeInt32(r+4,e.high)};f.ByteBuffer.prototype.writeUint64=function(r,e){this.writeUint32(r,e.low),this.writeUint32(r+4,e.high)};f.ByteBuffer.prototype.writeFloat32=function(r,e){f.float32[0]=e,this.writeInt32(r,f.int32[0])};f.ByteBuffer.prototype.writeFloat64=function(r,e){f.float64[0]=e,this.writeInt32(r,f.int32[f.isLittleEndian?0:1]),this.writeInt32(r+4,f.int32[f.isLittleEndian?1:0])};f.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+f.SIZEOF_INT+f.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var r="",e=0;e<f.FILE_IDENTIFIER_LENGTH;e++)r+=String.fromCharCode(this.readInt8(this.position_+f.SIZEOF_INT+e));return r};f.ByteBuffer.prototype.__offset=function(r,e){var t=r-this.readInt32(r);return e<this.readInt16(t)?this.readInt16(t+e):0};f.ByteBuffer.prototype.__union=function(r,e){return r.bb_pos=e+this.readInt32(e),r.bb=this,r};f.ByteBuffer.prototype.__string=function(r,e){r+=this.readInt32(r);var t=this.readInt32(r),i="",n=0;if(r+=f.SIZEOF_INT,e===f.Encoding.UTF8_BYTES)return this.bytes_.subarray(r,r+t);for(;n<t;){var s,o=this.readUint8(r+n++);if(o<192)s=o;else{var a=this.readUint8(r+n++);if(o<224)s=(o&31)<<6|a&63;else{var u=this.readUint8(r+n++);if(o<240)s=(o&15)<<12|(a&63)<<6|u&63;else{var d=this.readUint8(r+n++);s=(o&7)<<18|(a&63)<<12|(u&63)<<6|d&63}}}s<65536?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode((s>>10)+55296,(s&(1<<10)-1)+56320))}return i};f.ByteBuffer.prototype.__indirect=function(r){return r+this.readInt32(r)};f.ByteBuffer.prototype.__vector=function(r){return r+this.readInt32(r)+f.SIZEOF_INT};f.ByteBuffer.prototype.__vector_len=function(r){return this.readInt32(r+this.readInt32(r))};f.ByteBuffer.prototype.__has_identifier=function(r){if(r.length!=f.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+f.FILE_IDENTIFIER_LENGTH);for(var e=0;e<f.FILE_IDENTIFIER_LENGTH;e++)if(r.charCodeAt(e)!=this.readInt8(this.position_+f.SIZEOF_INT+e))return!1;return!0};f.ByteBuffer.prototype.createLong=function(r,e){return f.Long.create(r,e)};nd.flatbuffers=f});var Gr=p(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.encodeUtf8=mi.decodeUtf8=void 0;var pm=new TextDecoder("utf-8");mi.decodeUtf8=r=>pm.decode(r);var mm=new TextEncoder;mi.encodeUtf8=r=>mm.encode(r)});var _i=p(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.AsyncQueue=xe.ReadableInterop=xe.ArrowJSON=xe.ITERATOR_DONE=void 0;var _n=Ve(),sd=bn();xe.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var od=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};xe.ArrowJSON=od;var ha=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};xe.ReadableInterop=ha;var ad=class extends ha{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return _n.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(xe.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return sd.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return sd.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return _n.__awaiter(this,void 0,void 0,function*(){return yield this.abort(e),xe.ITERATOR_DONE})}return(e){return _n.__awaiter(this,void 0,void 0,function*(){return yield this.close(),xe.ITERATOR_DONE})}read(e){return _n.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return _n.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,i)=>{this.resolvers.push({resolve:t,reject:i})}):Promise.resolve(xe.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};xe.AsyncQueue=ad});var Ne=p(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.isReadableNodeStream=S.isWritableNodeStream=S.isReadableDOMStream=S.isWritableDOMStream=S.isFetchResponse=S.isFSReadStream=S.isFileHandle=S.isUnderlyingSink=S.isIteratorResult=S.isArrayLike=S.isArrowJSON=S.isAsyncIterable=S.isIterable=S.isObservable=S.isPromise=S.isObject=S.BigUint64ArrayAvailable=S.BigUint64Array=S.BigInt64ArrayAvailable=S.BigInt64Array=S.BigIntAvailable=S.BigInt=void 0;var cs=_i(),[_m,bm]=(()=>{let r=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw r()}return e.asIntN=()=>{throw r()},e.asUintN=()=>{throw r()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();S.BigInt=_m;S.BigIntAvailable=bm;var[gm,Im]=(()=>{let r=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();S.BigInt64Array=gm;S.BigInt64ArrayAvailable=Im;var[Tm,vm]=(()=>{let r=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();S.BigUint64Array=Tm;S.BigUint64ArrayAvailable=vm;var fa=r=>typeof r=="number",cd=r=>typeof r=="boolean",De=r=>typeof r=="function";S.isObject=r=>r!=null&&Object(r)===r;S.isPromise=r=>S.isObject(r)&&De(r.then);S.isObservable=r=>S.isObject(r)&&De(r.subscribe);S.isIterable=r=>S.isObject(r)&&De(r[Symbol.iterator]);S.isAsyncIterable=r=>S.isObject(r)&&De(r[Symbol.asyncIterator]);S.isArrowJSON=r=>S.isObject(r)&&S.isObject(r.schema);S.isArrayLike=r=>S.isObject(r)&&fa(r.length);S.isIteratorResult=r=>S.isObject(r)&&"done"in r&&"value"in r;S.isUnderlyingSink=r=>S.isObject(r)&&De(r.abort)&&De(r.close)&&De(r.start)&&De(r.write);S.isFileHandle=r=>S.isObject(r)&&De(r.stat)&&fa(r.fd);S.isFSReadStream=r=>S.isReadableNodeStream(r)&&fa(r.bytesRead);S.isFetchResponse=r=>S.isObject(r)&&S.isReadableDOMStream(r.body);S.isWritableDOMStream=r=>S.isObject(r)&&De(r.abort)&&De(r.getWriter)&&!(r instanceof cs.ReadableInterop);S.isReadableDOMStream=r=>S.isObject(r)&&De(r.cancel)&&De(r.getReader)&&!(r instanceof cs.ReadableInterop);S.isWritableNodeStream=r=>S.isObject(r)&&De(r.end)&&De(r.write)&&cd(r.writable)&&!(r instanceof cs.ReadableInterop);S.isReadableNodeStream=r=>S.isObject(r)&&De(r.read)&&De(r.pipe)&&cd(r.readable)&&!(r instanceof cs.ReadableInterop)});var ve=p(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.compareArrayLike=T.rebaseValueOffsets=T.toUint8ClampedArrayAsyncIterator=T.toFloat64ArrayAsyncIterator=T.toFloat32ArrayAsyncIterator=T.toUint32ArrayAsyncIterator=T.toUint16ArrayAsyncIterator=T.toUint8ArrayAsyncIterator=T.toInt32ArrayAsyncIterator=T.toInt16ArrayAsyncIterator=T.toInt8ArrayAsyncIterator=T.toArrayBufferViewAsyncIterator=T.toUint8ClampedArrayIterator=T.toFloat64ArrayIterator=T.toFloat32ArrayIterator=T.toUint32ArrayIterator=T.toUint16ArrayIterator=T.toUint8ArrayIterator=T.toInt32ArrayIterator=T.toInt16ArrayIterator=T.toInt8ArrayIterator=T.toArrayBufferViewIterator=T.toUint8ClampedArray=T.toFloat64Array=T.toFloat32Array=T.toBigUint64Array=T.toUint32Array=T.toUint16Array=T.toUint8Array=T.toBigInt64Array=T.toInt32Array=T.toInt16Array=T.toInt8Array=T.toArrayBufferView=T.joinUint8Arrays=T.memcpy=void 0;var _e=Ve(),Bm=Yt(),wm=Gr(),Sm=Bm.flatbuffers.ByteBuffer,Yr=Ne(),ya=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function Om(r){let e=r[0]?[r[0]]:[],t,i,n,s;for(let o,a,u=0,d=0,h=r.length;++u<h;){if(o=e[d],a=r[u],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++d]=a);continue}if({byteOffset:t,byteLength:n}=o,{byteOffset:i,byteLength:s}=a,t+n<i||i+s<t){a&&(e[++d]=a);continue}e[d]=new Uint8Array(o.buffer,t,i-t+s)}return e}function pa(r,e,t=0,i=e.byteLength){let n=r.byteLength,s=new Uint8Array(r.buffer,r.byteOffset,n),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(i,n));return s.set(o,t),r}T.memcpy=pa;function Am(r,e){let t=Om(r),i=t.reduce((h,B)=>h+B.byteLength,0),n,s,o,a=0,u=-1,d=Math.min(e||1/0,i);for(let h=t.length;++u<h;){if(n=t[u],s=n.subarray(0,Math.min(n.length,d-a)),d<=a+s.length){s.length<n.length?t[u]=n.subarray(s.length):s.length===n.length&&u++,o?pa(o,s,a):o=s;break}pa(o||(o=new Uint8Array(d)),s,a),a+=s.length}return[o||new Uint8Array(0),t.slice(u),i-(o?o.byteLength:0)]}T.joinUint8Arrays=Am;function Le(r,e){let t=Yr.isIteratorResult(e)?e.value:e;return t instanceof r?r===Uint8Array?new r(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=wm.encodeUtf8(t)),t instanceof ArrayBuffer?new r(t):t instanceof ya?new r(t):t instanceof Sm?Le(r,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new r(0):new r(t.buffer,t.byteOffset,t.byteLength/r.BYTES_PER_ELEMENT):r.from(t)):new r(0)}T.toArrayBufferView=Le;T.toInt8Array=r=>Le(Int8Array,r);T.toInt16Array=r=>Le(Int16Array,r);T.toInt32Array=r=>Le(Int32Array,r);T.toBigInt64Array=r=>Le(Yr.BigInt64Array,r);T.toUint8Array=r=>Le(Uint8Array,r);T.toUint16Array=r=>Le(Uint16Array,r);T.toUint32Array=r=>Le(Uint32Array,r);T.toBigUint64Array=r=>Le(Yr.BigUint64Array,r);T.toFloat32Array=r=>Le(Float32Array,r);T.toFloat64Array=r=>Le(Float64Array,r);T.toUint8ClampedArray=r=>Le(Uint8ClampedArray,r);var ma=r=>(r.next(),r);function*Bt(r,e){let t=function*(n){yield n},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof ya?t(e):Yr.isIterable(e)?e:t(e);return yield*ma(function*(n){let s=null;do s=n.next(yield Le(r,s));while(!s.done)}(i[Symbol.iterator]())),new r}T.toArrayBufferViewIterator=Bt;T.toInt8ArrayIterator=r=>Bt(Int8Array,r);T.toInt16ArrayIterator=r=>Bt(Int16Array,r);T.toInt32ArrayIterator=r=>Bt(Int32Array,r);T.toUint8ArrayIterator=r=>Bt(Uint8Array,r);T.toUint16ArrayIterator=r=>Bt(Uint16Array,r);T.toUint32ArrayIterator=r=>Bt(Uint32Array,r);T.toFloat32ArrayIterator=r=>Bt(Float32Array,r);T.toFloat64ArrayIterator=r=>Bt(Float64Array,r);T.toUint8ClampedArrayIterator=r=>Bt(Uint8ClampedArray,r);function dt(r,e){return _e.__asyncGenerator(this,arguments,function*(){if(Yr.isPromise(e))return yield _e.__await(yield _e.__await(yield*_e.__asyncDelegator(_e.__asyncValues(dt(r,yield _e.__await(e))))));let i=function(o){return _e.__asyncGenerator(this,arguments,function*(){yield yield _e.__await(yield _e.__await(o))})},n=function(o){return _e.__asyncGenerator(this,arguments,function*(){yield _e.__await(yield*_e.__asyncDelegator(_e.__asyncValues(ma(function*(a){let u=null;do u=a.next(yield u==null?void 0:u.value);while(!u.done)}(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof ya?i(e):Yr.isIterable(e)?n(e):Yr.isAsyncIterable(e)?e:i(e);return yield _e.__await(yield*_e.__asyncDelegator(_e.__asyncValues(ma(function(o){return _e.__asyncGenerator(this,arguments,function*(){let a=null;do a=yield _e.__await(o.next(yield yield _e.__await(Le(r,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield _e.__await(new r)})}T.toArrayBufferViewAsyncIterator=dt;T.toInt8ArrayAsyncIterator=r=>dt(Int8Array,r);T.toInt16ArrayAsyncIterator=r=>dt(Int16Array,r);T.toInt32ArrayAsyncIterator=r=>dt(Int32Array,r);T.toUint8ArrayAsyncIterator=r=>dt(Uint8Array,r);T.toUint16ArrayAsyncIterator=r=>dt(Uint16Array,r);T.toUint32ArrayAsyncIterator=r=>dt(Uint32Array,r);T.toFloat32ArrayAsyncIterator=r=>dt(Float32Array,r);T.toFloat64ArrayAsyncIterator=r=>dt(Float64Array,r);T.toUint8ClampedArrayAsyncIterator=r=>dt(Uint8ClampedArray,r);function Fm(r,e,t){if(r!==0){t=t.slice(0,e+1);for(let i=-1;++i<=e;)t[i]+=r}return t}T.rebaseValueOffsets=Fm;function Em(r,e){let t=0,i=r.length;if(i!==e.length)return!1;if(i>0)do if(r[t]!==e[t])return!1;while(++t<i);return!0}T.compareArrayLike=Em});var bn=p(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var Z=Ve(),ke=ve();ba.default={fromIterable(r){return us(Dm(r))},fromAsyncIterable(r){return us(Rm(r))},fromDOMStream(r){return us(Um(r))},fromNodeStream(r){return us(Mm(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}};var us=r=>(r.next(),r);function*Dm(r){let e,t=!1,i=[],n,s,o,a=0;function u(){return s==="peek"?ke.joinUint8Arrays(i,o)[0]:([n,i,a]=ke.joinUint8Arrays(i,o),n)}({cmd:s,size:o}=yield null);let d=ke.toUint8ArrayIterator(r)[Symbol.iterator]();try{do if({done:e,value:n}=isNaN(o-a)?d.next(void 0):d.next(o-a),!e&&n.byteLength>0&&(i.push(n),a+=n.byteLength),e||o<=a)do({cmd:s,size:o}=yield u());while(o<a);while(!e)}catch(h){(t=!0)&&typeof d.throw=="function"&&d.throw(h)}finally{t===!1&&typeof d.return=="function"&&d.return(null)}return null}function Rm(r){return Z.__asyncGenerator(this,arguments,function*(){let t,i=!1,n=[],s,o,a,u=0;function d(){return o==="peek"?ke.joinUint8Arrays(n,a)[0]:([s,n,u]=ke.joinUint8Arrays(n,a),s)}({cmd:o,size:a}=yield yield Z.__await(null));let h=ke.toUint8ArrayAsyncIterator(r)[Symbol.asyncIterator]();try{do if({done:t,value:s}=isNaN(a-u)?yield Z.__await(h.next(void 0)):yield Z.__await(h.next(a-u)),!t&&s.byteLength>0&&(n.push(s),u+=s.byteLength),t||a<=u)do({cmd:o,size:a}=yield yield Z.__await(d()));while(a<u);while(!t)}catch(B){(i=!0)&&typeof h.throw=="function"&&(yield Z.__await(h.throw(B)))}finally{i===!1&&typeof h.return=="function"&&(yield Z.__await(h.return(new Uint8Array(0))))}return yield Z.__await(null)})}function Um(r){return Z.__asyncGenerator(this,arguments,function*(){let t=!1,i=!1,n=[],s,o,a,u=0;function d(){return o==="peek"?ke.joinUint8Arrays(n,a)[0]:([s,n,u]=ke.joinUint8Arrays(n,a),s)}({cmd:o,size:a}=yield yield Z.__await(null));let h=new ud(r);try{do if({done:t,value:s}=isNaN(a-u)?yield Z.__await(h.read(void 0)):yield Z.__await(h.read(a-u)),!t&&s.byteLength>0&&(n.push(ke.toUint8Array(s)),u+=s.byteLength),t||a<=u)do({cmd:o,size:a}=yield yield Z.__await(d()));while(a<u);while(!t)}catch(B){(i=!0)&&(yield Z.__await(h.cancel(B)))}finally{i===!1?yield Z.__await(h.cancel()):r.locked&&h.releaseLock()}return yield Z.__await(null)})}var ud=class{constructor(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch(t){this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}cancel(e){return Z.__awaiter(this,void 0,void 0,function*(){let{reader:t,source:i}=this;t&&(yield t.cancel(e).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(e){return Z.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let t=!this.supportsBYOB||typeof e!="number"?yield this.getDefaultReader().read():yield this.readFromBYOBReader(e);return!t.done&&(t.value=ke.toUint8Array(t)),t})}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}readFromBYOBReader(e){return Z.__awaiter(this,void 0,void 0,function*(){return yield ld(this.getBYOBReader(),new ArrayBuffer(e),0,e)})}};function ld(r,e,t,i){return Z.__awaiter(this,void 0,void 0,function*(){if(t>=i)return{done:!1,value:new Uint8Array(e,0,i)};let{done:n,value:s}=yield r.read(new Uint8Array(e,t,i-t));return(t+=s.byteLength)<i&&!n?yield ld(r,s.buffer,t,i):{done:n,value:new Uint8Array(s.buffer,0,t)}})}var _a=(r,e)=>{let t=n=>i([e,n]),i;return[e,t,new Promise(n=>(i=n)&&r.once(e,t))]};function Mm(r){return Z.__asyncGenerator(this,arguments,function*(){let t=[],i="error",n=!1,s=null,o,a,u=0,d=[],h;function B(){return o==="peek"?ke.joinUint8Arrays(d,a)[0]:([h,d,u]=ke.joinUint8Arrays(d,a),h)}if({cmd:o,size:a}=yield yield Z.__await(null),r.isTTY)return yield yield Z.__await(new Uint8Array(0)),yield Z.__await(null);try{t[0]=_a(r,"end"),t[1]=_a(r,"error");do{if(t[2]=_a(r,"readable"),[i,s]=yield Z.__await(Promise.race(t.map($=>$[2]))),i==="error")break;if((n=i==="end")||(isFinite(a-u)?(h=ke.toUint8Array(r.read(a-u)),h.byteLength<a-u&&(h=ke.toUint8Array(r.read(void 0)))):h=ke.toUint8Array(r.read(void 0)),h.byteLength>0&&(d.push(h),u+=h.byteLength)),n||a<=u)do({cmd:o,size:a}=yield yield Z.__await(B()));while(a<u)}while(!n)}finally{yield Z.__await(w(t,i==="error"?s:null))}return yield Z.__await(null);function w($,me){return h=d=null,new Promise((he,ar)=>{for(let[It,q]of $)r.off(It,q);try{let It=r.destroy;It&&It.call(r,me),me=void 0}catch(It){me=It||me}finally{me!=null?ar(me):he()}})}})}});var fe=p(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.Vector=bi.AbstractVector=void 0;var ls=class{};bi.AbstractVector=ls;bi.Vector=ls;ls.prototype.data=null});var pr=p(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.Schema=I.Buffer=I.Field=I.DictionaryEncoding=I.KeyValue=I.Duration=I.Interval=I.Timestamp=I.Time=I.Date=I.Decimal=I.Bool=I.FixedSizeBinary=I.LargeBinary=I.LargeUtf8=I.Binary=I.Utf8=I.FloatingPoint=I.Int=I.Union=I.Map=I.FixedSizeList=I.LargeList=I.List=I.Struct_=I.Null=I.Endianness=I.DictionaryKind=I.Type=I.IntervalUnit=I.TimeUnit=I.DateUnit=I.Precision=I.UnionMode=I.Feature=I.MetadataVersion=void 0;var te=Yt(),Vm;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Vm=I.MetadataVersion||(I.MetadataVersion={}));var Nm;(function(r){r[r.UNUSED=0]="UNUSED",r[r.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",r[r.COMPRESSED_BODY=2]="COMPRESSED_BODY"})(Nm=I.Feature||(I.Feature={}));var ga;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(ga=I.UnionMode||(I.UnionMode={}));var Ia;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(Ia=I.Precision||(I.Precision={}));var Ta;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Ta=I.DateUnit||(I.DateUnit={}));var Hr;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Hr=I.TimeUnit||(I.TimeUnit={}));var va;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME"})(va=I.IntervalUnit||(I.IntervalUnit={}));var Ba;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"})(Ba=I.Type||(I.Type={}));var wa;(function(r){r[r.DenseArray=0]="DenseArray"})(wa=I.DictionaryKind||(I.DictionaryKind={}));var Sa;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(Sa=I.Endianness||(I.Endianness={}));var Kr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new Kr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Kr).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return Kr.startNull(e),Kr.endNull(e)}};I.Null=Kr;var $r=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new $r).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new $r).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return $r.startStruct_(e),$r.endStruct_(e)}};I.Struct_=$r;var Jr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new Jr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Jr).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Jr.startList(e),Jr.endList(e)}};I.List=Jr;var Qr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,t){return(t||new Qr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Qr).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return Qr.startLargeList(e),Qr.endLargeList(e)}};I.LargeList=Qr;var cr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new cr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new cr).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return cr.startFixedSizeList(e),cr.addListSize(e,t),cr.endFixedSizeList(e)}};I.FixedSizeList=cr;var ur=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new ur).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ur).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return ur.startMap(e),ur.addKeysSorted(e,t),ur.endMap(e)}};I.Map=ur;var Ht=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new Ht).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ht).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ga.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,ga.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addInt32(t[i]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,i){return Ht.startUnion(e),Ht.addMode(e,t),Ht.addTypeIds(e,i),Ht.endUnion(e)}};I.Union=Ht;var wt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new wt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new wt).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,i){return wt.startInt(e),wt.addBitWidth(e,t),wt.addIsSigned(e,i),wt.endInt(e)}};I.Int=wt;var lr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new lr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new lr).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ia.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,Ia.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return lr.startFloatingPoint(e),lr.addPrecision(e,t),lr.endFloatingPoint(e)}};I.FloatingPoint=lr;var Zr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new Zr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Zr).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Zr.startUtf8(e),Zr.endUtf8(e)}};I.Utf8=Zr;var Xr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new Xr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Xr).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Xr.startBinary(e),Xr.endBinary(e)}};I.Binary=Xr;var ei=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,t){return(t||new ei).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ei).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return ei.startLargeUtf8(e),ei.endLargeUtf8(e)}};I.LargeUtf8=ei;var ti=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,t){return(t||new ti).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ti).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return ti.startLargeBinary(e),ti.endLargeBinary(e)}};I.LargeBinary=ti;var dr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new dr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new dr).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return dr.startFixedSizeBinary(e),dr.addByteWidth(e,t),dr.endFixedSizeBinary(e)}};I.FixedSizeBinary=dr;var ri=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new ri).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ri).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return ri.startBool(e),ri.endBool(e)}};I.Bool=ri;var St=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new St).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new St).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,i,n){return St.startDecimal(e),St.addPrecision(e,t),St.addScale(e,i),St.addBitWidth(e,n),St.endDecimal(e)}};I.Decimal=St;var hr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new hr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new hr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ta.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Ta.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return hr.startDate(e),hr.addUnit(e,t),hr.endDate(e)}};I.Date=hr;var Kt=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new Kt).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Kt).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Hr.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Hr.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,i){return Kt.startTime(e),Kt.addUnit(e,t),Kt.addBitWidth(e,i),Kt.endTime(e)}};I.Time=Kt;var $t=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new $t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new $t).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Hr.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Hr.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,i){return $t.startTimestamp(e),$t.addUnit(e,t),$t.addTimezone(e,i),$t.endTimestamp(e)}};I.Timestamp=$t;var fr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new fr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new fr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):va.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,va.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return fr.startInterval(e),fr.addUnit(e,t),fr.endInterval(e)}};I.Interval=fr;var yr=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new yr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new yr).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Hr.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Hr.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return yr.startDuration(e),yr.addUnit(e,t),yr.endDuration(e)}};I.Duration=yr;var ht=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new ht).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ht).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,i){return ht.startKeyValue(e),ht.addKey(e,t),ht.addValue(e,i),ht.endKeyValue(e)}};I.KeyValue=ht;var We=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new We).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new We).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new wt).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):wa.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,wa.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}static createDictionaryEncoding(e,t,i,n,s){return We.startDictionaryEncoding(e),We.addId(e,t),We.addIndexType(e,i),We.addIsOrdered(e,n),We.addDictionaryKind(e,s),We.endDictionaryEncoding(e)}};I.DictionaryEncoding=We;var Pe=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new Pe).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Pe).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Ba.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new We).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let i=this.bb.__offset(this.bb_pos,14);return i?(t||new Pe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,16);return i?(t||new ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,Ba.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}static createField(e,t,i,n,s,o,a,u){return Pe.startField(e),Pe.addName(e,t),Pe.addNullable(e,i),Pe.addTypeType(e,n),Pe.addType(e,s),Pe.addDictionary(e,o),Pe.addChildren(e,a),Pe.addCustomMetadata(e,u),Pe.endField(e)}};I.Field=Pe;var dd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}};I.Buffer=dd;var ft=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new ft).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+te.flatbuffers.SIZE_PREFIX_LENGTH),(t||new ft).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Sa.Little}fields(e,t){let i=this.bb.__offset(this.bb_pos,6);return i?(t||new Pe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,8);return i?(t||new ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,Sa.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let i=t.length-1;i>=0;i--)e.addInt64(t[i]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,i,n,s){return ft.startSchema(e),ft.addEndianness(e,t),ft.addFields(e,i),ft.addCustomMetadata(e,n),ft.addFeatures(e,s),ft.endSchema(e)}};I.Schema=ft});var fs=p(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.Message=ye.DictionaryBatch=ye.RecordBatch=ye.BodyCompression=ye.FieldNode=ye.MessageHeader=ye.BodyCompressionMethod=ye.CompressionType=void 0;var ds=Yt(),hs=pr(),Oa;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(Oa=ye.CompressionType||(ye.CompressionType={}));var Aa;(function(r){r[r.BUFFER=0]="BUFFER"})(Aa=ye.BodyCompressionMethod||(ye.BodyCompressionMethod={}));var Fa;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Fa=ye.MessageHeader||(ye.MessageHeader={}));var Ea=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(e,t,i){return e.prep(8,16),e.writeInt64(i),e.writeInt64(t),e.offset()}};ye.FieldNode=Ea;var Ot=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new Ot).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+ds.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ot).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Oa.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Aa.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,Oa.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,Aa.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,i){return Ot.startBodyCompression(e),Ot.addCodec(e,t),Ot.addMethod(e,i),Ot.endBodyCompression(e)}};ye.BodyCompression=Ot;var Ge=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new Ge).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+ds.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ge).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let i=this.bb.__offset(this.bb_pos,6);return i?(t||new Ea).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let i=this.bb.__offset(this.bb_pos,8);return i?(t||new hs.Buffer).__init(this.bb.__vector(this.bb_pos+i)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new Ot).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}static createRecordBatch(e,t,i,n,s){return Ge.startRecordBatch(e),Ge.addLength(e,t),Ge.addNodes(e,i),Ge.addBuffers(e,n),Ge.addCompression(e,s),Ge.endRecordBatch(e)}};ye.RecordBatch=Ge;var At=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new At).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+ds.flatbuffers.SIZE_PREFIX_LENGTH),(t||new At).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new Ge).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}static createDictionaryBatch(e,t,i,n){return At.startDictionaryBatch(e),At.addId(e,t),At.addData(e,i),At.addIsDelta(e,n),At.endDictionaryBatch(e)}};ye.DictionaryBatch=At;var Ye=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new Ye).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+ds.flatbuffers.SIZE_PREFIX_LENGTH),(t||new Ye).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):hs.MetadataVersion.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Fa.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,12);return i?(t||new hs.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,hs.MetadataVersion.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,Fa.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,i,n,s,o){return Ye.startMessage(e),Ye.addVersion(e,t),Ye.addHeaderType(e,i),Ye.addHeader(e,n),Ye.addBodyLength(e,s),Ye.addCustomMetadata(e,o),Ye.endMessage(e)}};ye.Message=Ye});var ee=p(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.BufferType=oe.Type=oe.MessageHeader=oe.MetadataVersion=oe.IntervalUnit=oe.UnionMode=oe.Precision=oe.TimeUnit=oe.DateUnit=void 0;var gi=pr();Object.defineProperty(oe,"DateUnit",{enumerable:!0,get:function(){return gi.DateUnit}});Object.defineProperty(oe,"TimeUnit",{enumerable:!0,get:function(){return gi.TimeUnit}});Object.defineProperty(oe,"Precision",{enumerable:!0,get:function(){return gi.Precision}});Object.defineProperty(oe,"UnionMode",{enumerable:!0,get:function(){return gi.UnionMode}});Object.defineProperty(oe,"IntervalUnit",{enumerable:!0,get:function(){return gi.IntervalUnit}});Object.defineProperty(oe,"MetadataVersion",{enumerable:!0,get:function(){return gi.MetadataVersion}});var Pm=fs();Object.defineProperty(oe,"MessageHeader",{enumerable:!0,get:function(){return Pm.MessageHeader}});var Lm;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(Lm=oe.Type||(oe.Type={}));var km;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(km=oe.BufferType||(oe.BufferType={}))});var Ft=p(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.popcnt_uint32=be.popcnt_array=be.popcnt_bit_range=be.BitIterator=be.packBools=be.truncateBitmap=be.setBool=be.getBit=be.getBool=void 0;function hd(r,e,t,i){return(t&1<<i)!=0}be.getBool=hd;function fd(r,e,t,i){return(t&1<<i)>>i}be.getBit=fd;function xm(r,e,t){return t?!!(r[e>>3]|=1<<e%8)||!0:!(r[e>>3]&=~(1<<e%8))&&!1}be.setBool=xm;function jm(r,e,t){let i=t.byteLength+7&~7;if(r>0||t.byteLength<i){let n=new Uint8Array(i);return n.set(r%8==0?t.subarray(r>>3):yd(new ys(t,r,e,null,hd)).subarray(0,i)),n}return t}be.truncateBitmap=jm;function yd(r){let e=[],t=0,i=0,n=0;for(let o of r)o&&(n|=1<<i),++i==8&&(e[t++]=n,n=i=0);(t===0||i>0)&&(e[t++]=n);let s=new Uint8Array(e.length+7&~7);return s.set(e),s}be.packBools=yd;var ys=class{constructor(e,t,i,n,s){this.bytes=e,this.length=i,this.context=n,this.get=s,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};be.BitIterator=ys;function Da(r,e,t){if(t-e<=0)return 0;if(t-e<8){let s=0;for(let o of new ys(r,e,t-e,r,fd))s+=o;return s}let i=t>>3<<3,n=e+(e%8==0?0:8-e%8);return Da(r,e,n)+Da(r,i,t)+pd(r,n>>3,i-n>>3)}be.popcnt_bit_range=Da;function pd(r,e,t){let i=0,n=e|0,s=new DataView(r.buffer,r.byteOffset,r.byteLength),o=t===void 0?r.byteLength:n+t;for(;o-n>=4;)i+=ps(s.getUint32(n)),n+=4;for(;o-n>=2;)i+=ps(s.getUint16(n)),n+=2;for(;o-n>=1;)i+=ps(s.getUint8(n)),n+=1;return i}be.popcnt_array=pd;function ps(r){let e=r|0;return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}be.popcnt_uint32=ps});var J=p(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.strideForType=b.Dictionary=b.Map_=b.FixedSizeList=b.FixedSizeBinary=b.SparseUnion=b.DenseUnion=b.Union=b.Struct=b.List=b.IntervalYearMonth=b.IntervalDayTime=b.Interval=b.TimestampNanosecond=b.TimestampMicrosecond=b.TimestampMillisecond=b.TimestampSecond=b.Timestamp=b.TimeNanosecond=b.TimeMicrosecond=b.TimeMillisecond=b.TimeSecond=b.Time=b.DateMillisecond=b.DateDay=b.Date_=b.Decimal=b.Bool=b.Utf8=b.Binary=b.Float64=b.Float32=b.Float16=b.Float=b.Uint64=b.Uint32=b.Uint16=b.Uint8=b.Int64=b.Int32=b.Int16=b.Int8=b.Int=b.Null=b.DataType=void 0;var v=ee(),ae=class{static isNull(e){return(e==null?void 0:e.typeId)===v.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===v.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===v.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===v.Type.Binary}static isUtf8(e){return(e==null?void 0:e.typeId)===v.Type.Utf8}static isBool(e){return(e==null?void 0:e.typeId)===v.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===v.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===v.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===v.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===v.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===v.Type.Interval}static isList(e){return(e==null?void 0:e.typeId)===v.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===v.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===v.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===v.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===v.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===v.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===v.Type.Dictionary}get typeId(){return v.Type.NONE}};b.DataType=ae;ae[Symbol.toStringTag]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(ae.prototype);var ms=class extends ae{toString(){return"Null"}get typeId(){return v.Type.Null}};b.Null=ms;ms[Symbol.toStringTag]=(r=>r[Symbol.toStringTag]="Null")(ms.prototype);var He=class extends ae{constructor(e,t){super();this.isSigned=e,this.bitWidth=t}get typeId(){return v.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};b.Int=He;He[Symbol.toStringTag]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(He.prototype);var Ra=class extends He{constructor(){super(!0,8)}};b.Int8=Ra;var Ua=class extends He{constructor(){super(!0,16)}};b.Int16=Ua;var Ma=class extends He{constructor(){super(!0,32)}};b.Int32=Ma;var Va=class extends He{constructor(){super(!0,64)}};b.Int64=Va;var Na=class extends He{constructor(){super(!1,8)}};b.Uint8=Na;var Pa=class extends He{constructor(){super(!1,16)}};b.Uint16=Pa;var La=class extends He{constructor(){super(!1,32)}};b.Uint32=La;var ka=class extends He{constructor(){super(!1,64)}};b.Uint64=ka;Object.defineProperty(Ra.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Ua.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Ma.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Va.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Na.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Pa.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(La.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(ka.prototype,"ArrayType",{value:Uint32Array});var ii=class extends ae{constructor(e){super();this.precision=e}get typeId(){return v.Type.Float}get ArrayType(){switch(this.precision){case v.Precision.HALF:return Uint16Array;case v.Precision.SINGLE:return Float32Array;case v.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};b.Float=ii;ii[Symbol.toStringTag]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(ii.prototype);var xa=class extends ii{constructor(){super(v.Precision.HALF)}};b.Float16=xa;var ja=class extends ii{constructor(){super(v.Precision.SINGLE)}};b.Float32=ja;var Ca=class extends ii{constructor(){super(v.Precision.DOUBLE)}};b.Float64=Ca;Object.defineProperty(xa.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(ja.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Ca.prototype,"ArrayType",{value:Float64Array});var _s=class extends ae{constructor(){super()}get typeId(){return v.Type.Binary}toString(){return"Binary"}};b.Binary=_s;_s[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(_s.prototype);var bs=class extends ae{constructor(){super()}get typeId(){return v.Type.Utf8}toString(){return"Utf8"}};b.Utf8=bs;bs[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(bs.prototype);var gs=class extends ae{constructor(){super()}get typeId(){return v.Type.Bool}toString(){return"Bool"}};b.Bool=gs;gs[Symbol.toStringTag]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(gs.prototype);var Is=class extends ae{constructor(e,t){super();this.scale=e,this.precision=t}get typeId(){return v.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};b.Decimal=Is;Is[Symbol.toStringTag]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(Is.prototype);var Ii=class extends ae{constructor(e){super();this.unit=e}get typeId(){return v.Type.Date}toString(){return`Date${(this.unit+1)*32}<${v.DateUnit[this.unit]}>`}};b.Date_=Ii;Ii[Symbol.toStringTag]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(Ii.prototype);var md=class extends Ii{constructor(){super(v.DateUnit.DAY)}};b.DateDay=md;var _d=class extends Ii{constructor(){super(v.DateUnit.MILLISECOND)}};b.DateMillisecond=_d;var mr=class extends ae{constructor(e,t){super();this.unit=e,this.bitWidth=t}get typeId(){return v.Type.Time}toString(){return`Time${this.bitWidth}<${v.TimeUnit[this.unit]}>`}};b.Time=mr;mr[Symbol.toStringTag]=(r=>(r.unit=null,r.bitWidth=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Time"))(mr.prototype);var bd=class extends mr{constructor(){super(v.TimeUnit.SECOND,32)}};b.TimeSecond=bd;var gd=class extends mr{constructor(){super(v.TimeUnit.MILLISECOND,32)}};b.TimeMillisecond=gd;var Id=class extends mr{constructor(){super(v.TimeUnit.MICROSECOND,64)}};b.TimeMicrosecond=Id;var Td=class extends mr{constructor(){super(v.TimeUnit.NANOSECOND,64)}};b.TimeNanosecond=Td;var _r=class extends ae{constructor(e,t){super();this.unit=e,this.timezone=t}get typeId(){return v.Type.Timestamp}toString(){return`Timestamp<${v.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};b.Timestamp=_r;_r[Symbol.toStringTag]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(_r.prototype);var vd=class extends _r{constructor(e){super(v.TimeUnit.SECOND,e)}};b.TimestampSecond=vd;var Bd=class extends _r{constructor(e){super(v.TimeUnit.MILLISECOND,e)}};b.TimestampMillisecond=Bd;var wd=class extends _r{constructor(e){super(v.TimeUnit.MICROSECOND,e)}};b.TimestampMicrosecond=wd;var Sd=class extends _r{constructor(e){super(v.TimeUnit.NANOSECOND,e)}};b.TimestampNanosecond=Sd;var Ti=class extends ae{constructor(e){super();this.unit=e}get typeId(){return v.Type.Interval}toString(){return`Interval<${v.IntervalUnit[this.unit]}>`}};b.Interval=Ti;Ti[Symbol.toStringTag]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(Ti.prototype);var Od=class extends Ti{constructor(){super(v.IntervalUnit.DAY_TIME)}};b.IntervalDayTime=Od;var Ad=class extends Ti{constructor(){super(v.IntervalUnit.YEAR_MONTH)}};b.IntervalYearMonth=Ad;var Ts=class extends ae{constructor(e){super();this.children=[e]}get typeId(){return v.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};b.List=Ts;Ts[Symbol.toStringTag]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(Ts.prototype);var vs=class extends ae{constructor(e){super();this.children=e}get typeId(){return v.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};b.Struct=vs;vs[Symbol.toStringTag]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(vs.prototype);var vi=class extends ae{constructor(e,t,i){super();this.mode=e,this.children=i,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((n,s,o)=>(n[s]=o)&&n||n,Object.create(null))}get typeId(){return v.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};b.Union=vi;vi[Symbol.toStringTag]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(vi.prototype);var Fd=class extends vi{constructor(e,t){super(v.UnionMode.Dense,e,t)}};b.DenseUnion=Fd;var Ed=class extends vi{constructor(e,t){super(v.UnionMode.Sparse,e,t)}};b.SparseUnion=Ed;var Bs=class extends ae{constructor(e){super();this.byteWidth=e}get typeId(){return v.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};b.FixedSizeBinary=Bs;Bs[Symbol.toStringTag]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(Bs.prototype);var ws=class extends ae{constructor(e,t){super();this.listSize=e,this.children=[t]}get typeId(){return v.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};b.FixedSizeList=ws;ws[Symbol.toStringTag]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(ws.prototype);var Ss=class extends ae{constructor(e,t=!1){super();this.children=[e],this.keysSorted=t}get typeId(){return v.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};b.Map_=Ss;Ss[Symbol.toStringTag]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(Ss.prototype);var Cm=(r=>()=>++r)(-1),Os=class extends ae{constructor(e,t,i,n){super();this.indices=t,this.dictionary=e,this.isOrdered=n||!1,this.id=i==null?Cm():typeof i=="number"?i:i.low}get typeId(){return v.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};b.Dictionary=Os;Os[Symbol.toStringTag]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Os.prototype);function qm(r){let e=r;switch(r.typeId){case v.Type.Decimal:return 4;case v.Type.Timestamp:return 2;case v.Type.Date:return 1+e.unit;case v.Type.Interval:return 1+e.unit;case v.Type.Int:return 1+ +(e.bitWidth>32);case v.Type.Time:return 1+ +(e.bitWidth>32);case v.Type.FixedSizeList:return e.listSize;case v.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}b.strideForType=qm});var yt=p(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.Data=ni.kUnknownNullCount=void 0;var zm=Ft(),Wm=Ft(),O=ee(),Gm=J(),Y=ve();ni.kUnknownNullCount=-1;var P=class{constructor(e,t,i,n,s,o,a){this.type=e,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),this.childData=(o||[]).map(d=>d instanceof P?d:d.data);let u;s instanceof P?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Gm.strideForType(e),s&&((u=s[0])&&(this.valueOffsets=u),(u=s[1])&&(this.values=u),(u=s[2])&&(this.nullBitmap=u),(u=s[3])&&(this.typeIds=u)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:i,nullBitmap:n,typeIds:s}=this;return t&&(e+=t.byteLength),i&&(e+=i.byteLength),n&&(e+=n.byteLength),s&&(e+=s.byteLength),this.childData.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=ni.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Wm.popcnt_bit_range(t,this.offset,this.offset+this.length)),e}clone(e,t=this.offset,i=this.length,n=this._nullCount,s=this,o=this.childData){return new P(e,t,i,n,s,o,this.dictionary)}slice(e,t){let{stride:i,typeId:n,childData:s}=this,o=+(this._nullCount===0)-1,a=n===16?i:1,u=this._sliceBuffers(e,t,i,n);return this.clone(this.type,this.offset+e,t,o,u,!s.length||this.valueOffsets?s:this._sliceChildren(s,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===O.Type.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:i}=this,n=new Uint8Array((e+63&~63)>>3).fill(255,0,t>>3);n[t>>3]=(1<<t-(t&~7))-1,i>0&&n.set(zm.truncateBitmap(this.offset,t,this.nullBitmap),0);let s=this.buffers;return s[O.BufferType.VALIDITY]=n,this.clone(this.type,0,e,i+(e-t),s)}_sliceBuffers(e,t,i,n){let s,{buffers:o}=this;return(s=o[O.BufferType.TYPE])&&(o[O.BufferType.TYPE]=s.subarray(e,e+t)),(s=o[O.BufferType.OFFSET])&&(o[O.BufferType.OFFSET]=s.subarray(e,e+t+1))||(s=o[O.BufferType.DATA])&&(o[O.BufferType.DATA]=n===6?s:s.subarray(i*e,i*(e+t))),o}_sliceChildren(e,t,i){return e.map(n=>n.slice(t,i))}static new(e,t,i,n,s,o,a){switch(s instanceof P?s=s.buffers:s||(s=[]),e.typeId){case O.Type.Null:return P.Null(e,t,i);case O.Type.Int:return P.Int(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Dictionary:return P.Dictionary(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[],a);case O.Type.Float:return P.Float(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Bool:return P.Bool(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Decimal:return P.Decimal(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Date:return P.Date(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Time:return P.Time(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Timestamp:return P.Timestamp(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Interval:return P.Interval(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.FixedSizeBinary:return P.FixedSizeBinary(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.DATA]||[]);case O.Type.Binary:return P.Binary(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.OFFSET]||[],s[O.BufferType.DATA]||[]);case O.Type.Utf8:return P.Utf8(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.OFFSET]||[],s[O.BufferType.DATA]||[]);case O.Type.List:return P.List(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.OFFSET]||[],(o||[])[0]);case O.Type.FixedSizeList:return P.FixedSizeList(e,t,i,n||0,s[O.BufferType.VALIDITY],(o||[])[0]);case O.Type.Struct:return P.Struct(e,t,i,n||0,s[O.BufferType.VALIDITY],o||[]);case O.Type.Map:return P.Map(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.OFFSET]||[],(o||[])[0]);case O.Type.Union:return P.Union(e,t,i,n||0,s[O.BufferType.VALIDITY],s[O.BufferType.TYPE]||[],s[O.BufferType.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,t,i){return new P(e,t,i,0)}static Int(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Dictionary(e,t,i,n,s,o,a){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.indices.ArrayType,o),Y.toUint8Array(s)],[],a)}static Float(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Bool(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Decimal(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Date(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Time(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Timestamp(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Interval(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static FixedSizeBinary(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,Y.toArrayBufferView(e.ArrayType,o),Y.toUint8Array(s)])}static Binary(e,t,i,n,s,o,a){return new P(e,t,i,n,[Y.toInt32Array(o),Y.toUint8Array(a),Y.toUint8Array(s)])}static Utf8(e,t,i,n,s,o,a){return new P(e,t,i,n,[Y.toInt32Array(o),Y.toUint8Array(a),Y.toUint8Array(s)])}static List(e,t,i,n,s,o,a){return new P(e,t,i,n,[Y.toInt32Array(o),void 0,Y.toUint8Array(s)],a?[a]:[])}static FixedSizeList(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,void 0,Y.toUint8Array(s)],o?[o]:[])}static Struct(e,t,i,n,s,o){return new P(e,t,i,n,[void 0,void 0,Y.toUint8Array(s)],o)}static Map(e,t,i,n,s,o,a){return new P(e,t,i,n,[Y.toInt32Array(o),void 0,Y.toUint8Array(s)],a?[a]:[])}static Union(e,t,i,n,s,o,a,u){let d=[void 0,void 0,Y.toUint8Array(s),Y.toArrayBufferView(e.ArrayType,o)];return e.mode===O.UnionMode.Sparse?new P(e,t,i,n,d,a):(d[O.BufferType.OFFSET]=Y.toInt32Array(a),new P(e,t,i,n,d,u))}};ni.Data=P;P.prototype.childData=Object.freeze([])});var qa=p(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.valueToString=void 0;var Ym=void 0;function Hm(r){if(r===null)return"null";if(r===Ym)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r)}As.valueToString=Hm});var Dd=p(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.createIsValidFunction=void 0;var za=qa(),Km=Ne();function $m(r){if(!r||r.length<=0)return function(n){return!0};let e="",t=r.filter(i=>i===i);return t.length>0&&(e=`
    switch (x) {${t.map(i=>`
        case ${Jm(i)}:`).join("")}
            return false;
    }`),r.length!==t.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}Fs.createIsValidFunction=$m;function Jm(r){return typeof r!="bigint"?za.valueToString(r):Km.BigIntAvailable?`${za.valueToString(r)}n`:`"${za.valueToString(r)}"`}});var br=p(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.WideBufferBuilder=Ke.OffsetsBufferBuilder=Ke.BitmapBufferBuilder=Ke.DataBufferBuilder=Ke.BufferBuilder=void 0;var Rd=ve(),Wa=Ne(),Ga=(r,e)=>(r*e+63&~63||64)/e,Qm=(r,e=0)=>r.length>=e?r.subarray(0,e):Rd.memcpy(new r.constructor(e),r,0),gn=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,i=this.length*t,n=this.buffer.length;i>=n&&this._resize(n===0?Ga(i*1,this.BYTES_PER_ELEMENT):Ga(i*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=Ga(e*this.stride,this.BYTES_PER_ELEMENT);let t=Qm(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=Rd.memcpy(new this.ArrayType(e),this.buffer)}};Ke.BufferBuilder=gn;gn.prototype.offset=0;var Es=class extends gn{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};Ke.DataBufferBuilder=Es;var Ud=class extends Es{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:i}=this.reserve(e-this.length+1),n=e>>3,s=e%8,o=i[n]>>s&1;return t?o===0&&(i[n]|=1<<s,++this.numValid):o===1&&(i[n]&=~(1<<s),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};Ke.BitmapBufferBuilder=Ud;var Md=class extends Es{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let i=this.length-1,n=this.reserve(e-i+1).buffer;return i<e++&&n.fill(n[i],i,e),n[e]=n[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};Ke.OffsetsBufferBuilder=Md;var Vd=class extends gn{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?Wa.BigInt64Array:Wa.BigUint64Array)}set(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this}_resize(e){let t=super._resize(e),i=t.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return Wa.BigIntAvailable&&(this.buffer64=new this.ArrayType64(t.buffer,t.byteOffset,i)),t}};Ke.WideBufferBuilder=Vd});var ce=p(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.VariableWidthBuilder=gr.FixedWidthBuilder=gr.Builder=void 0;var Bi=Ve(),Zm=fe(),wi=ee(),Xm=yt(),e_=Dd(),Ya=br(),t_=J(),$e=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=t_.strideForType(e),this._nulls=new Ya.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=e_.createIsValidFunction(t))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return r_(e)}static throughAsyncIterable(e){return i_(e)}toVector(){return Zm.Vector.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((t,i)=>t+i.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((t,i)=>t+i.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],t=this._values,i=this._offsets,n=this._typeIds,{length:s,nullCount:o}=this;n?(e[wi.BufferType.TYPE]=n.flush(s),i&&(e[wi.BufferType.OFFSET]=i.flush(s))):i?(t&&(e[wi.BufferType.DATA]=t.flush(i.last())),e[wi.BufferType.OFFSET]=i.flush(s)):t&&(e[wi.BufferType.DATA]=t.flush(s)),o>0&&(e[wi.BufferType.VALIDITY]=this._nulls.flush(s));let a=Xm.Data.new(this.type,0,s,o,e,this.children.map(u=>u.flush()));return this.clear(),a}finish(){return this.finished=!0,this.children.forEach(e=>e.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(e=>e.clear()),this}};gr.Builder=$e;$e.prototype.length=1;$e.prototype.stride=1;$e.prototype.children=null;$e.prototype.finished=!1;$e.prototype.nullValues=null;$e.prototype._isValid=()=>!0;var Nd=class extends $e{constructor(e){super(e);this._values=new Ya.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let i=this._values;return i.reserve(e-i.length+1),super.setValue(e,t)}};gr.FixedWidthBuilder=Nd;var Pd=class extends $e{constructor(e){super(e);this._pendingLength=0,this._offsets=new Ya.OffsetsBufferBuilder}setValue(e,t){let i=this._pending||(this._pending=new Map),n=i.get(e);n&&(this._pendingLength-=n.length),this._pendingLength+=t.length,i.set(e,t)}setValid(e,t){return super.setValid(e,t)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}};gr.VariableWidthBuilder=Pd;function r_(r){let{["queueingStrategy"]:e="count"}=r,{["highWaterMark"]:t=e!=="bytes"?1e3:Math.pow(2,14)}=r,i=e!=="bytes"?"length":"byteLength";return function*(n){let s=0,o=$e.new(r);for(let a of n)o.append(a)[i]>=t&&++s&&(yield o.toVector());(o.finish().length>0||s===0)&&(yield o.toVector())}}function i_(r){let{["queueingStrategy"]:e="count"}=r,{["highWaterMark"]:t=e!=="bytes"?1e3:Math.pow(2,14)}=r,i=e!=="bytes"?"length":"byteLength";return function(n){return Bi.__asyncGenerator(this,arguments,function*(){var s,o;let a=0,u=$e.new(r);try{for(var d=Bi.__asyncValues(n),h;h=yield Bi.__await(d.next()),!h.done;){let B=h.value;u.append(B)[i]>=t&&++a&&(yield yield Bi.__await(u.toVector()))}}catch(B){s={error:B}}finally{try{h&&!h.done&&(o=d.return)&&(yield Bi.__await(o.call(d)))}finally{if(s)throw s.error}}(u.finish().length>0||a===0)&&(yield yield Bi.__await(u.toVector()))})}}});var Ha=p(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.BoolBuilder=void 0;var n_=br(),s_=ce(),Ld=class extends s_.Builder{constructor(e){super(e);this._values=new n_.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};Ds.BoolBuilder=Ld});var Ka=p(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.NullBuilder=void 0;var o_=ce(),kd=class extends o_.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};Rs.NullBuilder=kd});var $a=p(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.DateMillisecondBuilder=Ir.DateDayBuilder=Ir.DateBuilder=void 0;var a_=ce(),Us=class extends a_.FixedWidthBuilder{};Ir.DateBuilder=Us;var xd=class extends Us{};Ir.DateDayBuilder=xd;var jd=class extends Us{};Ir.DateMillisecondBuilder=jd});var Ja=p(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.DecimalBuilder=void 0;var c_=ce(),Cd=class extends c_.FixedWidthBuilder{};Ms.DecimalBuilder=Cd});var Za=p(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.DictionaryBuilder=void 0;var u_=J(),Qa=ce(),qd=class extends Qa.Builder{constructor({type:e,nullValues:t,dictionaryHashFunction:i}){super({type:new u_.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Qa.Builder.new({type:this.type.indices,nullValues:t}),this.dictionary=Qa.Builder.new({type:this.type.dictionary,nullValues:null}),typeof i=="function"&&(this.valueToKey=i)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let i=this.indices;return t=i.setValid(e,t),this.length=i.length,t}setValue(e,t){let i=this._keysToIndices,n=this.valueToKey(t),s=i[n];return s===void 0&&(i[n]=s=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,s)}flush(){let e=this.type,t=this._dictionary,i=this.dictionary.toVector(),n=this.indices.flush().clone(e);return n.dictionary=t?t.concat(i):i,this.finished||(this._dictionaryOffset+=i.length),this._dictionary=n.dictionary,this.clear(),n}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};Vs.DictionaryBuilder=qd});var Xa=p(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.FixedSizeBinaryBuilder=void 0;var l_=ce(),zd=class extends l_.FixedWidthBuilder{};Ns.FixedSizeBinaryBuilder=zd});var In=p(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.float64ToUint16=Oi.uint16ToFloat64=void 0;var Wd=new Float64Array(1),Si=new Uint32Array(Wd.buffer);function d_(r){let e=(r&31744)>>10,t=(r&1023)/1024,i=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return i*(t?NaN:1/0);case 0:return i*(t?6103515625e-14*t:0)}return i*Math.pow(2,e-15)*(1+t)}Oi.uint16ToFloat64=d_;function h_(r){if(r!==r)return 32256;Wd[0]=r;let e=(Si[1]&2147483648)>>16&65535,t=Si[1]&2146435072,i=0;return t>=1089470464?Si[0]>0?t=31744:(t=(t&2080374784)>>16,i=(Si[1]&1048575)>>10):t<=1056964608?(i=1048576+(Si[1]&1048575),i=1048576+(i<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,i=(Si[1]&1048575)+512>>10),e|t|i&65535}Oi.float64ToUint16=h_});var ec=p(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.Float64Builder=Et.Float32Builder=Et.Float16Builder=Et.FloatBuilder=void 0;var f_=In(),y_=ce(),Tn=class extends y_.FixedWidthBuilder{};Et.FloatBuilder=Tn;var Gd=class extends Tn{setValue(e,t){this._values.set(e,f_.float64ToUint16(t))}};Et.Float16Builder=Gd;var Yd=class extends Tn{setValue(e,t){this._values.set(e,t)}};Et.Float32Builder=Yd;var Hd=class extends Tn{setValue(e,t){this._values.set(e,t)}};Et.Float64Builder=Hd});var wn=p(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.BN=Be.bignumToBigInt=Be.bignumToString=Be.isArrowBigNumSymbol=void 0;var p_=ve(),vn=Ne();Be.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function pt(r,...e){return e.length===0?Object.setPrototypeOf(p_.toArrayBufferView(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}pt.prototype[Be.isArrowBigNumSymbol]=!0;pt.prototype.toJSON=function(){return`"${Be.bignumToString(this)}"`};pt.prototype.valueOf=function(){return Kd(this)};pt.prototype.toString=function(){return Be.bignumToString(this)};pt.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return Kd(this);case"string":return Be.bignumToString(this);case"default":return Be.bignumToBigInt(this)}return Be.bignumToString(this)};function Ai(...r){return pt.apply(this,r)}function Fi(...r){return pt.apply(this,r)}function Bn(...r){return pt.apply(this,r)}Object.setPrototypeOf(Ai.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Fi.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Bn.prototype,Object.create(Uint32Array.prototype));Object.assign(Ai.prototype,pt.prototype,{constructor:Ai,signed:!0,TypedArray:Int32Array,BigIntArray:vn.BigInt64Array});Object.assign(Fi.prototype,pt.prototype,{constructor:Fi,signed:!1,TypedArray:Uint32Array,BigIntArray:vn.BigUint64Array});Object.assign(Bn.prototype,pt.prototype,{constructor:Bn,signed:!0,TypedArray:Uint32Array,BigIntArray:vn.BigUint64Array});function Kd(r){let{buffer:e,byteOffset:t,length:i,signed:n}=r,s=new Int32Array(e,t,i),o=0,a=0,u=s.length,d,h;for(;a<u;)h=s[a++],d=s[a++],n||(d=d>>>0),o+=(h>>>0)+d*Math.pow(a,32);return o}vn.BigIntAvailable?(Be.bignumToBigInt=r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:tc(r),Be.bignumToString=r=>r.byteLength===8?`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`:tc(r)):(Be.bignumToString=tc,Be.bignumToBigInt=Be.bignumToString);function tc(r){let e="",t=new Uint32Array(2),i=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),n=new Uint32Array((i=new Uint16Array(i).reverse()).buffer),s=-1,o=i.length-1;do{for(t[0]=i[s=0];s<o;)i[s++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+i[s];i[s]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(n[0]||n[1]||n[2]||n[3]);return e||"0"}var Ps=class{static new(e,t){switch(t){case!0:return new Ai(e);case!1:return new Fi(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case vn.BigInt64Array:return new Ai(e)}return e.byteLength===16?new Bn(e):new Fi(e)}static signed(e){return new Ai(e)}static unsigned(e){return new Fi(e)}static decimal(e){return new Bn(e)}constructor(e,t){return Ps.new(e,t)}};Be.BN=Ps});var rc=p(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.Uint64Builder=ge.Uint32Builder=ge.Uint16Builder=ge.Uint8Builder=ge.Int64Builder=ge.Int32Builder=ge.Int16Builder=ge.Int8Builder=ge.IntBuilder=void 0;var m_=wn(),$d=br(),__=Ne(),b_=ce(),Dt=class extends b_.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};ge.IntBuilder=Dt;var Jd=class extends Dt{};ge.Int8Builder=Jd;var Qd=class extends Dt{};ge.Int16Builder=Qd;var Zd=class extends Dt{};ge.Int32Builder=Zd;var Xd=class extends Dt{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(Ls));super(e);this._values=new $d.WideBufferBuilder(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(Ls(e))}};ge.Int64Builder=Xd;var eh=class extends Dt{};ge.Uint8Builder=eh;var th=class extends Dt{};ge.Uint16Builder=th;var rh=class extends Dt{};ge.Uint32Builder=rh;var ih=class extends Dt{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(Ls));super(e);this._values=new $d.WideBufferBuilder(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(Ls(e))}};ge.Uint64Builder=ih;var Ls=(r=>e=>(ArrayBuffer.isView(e)&&(r.buffer=e.buffer,r.byteOffset=e.byteOffset,r.byteLength=e.byteLength,e=m_.bignumToBigInt(r),r.buffer=null),e))({BigIntArray:__.BigInt64Array})});var ic=p(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.TimeNanosecondBuilder=Je.TimeMicrosecondBuilder=Je.TimeMillisecondBuilder=Je.TimeSecondBuilder=Je.TimeBuilder=void 0;var g_=ce(),Ei=class extends g_.FixedWidthBuilder{};Je.TimeBuilder=Ei;var nh=class extends Ei{};Je.TimeSecondBuilder=nh;var sh=class extends Ei{};Je.TimeMillisecondBuilder=sh;var oh=class extends Ei{};Je.TimeMicrosecondBuilder=oh;var ah=class extends Ei{};Je.TimeNanosecondBuilder=ah});var nc=p(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.TimestampNanosecondBuilder=Qe.TimestampMicrosecondBuilder=Qe.TimestampMillisecondBuilder=Qe.TimestampSecondBuilder=Qe.TimestampBuilder=void 0;var I_=ce(),Di=class extends I_.FixedWidthBuilder{};Qe.TimestampBuilder=Di;var ch=class extends Di{};Qe.TimestampSecondBuilder=ch;var uh=class extends Di{};Qe.TimestampMillisecondBuilder=uh;var lh=class extends Di{};Qe.TimestampMicrosecondBuilder=lh;var dh=class extends Di{};Qe.TimestampNanosecondBuilder=dh});var sc=p(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.IntervalYearMonthBuilder=Tr.IntervalDayTimeBuilder=Tr.IntervalBuilder=void 0;var T_=ce(),ks=class extends T_.FixedWidthBuilder{};Tr.IntervalBuilder=ks;var hh=class extends ks{};Tr.IntervalDayTimeBuilder=hh;var fh=class extends ks{};Tr.IntervalYearMonthBuilder=fh});var js=p(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.BinaryBuilder=void 0;var v_=ve(),B_=br(),w_=ce(),yh=class extends w_.VariableWidthBuilder{constructor(e){super(e);this._values=new B_.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,v_.toUint8Array(t))}_flushPending(e,t){let i=this._offsets,n=this._values.reserve(t).buffer,s=0,o=0,a=0,u;for([s,u]of e)u===void 0?i.set(s,0):(o=u.length,n.set(u,a),i.set(s,o),a+=o)}};xs.BinaryBuilder=yh});var qs=p(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.Utf8Builder=void 0;var S_=Gr(),O_=js(),A_=br(),F_=ce(),oc=class extends F_.VariableWidthBuilder{constructor(e){super(e);this._values=new A_.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,S_.encodeUtf8(t))}_flushPending(e,t){}};Cs.Utf8Builder=oc;oc.prototype._flushPending=O_.BinaryBuilder.prototype._flushPending});var ac=p(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.Run=void 0;var E_=fe(),ph=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof E_.Vector?e:(this._values=e,this)}};zs.Run=ph});var Oe=p(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Field=Ri.Schema=void 0;var D_=J(),Ze=class{constructor(e=[],t,i){this.fields=e||[],this.metadata=t||new Map,i||(i=cc(e)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(...e){let t=e.reduce((i,n)=>(i[n]=!0)&&i,Object.create(null));return new Ze(this.fields.filter(i=>t[i.name]),this.metadata)}selectAt(...e){return new Ze(e.map(t=>this.fields[t]).filter(Boolean),this.metadata)}assign(...e){let t=e[0]instanceof Ze?e[0]:Array.isArray(e[0])?new Ze(e[0]):new Ze(e),i=[...this.fields],n=Ws(Ws(new Map,this.metadata),t.metadata),s=t.fields.filter(a=>{let u=i.findIndex(d=>d.name===a.name);return~u?(i[u]=a.clone({metadata:Ws(Ws(new Map,i[u].metadata),a.metadata)}))&&!1:!0}),o=cc(s,new Map);return new Ze([...i,...s],n,new Map([...this.dictionaries,...o]))}};Ri.Schema=Ze;var Jt=class{constructor(e,t,i=!1,n){this.name=e,this.type=t,this.nullable=i,this.metadata=n||new Map}static new(...e){let[t,i,n,s]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],i===void 0&&(i=e[0].type),n===void 0&&(n=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Jt(`${t}`,i,n,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,i,n,s]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,i=this.type,n=this.nullable,s=this.metadata]=e:{name:t=this.name,type:i=this.type,nullable:n=this.nullable,metadata:s=this.metadata}=e[0],Jt.new(t,i,n,s)}};Ri.Field=Jt;function Ws(r,e){return new Map([...r||new Map,...e||new Map])}function cc(r,e=new Map){for(let t=-1,i=r.length;++t<i;){let s=r[t].type;if(D_.DataType.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&cc(s.children,e)}return e}Ze.prototype.fields=null;Ze.prototype.metadata=null;Ze.prototype.dictionaries=null;Jt.prototype.type=null;Jt.prototype.name=null;Jt.prototype.nullable=null;Jt.prototype.metadata=null});var uc=p(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.ListBuilder=void 0;var R_=ac(),U_=Oe(),M_=J(),V_=br(),N_=ce(),mh=class extends N_.VariableWidthBuilder{constructor(e){super(e);this._run=new R_.Run,this._offsets=new V_.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new M_.List(new U_.Field(t,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let t=this._run,i=this._offsets,n=this._setValue,s=0,o;for([s,o]of e)o===void 0?i.set(s,0):(i.set(s,o.length),n(this,s,t.bind(o)))}};Gs.ListBuilder=mh});var lc=p(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.FixedSizeListBuilder=void 0;var P_=ac(),L_=Oe(),k_=ce(),x_=J(),_h=class extends k_.Builder{constructor(){super(...arguments);this._run=new P_.Run}setValue(e,t){super.setValue(e,this._run.bind(t))}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let i=this.children.push(e);return this.type=new x_.FixedSizeList(this.type.listSize,new L_.Field(t,e.type,!0)),i}clear(){return this._run.clear(),super.clear()}};Ys.FixedSizeListBuilder=_h});var dc=p(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.MapBuilder=void 0;var j_=Oe(),C_=J(),q_=ce(),bh=class extends q_.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){t=t instanceof Map?t:new Map(Object.entries(t));let i=this._pending||(this._pending=new Map),n=i.get(e);n&&(this._pendingLength-=n.size),this._pendingLength+=t.size,i.set(e,t)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new C_.Map_(new j_.Field(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,i=this._setValue;e.forEach((n,s)=>{n===void 0?t.set(s,0):(t.set(s,n.size),i(this,s,n))})}};Hs.MapBuilder=bh});var hc=p(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.StructBuilder=void 0;var z_=Oe(),W_=ce(),G_=J(),gh=class extends W_.Builder{addChild(e,t=`${this.numChildren}`){let i=this.children.push(e);return this.type=new G_.Struct([...this.type.children,new z_.Field(t,e.type,!0)]),i}};Ks.StructBuilder=gh});var fc=p(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.DenseUnionBuilder=vr.SparseUnionBuilder=vr.UnionBuilder=void 0;var Y_=Oe(),Ih=br(),H_=ce(),K_=J(),$s=class extends H_.Builder{constructor(e){super(e);this._typeIds=new Ih.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,i){return i===void 0&&(i=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,i),this}setValue(e,t,i){this._typeIds.set(e,i),super.setValue(e,t)}addChild(e,t=`${this.children.length}`){let i=this.children.push(e),{type:{children:n,mode:s,typeIds:o}}=this,a=[...n,new Y_.Field(t,e.type)];return this.type=new K_.Union(s,[...o,i],a),i}_valueToChildTypeId(e,t,i){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};vr.UnionBuilder=$s;var Th=class extends $s{};vr.SparseUnionBuilder=Th;var vh=class extends $s{constructor(e){super(e);this._offsets=new Ih.DataBufferBuilder(new Int32Array(0))}setValue(e,t,i){let n=this.type.typeIdToChildIndex[i];return this._offsets.set(e,this.getChildAt(n).length),super.setValue(e,t,i)}};vr.DenseUnionBuilder=vh});var Re=p(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.Visitor=void 0;var $_=yt(),J_=fe(),y=ee(),Q_=J(),X=class{visitMany(e,...t){return e.map((i,n)=>this.visit(i,...t.map(s=>s[n])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return Z_(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};Js.Visitor=X;function Z_(r,e,t=!0){let i=null,n=y.Type.NONE;switch(e instanceof $_.Data||e instanceof J_.Vector?n=yc(e.type):e instanceof Q_.DataType?n=yc(e):typeof(n=e)!="number"&&(n=y.Type[e]),n){case y.Type.Null:i=r.visitNull;break;case y.Type.Bool:i=r.visitBool;break;case y.Type.Int:i=r.visitInt;break;case y.Type.Int8:i=r.visitInt8||r.visitInt;break;case y.Type.Int16:i=r.visitInt16||r.visitInt;break;case y.Type.Int32:i=r.visitInt32||r.visitInt;break;case y.Type.Int64:i=r.visitInt64||r.visitInt;break;case y.Type.Uint8:i=r.visitUint8||r.visitInt;break;case y.Type.Uint16:i=r.visitUint16||r.visitInt;break;case y.Type.Uint32:i=r.visitUint32||r.visitInt;break;case y.Type.Uint64:i=r.visitUint64||r.visitInt;break;case y.Type.Float:i=r.visitFloat;break;case y.Type.Float16:i=r.visitFloat16||r.visitFloat;break;case y.Type.Float32:i=r.visitFloat32||r.visitFloat;break;case y.Type.Float64:i=r.visitFloat64||r.visitFloat;break;case y.Type.Utf8:i=r.visitUtf8;break;case y.Type.Binary:i=r.visitBinary;break;case y.Type.FixedSizeBinary:i=r.visitFixedSizeBinary;break;case y.Type.Date:i=r.visitDate;break;case y.Type.DateDay:i=r.visitDateDay||r.visitDate;break;case y.Type.DateMillisecond:i=r.visitDateMillisecond||r.visitDate;break;case y.Type.Timestamp:i=r.visitTimestamp;break;case y.Type.TimestampSecond:i=r.visitTimestampSecond||r.visitTimestamp;break;case y.Type.TimestampMillisecond:i=r.visitTimestampMillisecond||r.visitTimestamp;break;case y.Type.TimestampMicrosecond:i=r.visitTimestampMicrosecond||r.visitTimestamp;break;case y.Type.TimestampNanosecond:i=r.visitTimestampNanosecond||r.visitTimestamp;break;case y.Type.Time:i=r.visitTime;break;case y.Type.TimeSecond:i=r.visitTimeSecond||r.visitTime;break;case y.Type.TimeMillisecond:i=r.visitTimeMillisecond||r.visitTime;break;case y.Type.TimeMicrosecond:i=r.visitTimeMicrosecond||r.visitTime;break;case y.Type.TimeNanosecond:i=r.visitTimeNanosecond||r.visitTime;break;case y.Type.Decimal:i=r.visitDecimal;break;case y.Type.List:i=r.visitList;break;case y.Type.Struct:i=r.visitStruct;break;case y.Type.Union:i=r.visitUnion;break;case y.Type.DenseUnion:i=r.visitDenseUnion||r.visitUnion;break;case y.Type.SparseUnion:i=r.visitSparseUnion||r.visitUnion;break;case y.Type.Dictionary:i=r.visitDictionary;break;case y.Type.Interval:i=r.visitInterval;break;case y.Type.IntervalDayTime:i=r.visitIntervalDayTime||r.visitInterval;break;case y.Type.IntervalYearMonth:i=r.visitIntervalYearMonth||r.visitInterval;break;case y.Type.FixedSizeList:i=r.visitFixedSizeList;break;case y.Type.Map:i=r.visitMap;break}if(typeof i=="function")return i;if(!t)return()=>null;throw new Error(`Unrecognized type '${y.Type[n]}'`)}function yc(r){switch(r.typeId){case y.Type.Null:return y.Type.Null;case y.Type.Int:{let{bitWidth:e,isSigned:t}=r;switch(e){case 8:return t?y.Type.Int8:y.Type.Uint8;case 16:return t?y.Type.Int16:y.Type.Uint16;case 32:return t?y.Type.Int32:y.Type.Uint32;case 64:return t?y.Type.Int64:y.Type.Uint64}return y.Type.Int}case y.Type.Float:switch(r.precision){case y.Precision.HALF:return y.Type.Float16;case y.Precision.SINGLE:return y.Type.Float32;case y.Precision.DOUBLE:return y.Type.Float64}return y.Type.Float;case y.Type.Binary:return y.Type.Binary;case y.Type.Utf8:return y.Type.Utf8;case y.Type.Bool:return y.Type.Bool;case y.Type.Decimal:return y.Type.Decimal;case y.Type.Time:switch(r.unit){case y.TimeUnit.SECOND:return y.Type.TimeSecond;case y.TimeUnit.MILLISECOND:return y.Type.TimeMillisecond;case y.TimeUnit.MICROSECOND:return y.Type.TimeMicrosecond;case y.TimeUnit.NANOSECOND:return y.Type.TimeNanosecond}return y.Type.Time;case y.Type.Timestamp:switch(r.unit){case y.TimeUnit.SECOND:return y.Type.TimestampSecond;case y.TimeUnit.MILLISECOND:return y.Type.TimestampMillisecond;case y.TimeUnit.MICROSECOND:return y.Type.TimestampMicrosecond;case y.TimeUnit.NANOSECOND:return y.Type.TimestampNanosecond}return y.Type.Timestamp;case y.Type.Date:switch(r.unit){case y.DateUnit.DAY:return y.Type.DateDay;case y.DateUnit.MILLISECOND:return y.Type.DateMillisecond}return y.Type.Date;case y.Type.Interval:switch(r.unit){case y.IntervalUnit.DAY_TIME:return y.Type.IntervalDayTime;case y.IntervalUnit.YEAR_MONTH:return y.Type.IntervalYearMonth}return y.Type.Interval;case y.Type.Map:return y.Type.Map;case y.Type.List:return y.Type.List;case y.Type.Struct:return y.Type.Struct;case y.Type.Union:switch(r.mode){case y.UnionMode.Dense:return y.Type.DenseUnion;case y.UnionMode.Sparse:return y.Type.SparseUnion}return y.Type.Union;case y.Type.FixedSizeBinary:return y.Type.FixedSizeBinary;case y.Type.FixedSizeList:return y.Type.FixedSizeList;case y.Type.Dictionary:return y.Type.Dictionary}throw new Error(`Unrecognized type '${y.Type[r.typeId]}'`)}X.prototype.visitInt8=null;X.prototype.visitInt16=null;X.prototype.visitInt32=null;X.prototype.visitInt64=null;X.prototype.visitUint8=null;X.prototype.visitUint16=null;X.prototype.visitUint32=null;X.prototype.visitUint64=null;X.prototype.visitFloat16=null;X.prototype.visitFloat32=null;X.prototype.visitFloat64=null;X.prototype.visitDateDay=null;X.prototype.visitDateMillisecond=null;X.prototype.visitTimestampSecond=null;X.prototype.visitTimestampMillisecond=null;X.prototype.visitTimestampMicrosecond=null;X.prototype.visitTimestampNanosecond=null;X.prototype.visitTimeSecond=null;X.prototype.visitTimeMillisecond=null;X.prototype.visitTimeMicrosecond=null;X.prototype.visitTimeNanosecond=null;X.prototype.visitDenseUnion=null;X.prototype.visitSparseUnion=null;X.prototype.visitIntervalDayTime=null;X.prototype.visitIntervalYearMonth=null});var _c=p(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.instance=Ui.SetVisitor=void 0;var X_=fe(),eb=Re(),tb=Gr(),rb=In(),ib=ve(),Xe=ee(),L=class extends eb.Visitor{};Ui.SetVisitor=L;var nb=(r,e,t)=>{r[e]=t/864e5|0},pc=(r,e,t)=>{r[e]=t%4294967296|0,r[e+1]=t/4294967296|0},sb=(r,e,t)=>{r[e]=t*1e3%4294967296|0,r[e+1]=t*1e3/4294967296|0},ob=(r,e,t)=>{r[e]=t*1e6%4294967296|0,r[e+1]=t*1e6/4294967296|0},Bh=(r,e,t,i)=>{let{[t]:n,[t+1]:s}=e;n!=null&&s!=null&&r.set(i.subarray(0,s-n),n)},ab=({offset:r,values:e},t,i)=>{let n=r+t;i?e[n>>3]|=1<<n%8:e[n>>3]&=~(1<<n%8)},wh=({values:r},e,t)=>{nb(r,e,t.valueOf())},Sh=({values:r},e,t)=>{pc(r,e*2,t.valueOf())},Rt=({stride:r,values:e},t,i)=>{e[r*t]=i},Oh=({stride:r,values:e},t,i)=>{e[r*t]=rb.float64ToUint16(i)},mc=(r,e,t)=>{switch(typeof t){case"bigint":r.values64[e]=t;break;case"number":r.values[e*r.stride]=t;break;default:{let i=t,{stride:n,ArrayType:s}=r,o=ib.toArrayBufferView(s,i);r.values.set(o.subarray(0,n),n*e)}}},cb=({stride:r,values:e},t,i)=>{e.set(i.subarray(0,r),r*t)},ub=({values:r,valueOffsets:e},t,i)=>Bh(r,e,t,i),lb=({values:r,valueOffsets:e},t,i)=>{Bh(r,e,t,tb.encodeUtf8(i))},db=(r,e,t)=>{r.type.bitWidth<64?Rt(r,e,t):mc(r,e,t)},hb=(r,e,t)=>{r.type.precision!==Xe.Precision.HALF?Rt(r,e,t):Oh(r,e,t)},fb=(r,e,t)=>{r.type.unit===Xe.DateUnit.DAY?wh(r,e,t):Sh(r,e,t)},Ah=({values:r},e,t)=>pc(r,e*2,t/1e3),Fh=({values:r},e,t)=>pc(r,e*2,t),Eh=({values:r},e,t)=>sb(r,e*2,t),Dh=({values:r},e,t)=>ob(r,e*2,t),yb=(r,e,t)=>{switch(r.type.unit){case Xe.TimeUnit.SECOND:return Ah(r,e,t);case Xe.TimeUnit.MILLISECOND:return Fh(r,e,t);case Xe.TimeUnit.MICROSECOND:return Eh(r,e,t);case Xe.TimeUnit.NANOSECOND:return Dh(r,e,t)}},Rh=({values:r,stride:e},t,i)=>{r[e*t]=i},Uh=({values:r,stride:e},t,i)=>{r[e*t]=i},Mh=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},Vh=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},pb=(r,e,t)=>{switch(r.type.unit){case Xe.TimeUnit.SECOND:return Rh(r,e,t);case Xe.TimeUnit.MILLISECOND:return Uh(r,e,t);case Xe.TimeUnit.MICROSECOND:return Mh(r,e,t);case Xe.TimeUnit.NANOSECOND:return Vh(r,e,t)}},mb=({values:r},e,t)=>{r.set(t.subarray(0,4),4*e)},_b=(r,e,t)=>{let i=r.getChildAt(0),n=r.valueOffsets;for(let s=-1,o=n[e],a=n[e+1];o<a;)i.set(o++,t.get(++s))},bb=(r,e,t)=>{let i=r.getChildAt(0),n=r.valueOffsets,s=t instanceof Map?[...t]:Object.entries(t);for(let o=-1,a=n[e],u=n[e+1];a<u;)i.set(a++,s[++o])},gb=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e[n]),Ib=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e.get(n)),Tb=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e.get(i.name)),vb=(r,e)=>(t,i,n)=>t==null?void 0:t.set(r,e[i.name]),Bb=(r,e,t)=>{let i=t instanceof Map?Tb(e,t):t instanceof X_.Vector?Ib(e,t):Array.isArray(t)?gb(e,t):vb(e,t);r.type.children.forEach((n,s)=>i(r.getChildAt(s),n,s))},wb=(r,e,t)=>{r.type.mode===Xe.UnionMode.Dense?Nh(r,e,t):Ph(r,e,t)},Nh=(r,e,t)=>{let i=r.typeIdToChildIndex[r.typeIds[e]],n=r.getChildAt(i);n&&n.set(r.valueOffsets[e],t)},Ph=(r,e,t)=>{let i=r.typeIdToChildIndex[r.typeIds[e]],n=r.getChildAt(i);n&&n.set(e,t)},Sb=(r,e,t)=>{let i=r.getKey(e);i!==null&&r.setValue(i,t)},Ob=(r,e,t)=>{r.type.unit===Xe.IntervalUnit.DAY_TIME?Lh(r,e,t):kh(r,e,t)},Lh=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},kh=({values:r},e,t)=>{r[e]=t[0]*12+t[1]%12},Ab=(r,e,t)=>{let i=r.getChildAt(0),{stride:n}=r;for(let s=-1,o=e*n;++s<n;)i.set(o+s,t.get(s))};L.prototype.visitBool=ab;L.prototype.visitInt=db;L.prototype.visitInt8=Rt;L.prototype.visitInt16=Rt;L.prototype.visitInt32=Rt;L.prototype.visitInt64=mc;L.prototype.visitUint8=Rt;L.prototype.visitUint16=Rt;L.prototype.visitUint32=Rt;L.prototype.visitUint64=mc;L.prototype.visitFloat=hb;L.prototype.visitFloat16=Oh;L.prototype.visitFloat32=Rt;L.prototype.visitFloat64=Rt;L.prototype.visitUtf8=lb;L.prototype.visitBinary=ub;L.prototype.visitFixedSizeBinary=cb;L.prototype.visitDate=fb;L.prototype.visitDateDay=wh;L.prototype.visitDateMillisecond=Sh;L.prototype.visitTimestamp=yb;L.prototype.visitTimestampSecond=Ah;L.prototype.visitTimestampMillisecond=Fh;L.prototype.visitTimestampMicrosecond=Eh;L.prototype.visitTimestampNanosecond=Dh;L.prototype.visitTime=pb;L.prototype.visitTimeSecond=Rh;L.prototype.visitTimeMillisecond=Uh;L.prototype.visitTimeMicrosecond=Mh;L.prototype.visitTimeNanosecond=Vh;L.prototype.visitDecimal=mb;L.prototype.visitList=_b;L.prototype.visitStruct=Bb;L.prototype.visitUnion=wb;L.prototype.visitDenseUnion=Nh;L.prototype.visitSparseUnion=Ph;L.prototype.visitDictionary=Sb;L.prototype.visitInterval=Ob;L.prototype.visitIntervalDayTime=Lh;L.prototype.visitIntervalYearMonth=kh;L.prototype.visitFixedSizeList=Ab;L.prototype.visitMap=bb;Ui.instance=new L});var xh=p(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.instance=Mi.GetBuilderCtor=void 0;var Fb=Re(),Eb=js(),Db=Ha(),bc=$a(),Rb=Ja(),Ub=Za(),Mb=Xa(),Vb=lc(),Qs=ec(),gc=sc(),Qt=rc(),Nb=uc(),Pb=dc(),Lb=Ka(),kb=hc(),Sn=nc(),On=ic(),Ic=fc(),xb=qs(),Tc=class extends Fb.Visitor{visitNull(){return Lb.NullBuilder}visitBool(){return Db.BoolBuilder}visitInt(){return Qt.IntBuilder}visitInt8(){return Qt.Int8Builder}visitInt16(){return Qt.Int16Builder}visitInt32(){return Qt.Int32Builder}visitInt64(){return Qt.Int64Builder}visitUint8(){return Qt.Uint8Builder}visitUint16(){return Qt.Uint16Builder}visitUint32(){return Qt.Uint32Builder}visitUint64(){return Qt.Uint64Builder}visitFloat(){return Qs.FloatBuilder}visitFloat16(){return Qs.Float16Builder}visitFloat32(){return Qs.Float32Builder}visitFloat64(){return Qs.Float64Builder}visitUtf8(){return xb.Utf8Builder}visitBinary(){return Eb.BinaryBuilder}visitFixedSizeBinary(){return Mb.FixedSizeBinaryBuilder}visitDate(){return bc.DateBuilder}visitDateDay(){return bc.DateDayBuilder}visitDateMillisecond(){return bc.DateMillisecondBuilder}visitTimestamp(){return Sn.TimestampBuilder}visitTimestampSecond(){return Sn.TimestampSecondBuilder}visitTimestampMillisecond(){return Sn.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return Sn.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return Sn.TimestampNanosecondBuilder}visitTime(){return On.TimeBuilder}visitTimeSecond(){return On.TimeSecondBuilder}visitTimeMillisecond(){return On.TimeMillisecondBuilder}visitTimeMicrosecond(){return On.TimeMicrosecondBuilder}visitTimeNanosecond(){return On.TimeNanosecondBuilder}visitDecimal(){return Rb.DecimalBuilder}visitList(){return Nb.ListBuilder}visitStruct(){return kb.StructBuilder}visitUnion(){return Ic.UnionBuilder}visitDenseUnion(){return Ic.DenseUnionBuilder}visitSparseUnion(){return Ic.SparseUnionBuilder}visitDictionary(){return Ub.DictionaryBuilder}visitInterval(){return gc.IntervalBuilder}visitIntervalDayTime(){return gc.IntervalDayTimeBuilder}visitIntervalYearMonth(){return gc.IntervalYearMonthBuilder}visitFixedSizeList(){return Vb.FixedSizeListBuilder}visitMap(){return Pb.MapBuilder}};Mi.GetBuilderCtor=Tc;Mi.instance=new Tc});var Xs=p(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.DenseUnionBuilder=g.SparseUnionBuilder=g.UnionBuilder=g.StructBuilder=g.MapBuilder=g.FixedSizeListBuilder=g.ListBuilder=g.BinaryBuilder=g.Utf8Builder=g.IntervalYearMonthBuilder=g.IntervalDayTimeBuilder=g.IntervalBuilder=g.TimestampNanosecondBuilder=g.TimestampMicrosecondBuilder=g.TimestampMillisecondBuilder=g.TimestampSecondBuilder=g.TimestampBuilder=g.TimeNanosecondBuilder=g.TimeMicrosecondBuilder=g.TimeMillisecondBuilder=g.TimeSecondBuilder=g.TimeBuilder=g.Uint64Builder=g.Uint32Builder=g.Uint16Builder=g.Uint8Builder=g.Int64Builder=g.Int32Builder=g.Int16Builder=g.Int8Builder=g.IntBuilder=g.Float64Builder=g.Float32Builder=g.Float16Builder=g.FloatBuilder=g.FixedSizeBinaryBuilder=g.DictionaryBuilder=g.DecimalBuilder=g.DateMillisecondBuilder=g.DateDayBuilder=g.DateBuilder=g.NullBuilder=g.BoolBuilder=g.Builder=void 0;var jb=ce();Object.defineProperty(g,"Builder",{enumerable:!0,get:function(){return jb.Builder}});var Cb=Ha();Object.defineProperty(g,"BoolBuilder",{enumerable:!0,get:function(){return Cb.BoolBuilder}});var qb=Ka();Object.defineProperty(g,"NullBuilder",{enumerable:!0,get:function(){return qb.NullBuilder}});var vc=$a();Object.defineProperty(g,"DateBuilder",{enumerable:!0,get:function(){return vc.DateBuilder}});Object.defineProperty(g,"DateDayBuilder",{enumerable:!0,get:function(){return vc.DateDayBuilder}});Object.defineProperty(g,"DateMillisecondBuilder",{enumerable:!0,get:function(){return vc.DateMillisecondBuilder}});var zb=Ja();Object.defineProperty(g,"DecimalBuilder",{enumerable:!0,get:function(){return zb.DecimalBuilder}});var Wb=Za();Object.defineProperty(g,"DictionaryBuilder",{enumerable:!0,get:function(){return Wb.DictionaryBuilder}});var Gb=Xa();Object.defineProperty(g,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return Gb.FixedSizeBinaryBuilder}});var Zs=ec();Object.defineProperty(g,"FloatBuilder",{enumerable:!0,get:function(){return Zs.FloatBuilder}});Object.defineProperty(g,"Float16Builder",{enumerable:!0,get:function(){return Zs.Float16Builder}});Object.defineProperty(g,"Float32Builder",{enumerable:!0,get:function(){return Zs.Float32Builder}});Object.defineProperty(g,"Float64Builder",{enumerable:!0,get:function(){return Zs.Float64Builder}});var Zt=rc();Object.defineProperty(g,"IntBuilder",{enumerable:!0,get:function(){return Zt.IntBuilder}});Object.defineProperty(g,"Int8Builder",{enumerable:!0,get:function(){return Zt.Int8Builder}});Object.defineProperty(g,"Int16Builder",{enumerable:!0,get:function(){return Zt.Int16Builder}});Object.defineProperty(g,"Int32Builder",{enumerable:!0,get:function(){return Zt.Int32Builder}});Object.defineProperty(g,"Int64Builder",{enumerable:!0,get:function(){return Zt.Int64Builder}});Object.defineProperty(g,"Uint8Builder",{enumerable:!0,get:function(){return Zt.Uint8Builder}});Object.defineProperty(g,"Uint16Builder",{enumerable:!0,get:function(){return Zt.Uint16Builder}});Object.defineProperty(g,"Uint32Builder",{enumerable:!0,get:function(){return Zt.Uint32Builder}});Object.defineProperty(g,"Uint64Builder",{enumerable:!0,get:function(){return Zt.Uint64Builder}});var An=ic();Object.defineProperty(g,"TimeBuilder",{enumerable:!0,get:function(){return An.TimeBuilder}});Object.defineProperty(g,"TimeSecondBuilder",{enumerable:!0,get:function(){return An.TimeSecondBuilder}});Object.defineProperty(g,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return An.TimeMillisecondBuilder}});Object.defineProperty(g,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return An.TimeMicrosecondBuilder}});Object.defineProperty(g,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return An.TimeNanosecondBuilder}});var Fn=nc();Object.defineProperty(g,"TimestampBuilder",{enumerable:!0,get:function(){return Fn.TimestampBuilder}});Object.defineProperty(g,"TimestampSecondBuilder",{enumerable:!0,get:function(){return Fn.TimestampSecondBuilder}});Object.defineProperty(g,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return Fn.TimestampMillisecondBuilder}});Object.defineProperty(g,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return Fn.TimestampMicrosecondBuilder}});Object.defineProperty(g,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return Fn.TimestampNanosecondBuilder}});var Bc=sc();Object.defineProperty(g,"IntervalBuilder",{enumerable:!0,get:function(){return Bc.IntervalBuilder}});Object.defineProperty(g,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return Bc.IntervalDayTimeBuilder}});Object.defineProperty(g,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return Bc.IntervalYearMonthBuilder}});var Yb=qs();Object.defineProperty(g,"Utf8Builder",{enumerable:!0,get:function(){return Yb.Utf8Builder}});var Hb=js();Object.defineProperty(g,"BinaryBuilder",{enumerable:!0,get:function(){return Hb.BinaryBuilder}});var Kb=uc();Object.defineProperty(g,"ListBuilder",{enumerable:!0,get:function(){return Kb.ListBuilder}});var $b=lc();Object.defineProperty(g,"FixedSizeListBuilder",{enumerable:!0,get:function(){return $b.FixedSizeListBuilder}});var Jb=dc();Object.defineProperty(g,"MapBuilder",{enumerable:!0,get:function(){return Jb.MapBuilder}});var Qb=hc();Object.defineProperty(g,"StructBuilder",{enumerable:!0,get:function(){return Qb.StructBuilder}});var wc=fc();Object.defineProperty(g,"UnionBuilder",{enumerable:!0,get:function(){return wc.UnionBuilder}});Object.defineProperty(g,"SparseUnionBuilder",{enumerable:!0,get:function(){return wc.SparseUnionBuilder}});Object.defineProperty(g,"DenseUnionBuilder",{enumerable:!0,get:function(){return wc.DenseUnionBuilder}});var Sc=ee(),Zb=qs(),Xb=ce(),jh=_c(),Ch=xh();Xb.Builder.new=qh;function qh(r){let e=r.type,t=new(Ch.instance.getVisitFn(e)())(r);if(e.children&&e.children.length>0){let i=r.children||[],n={nullValues:r.nullValues},s=Array.isArray(i)?(o,a)=>i[a]||n:({name:o})=>i[o]||n;e.children.forEach((o,a)=>{let{type:u}=o,d=s(o,a);t.children.push(qh(Object.assign(Object.assign({},d),{type:u})))})}return t}Object.keys(Sc.Type).map(r=>Sc.Type[r]).filter(r=>typeof r=="number"&&r!==Sc.Type.NONE).forEach(r=>{let e=Ch.instance.visit(r);e.prototype._setValue=jh.instance.getVisitFn(r)});Zb.Utf8Builder.prototype._setValue=jh.instance.visitBinary});var zh=p(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.Block=Vi.Footer=void 0;var eg=Yt(),eo=pr(),et=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new et).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+eg.flatbuffers.SIZE_PREFIX_LENGTH),(t||new et).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eo.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new eo.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let i=this.bb.__offset(this.bb_pos,8);return i?(t||new to).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let i=this.bb.__offset(this.bb_pos,10);return i?(t||new to).__init(this.bb.__vector(this.bb_pos+i)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let i=this.bb.__offset(this.bb_pos,12);return i?(t||new eo.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,eo.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let i=t.length-1;i>=0;i--)e.addOffset(t[i]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}static createFooter(e,t,i,n,s,o){return et.startFooter(e),et.addVersion(e,t),et.addSchema(e,i),et.addDictionaries(e,n),et.addRecordBatches(e,s),et.addCustomMetadata(e,o),et.endFooter(e)}};Vi.Footer=et;var to=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(e,t,i,n){return e.prep(8,24),e.writeInt64(n),e.pad(4),e.writeInt32(i),e.writeInt64(t),e.offset()}};Vi.Block=to});var Fc=p(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.FileBlock=Ni.Footer=void 0;var mt=zh(),Oc=Yt(),Wh=Oc.flatbuffers.Long,tg=Oc.flatbuffers.Builder,rg=Oc.flatbuffers.ByteBuffer,Gh=Oe(),Yh=ee(),ig=ve(),Ac=class{constructor(e,t=Yh.MetadataVersion.V4,i,n){this.schema=e,this.version=t,i&&(this._recordBatches=i),n&&(this._dictionaryBatches=n)}static decode(e){e=new rg(ig.toUint8Array(e));let t=mt.Footer.getRootAsFooter(e),i=Gh.Schema.decode(t.schema());return new Hh(i,t)}static encode(e){let t=new tg,i=Gh.Schema.encode(t,e.schema);mt.Footer.startRecordBatchesVector(t,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach(o=>Br.encode(t,o));let n=t.endVector();mt.Footer.startDictionariesVector(t,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach(o=>Br.encode(t,o));let s=t.endVector();return mt.Footer.startFooter(t),mt.Footer.addSchema(t,i),mt.Footer.addVersion(t,Yh.MetadataVersion.V4),mt.Footer.addRecordBatches(t,n),mt.Footer.addDictionaries(t,s),mt.Footer.finishFooterBuffer(t,mt.Footer.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,i=this.numRecordBatches;++t<i;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,i=this.numDictionaries;++t<i;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};Ni.Footer=Ac;var Hh=class extends Ac{constructor(e,t){super(e,t.version());this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return Br.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return Br.decode(t)}return null}},Br=class{constructor(e,t,i){this.metaDataLength=e,this.offset=typeof i=="number"?i:i.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new Br(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:i}=t,n=new Wh(t.offset,0),s=new Wh(t.bodyLength,0);return mt.Block.createBlock(e,n,i,s)}};Ni.FileBlock=Br});var Fr=p(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.AsyncByteStream=Ar.ByteStream=Ar.AsyncByteQueue=void 0;var wr=Ve(),Sr=bn(),Kh=Gr(),En=_i(),Ec=ve(),Pi=Ne(),Dc=class extends En.AsyncQueue{write(e){if((e=Ec.toUint8Array(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Kh.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(Kh.decodeUtf8)}toUint8Array(e=!1){return e?Ec.joinUint8Arrays(this._values)[0]:(()=>wr.__awaiter(this,void 0,void 0,function*(){var t,i;let n=[],s=0;try{for(var o=wr.__asyncValues(this),a;a=yield o.next(),!a.done;){let u=a.value;n.push(u),s+=u.byteLength}}catch(u){t={error:u}}finally{try{a&&!a.done&&(i=o.return)&&(yield i.call(o))}finally{if(t)throw t.error}}return Ec.joinUint8Arrays(n,s)[0]}))()}};Ar.AsyncByteQueue=Dc;var $h=class{constructor(e){e&&(this.source=new Jh(Sr.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Ar.ByteStream=$h;var ro=class{constructor(e){e instanceof ro?this.source=e.source:e instanceof Dc?this.source=new Or(Sr.default.fromAsyncIterable(e)):Pi.isReadableNodeStream(e)?this.source=new Or(Sr.default.fromNodeStream(e)):Pi.isReadableDOMStream(e)?this.source=new Or(Sr.default.fromDOMStream(e)):Pi.isFetchResponse(e)?this.source=new Or(Sr.default.fromDOMStream(e.body)):Pi.isIterable(e)?this.source=new Or(Sr.default.fromIterable(e)):Pi.isPromise(e)?this.source=new Or(Sr.default.fromAsyncIterable(e)):Pi.isAsyncIterable(e)&&(this.source=new Or(Sr.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Ar.AsyncByteStream=ro;var Jh=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||En.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||En.ITERATOR_DONE)}},Or=class{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return wr.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return wr.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return wr.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return wr.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return wr.__awaiter(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||En.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return wr.__awaiter(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||En.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}});var Rc=p(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.AsyncRandomAccessFile=Li.RandomAccessFile=void 0;var Er=Ve(),Qh=Fr(),ng=ve(),Zh=class extends Qh.ByteStream{constructor(e,t){super();this.position=0,this.buffer=ng.toUint8Array(e),this.size=typeof t=="undefined"?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:i}=this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:i,position:n}=this;return t&&n<i?(typeof e!="number"&&(e=1/0),this.position=Math.min(i,n+Math.min(i-n,e)),t.subarray(n,this.position)):null}readAt(e,t){let i=this.buffer,n=Math.min(this.size,e+t);return i?i.subarray(e,n):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};Li.RandomAccessFile=Zh;var Xh=class extends Qh.AsyncByteStream{constructor(e,t){super();this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=(()=>Er.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending}))()}readInt32(e){return Er.__awaiter(this,void 0,void 0,function*(){let{buffer:t,byteOffset:i}=yield this.readAt(e,4);return new DataView(t,i).getInt32(0,!0)})}seek(e){return Er.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return Er.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:i,position:n}=this;if(t&&n<i){typeof e!="number"&&(e=1/0);let s=n,o=0,a=0,u=Math.min(i,s+Math.min(i-s,e)),d=new Uint8Array(Math.max(0,(this.position=u)-s));for(;(s+=a)<u&&(o+=a)<d.byteLength;)({bytesRead:a}=yield t.read(d,o,d.byteLength-o,s));return d}return null})}readAt(e,t){return Er.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:i,size:n}=this;if(i&&e+t<n){let s=Math.min(n,e+t),o=new Uint8Array(s-e);return(yield i.read(o,0,t,e)).buffer}return new Uint8Array(t)})}close(){return Er.__awaiter(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return Er.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return Er.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};Li.AsyncRandomAccessFile=Xh});var Mc=p(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.Int128=Ut.Int64=Ut.Uint64=Ut.BaseInt64=void 0;var sg=1<<16;function ki(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}var xi=8,Uc=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],io=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),i=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),n=t[3]*i[3];this.buffer[0]=n&65535;let s=n>>>16;return n=t[2]*i[3],s+=n,n=t[3]*i[2]>>>0,s+=n,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<n?sg:0,this.buffer[1]+=s>>>16,this.buffer[1]+=t[1]*i[3]+t[2]*i[2]+t[3]*i[1],this.buffer[1]+=t[0]*i[3]+t[1]*i[2]+t[2]*i[1]+t[3]*i[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${ki(this.buffer[1])} ${ki(this.buffer[0])}`}};Ut.BaseInt64=io;var Q=class extends io{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return Q.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Q.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.length,n=new Q(t);for(let s=0;s<i;){let o=xi<i-s?xi:i-s,a=new Q(new Uint32Array([parseInt(e.substr(s,o),10),0])),u=new Q(new Uint32Array([Uc[o],0]));n.times(u),n.plus(a),s+=o}return n}static convertArray(e){let t=new Uint32Array(e.length*2);for(let i=-1,n=e.length;++i<n;)Q.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new Q(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Q(new Uint32Array(e.buffer)).plus(t)}};Ut.Uint64=Q;var Ce=class extends io{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,i=e.buffer[1]<<0;return t<i||t===i&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return Ce.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Ce.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let i=e.startsWith("-"),n=e.length,s=new Ce(t);for(let o=i?1:0;o<n;){let a=xi<n-o?xi:n-o,u=new Ce(new Uint32Array([parseInt(e.substr(o,a),10),0])),d=new Ce(new Uint32Array([Uc[a],0]));s.times(d),s.plus(u),o+=a}return i?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*2);for(let i=-1,n=e.length;++i<n;)Ce.from(e[i],new Uint32Array(t.buffer,t.byteOffset+2*i*4,2));return t}static multiply(e,t){return new Ce(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Ce(new Uint32Array(e.buffer)).plus(t)}};Ut.Int64=Ce;var _t=class{constructor(e){this.buffer=e}high(){return new Ce(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Ce(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let t=new Q(new Uint32Array([this.buffer[3],0])),i=new Q(new Uint32Array([this.buffer[2],0])),n=new Q(new Uint32Array([this.buffer[1],0])),s=new Q(new Uint32Array([this.buffer[0],0])),o=new Q(new Uint32Array([e.buffer[3],0])),a=new Q(new Uint32Array([e.buffer[2],0])),u=new Q(new Uint32Array([e.buffer[1],0])),d=new Q(new Uint32Array([e.buffer[0],0])),h=Q.multiply(s,d);this.buffer[0]=h.low();let B=new Q(new Uint32Array([h.high(),0]));return h=Q.multiply(n,d),B.plus(h),h=Q.multiply(s,u),B.plus(h),this.buffer[1]=B.low(),this.buffer[3]=B.lessThan(h)?1:0,this.buffer[2]=B.high(),new Q(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Q.multiply(i,d)).plus(Q.multiply(n,u)).plus(Q.multiply(s,a)),this.buffer[3]+=Q.multiply(t,d).plus(Q.multiply(i,u)).plus(Q.multiply(n,a)).plus(Q.multiply(s,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${ki(this.buffer[3])} ${ki(this.buffer[2])} ${ki(this.buffer[1])} ${ki(this.buffer[0])}`}static multiply(e,t){return new _t(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new _t(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return _t.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return _t.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let i=e.startsWith("-"),n=e.length,s=new _t(t);for(let o=i?1:0;o<n;){let a=xi<n-o?xi:n-o,u=new _t(new Uint32Array([parseInt(e.substr(o,a),10),0,0,0])),d=new _t(new Uint32Array([Uc[a],0,0,0]));s.times(d),s.plus(u),o+=a}return i?s.negate():s}static convertArray(e){let t=new Uint32Array(e.length*4);for(let i=-1,n=e.length;++i<n;)_t.from(e[i],new Uint32Array(t.buffer,t.byteOffset+4*4*i,4));return t}};Ut.Int128=_t});var nf=p(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.JSONVectorLoader=ji.VectorLoader=void 0;var we=yt(),og=Oe(),Xt=J(),ag=Re(),ef=Ft(),cg=Gr(),no=Mc(),tf=ee(),Mt=ve(),Vc=class extends ag.Visitor{constructor(e,t,i,n){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=i,this.dictionaries=n}visit(e){return super.visit(e instanceof og.Field?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return we.Data.Null(e,0,t)}visitBool(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Bool(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitInt(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Int(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitFloat(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Float(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitUtf8(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Utf8(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Binary(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.FixedSizeBinary(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitDate(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Date(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitTimestamp(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Timestamp(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitTime(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Time(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitDecimal(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Decimal(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitList(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.List(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Struct(e,0,t,i,this.readNullBitmap(e,i),this.visitMany(e.children))}visitUnion(e){return e.mode===tf.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Union(e,0,t,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Union(e,0,t,i,this.readNullBitmap(e,i),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Dictionary(e,0,t,i,this.readNullBitmap(e,i),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Interval(e,0,t,i,this.readNullBitmap(e,i),this.readData(e))}visitFixedSizeList(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.FixedSizeList(e,0,t,i,this.readNullBitmap(e,i),this.visit(e.children[0]))}visitMap(e,{length:t,nullCount:i}=this.nextFieldNode()){return we.Data.Map(e,0,t,i,this.readNullBitmap(e,i),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,i=this.nextBufferRange()){return t>0&&this.readData(e,i)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:i}=this.nextBufferRange()){return this.bytes.subarray(i,i+t)}readDictionary(e){return this.dictionaries.get(e.id)}};ji.VectorLoader=Vc;var rf=class extends Vc{constructor(e,t,i,n){super(new Uint8Array(0),t,i,n);this.sources=e}readNullBitmap(e,t,{offset:i}=this.nextBufferRange()){return t<=0?new Uint8Array(0):ef.packBools(this.sources[i])}readOffsets(e,{offset:t}=this.nextBufferRange()){return Mt.toArrayBufferView(Uint8Array,Mt.toArrayBufferView(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return Mt.toArrayBufferView(Uint8Array,Mt.toArrayBufferView(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:i}=this;return Xt.DataType.isTimestamp(e)||(Xt.DataType.isInt(e)||Xt.DataType.isTime(e))&&e.bitWidth===64||Xt.DataType.isDate(e)&&e.unit===tf.DateUnit.MILLISECOND?Mt.toArrayBufferView(Uint8Array,no.Int64.convertArray(i[t])):Xt.DataType.isDecimal(e)?Mt.toArrayBufferView(Uint8Array,no.Int128.convertArray(i[t])):Xt.DataType.isBinary(e)||Xt.DataType.isFixedSizeBinary(e)?ug(i[t]):Xt.DataType.isBool(e)?ef.packBools(i[t]):Xt.DataType.isUtf8(e)?cg.encodeUtf8(i[t].join("")):Mt.toArrayBufferView(Uint8Array,Mt.toArrayBufferView(e.ArrayType,i[t].map(n=>+n)))}};ji.JSONVectorLoader=rf;function ug(r){let e=r.join(""),t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=parseInt(e.substr(i,2),16);return t}});var Dn=p(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.StructRow=qi.MapRow=void 0;var sf=qa(),Ue=Symbol.for("parent"),Ci=Symbol.for("rowIndex"),qe=Symbol.for("keyToIdx"),ze=Symbol.for("idxToVal"),Nc=Symbol.for("nodejs.util.inspect.custom"),Vt=class{constructor(e,t){this[Ue]=e,this.size=t}entries(){return this[Symbol.iterator]()}has(e){return this.get(e)!==void 0}get(e){let t;if(e!=null){let i=this[qe]||(this[qe]=new Map),n=i.get(e);if(n!==void 0){let s=this[ze]||(this[ze]=new Array(this.size));(t=s[n])!==void 0||(s[n]=t=this.getValue(n))}else if((n=this.getIndex(e))>-1){i.set(e,n);let s=this[ze]||(this[ze]=new Array(this.size));(t=s[n])!==void 0||(s[n]=t=this.getValue(n))}}return t}set(e,t){if(e!=null){let i=this[qe]||(this[qe]=new Map),n=i.get(e);if(n===void 0&&i.set(e,n=this.getIndex(e)),n>-1){let s=this[ze]||(this[ze]=new Array(this.size));s[n]=this.setValue(n,t)}}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){let e=this.keys(),t=this.values(),i=this[qe]||(this[qe]=new Map),n=this[ze]||(this[ze]=new Array(this.size));for(let s,o,a=0,u,d;!((u=e.next()).done||(d=t.next()).done);++a)s=u.value,o=d.value,n[a]=o,i.has(s)||i.set(s,a),yield[s,o]}forEach(e,t){let i=this.keys(),n=this.values(),s=t===void 0?e:(u,d,h)=>e.call(t,u,d,h),o=this[qe]||(this[qe]=new Map),a=this[ze]||(this[ze]=new Array(this.size));for(let u,d,h=0,B,w;!((B=i.next()).done||(w=n.next()).done);++h)u=B.value,d=w.value,a[h]=d,o.has(u)||o.set(u,h),s(d,u,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach((t,i)=>e[i]=t),e}inspect(){return this.toString()}[Nc](){return this.toString()}toString(){let e=[];return this.forEach((t,i)=>{i=sf.valueToString(i),t=sf.valueToString(t),e.push(`${i}: ${t}`)}),`{ ${e.join(", ")} }`}};Vt[Symbol.toStringTag]=(r=>(Object.defineProperties(r,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[Ue]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ci]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),r[Symbol.toStringTag]="Row"))(Vt.prototype);var of=class extends Vt{constructor(e){super(e,e.length);return lg(this)}keys(){return this[Ue].getChildAt(0)[Symbol.iterator]()}values(){return this[Ue].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[Ue].getChildAt(0).get(e)}getIndex(e){return this[Ue].getChildAt(0).indexOf(e)}getValue(e){return this[Ue].getChildAt(1).get(e)}setValue(e,t){this[Ue].getChildAt(1).set(e,t)}};qi.MapRow=of;var af=class extends Vt{constructor(e){super(e,e.type.children.length);return cf(this)}*keys(){for(let e of this[Ue].type.children)yield e.name}*values(){for(let e of this[Ue].type.children)yield this[e.name]}getKey(e){return this[Ue].type.children[e].name}getIndex(e){return this[Ue].type.children.findIndex(t=>t.name===e)}getValue(e){return this[Ue].getChildAt(e).get(this[Ci])}setValue(e,t){return this[Ue].getChildAt(e).set(this[Ci],t)}};qi.StructRow=af;Object.setPrototypeOf(Vt.prototype,Map.prototype);var cf=(()=>{let r={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let t=-1,i=e[qe]||(e[qe]=new Map),n=o=>function(){return this.get(o)},s=o=>function(a){return this.set(o,a)};for(let o of e.keys())i.set(o,++t),r.get=n(o),r.set=s(o),Object.prototype.hasOwnProperty.call(e,o)||(r.enumerable=!0,Object.defineProperty(e,o,r)),Object.prototype.hasOwnProperty.call(e,t)||(r.enumerable=!1,Object.defineProperty(e,t,r));return r.get=r.set=null,e}})(),lg=(()=>{if(typeof Proxy=="undefined")return cf;let r=Vt.prototype.has,e=Vt.prototype.get,t=Vt.prototype.set,i=Vt.prototype.getKey,n={isExtensible(){return!1},deleteProperty(){return!1},preventExtensions(){return!0},ownKeys(s){return[...s.keys()].map(o=>`${o}`)},has(s,o){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Ue:case Ci:case ze:case qe:case Nc:return!0}return typeof o=="number"&&!s.has(o)&&(o=s.getKey(o)),s.has(o)},get(s,o,a){switch(o){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Ue:case Ci:case ze:case qe:case Nc:return Reflect.get(s,o,a)}return typeof o=="number"&&!r.call(a,o)&&(o=i.call(a,o)),e.call(a,o)},set(s,o,a,u){switch(o){case Ue:case Ci:case ze:case qe:return Reflect.set(s,o,a,u);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return typeof o=="number"&&!r.call(u,o)&&(o=i.call(u,o)),r.call(u,o)?!!t.call(u,o,a):!1}};return s=>new Proxy(s,n)})()});var Un=p(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.createElementComparator=Dr.clampRange=Dr.clampIndex=void 0;var uf=fe(),lf=Dn(),dg=ve(),df=Ne();function hg(r,e,t){let i=r.length,n=e>-1?e:i+e%i;return t?t(r,n):n}Dr.clampIndex=hg;var hf;function fg(r,e,t,i){let{length:n=0}=r,s=typeof e!="number"?0:e,o=typeof t!="number"?n:t;return s<0&&(s=(s%n+n)%n),o<0&&(o=(o%n+n)%n),o<s&&(hf=s,s=o,o=hf),o>n&&(o=n),i?i(r,s,o):[s,o]}Dr.clampRange=fg;var yg=df.BigIntAvailable?df.BigInt(0):0,ff=r=>r!==r;function Rn(r){let e=typeof r;if(e!=="object"||r===null)return ff(r)?ff:e!=="bigint"?t=>t===r:t=>yg+t===r;if(r instanceof Date){let t=r.valueOf();return i=>i instanceof Date?i.valueOf()===t:!1}return ArrayBuffer.isView(r)?t=>t?dg.compareArrayLike(r,t):!1:r instanceof Map?mg(r):Array.isArray(r)?pg(r):r instanceof uf.Vector?_g(r):bg(r)}Dr.createElementComparator=Rn;function pg(r){let e=[];for(let t=-1,i=r.length;++t<i;)e[t]=Rn(r[t]);return so(e)}function mg(r){let e=-1,t=[];return r.forEach(i=>t[++e]=Rn(i)),so(t)}function _g(r){let e=[];for(let t=-1,i=r.length;++t<i;)e[t]=Rn(r.get(t));return so(e)}function bg(r){let e=Object.keys(r);if(e.length===0)return()=>!1;let t=[];for(let i=-1,n=e.length;++i<n;)t[i]=Rn(r[e[i]]);return so(t,e)}function so(r,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return gg(r,t);case Map:case lf.MapRow:case lf.StructRow:return yf(r,t,t.keys());case Object:case void 0:return yf(r,t,e||Object.keys(t))}return t instanceof uf.Vector?Ig(r,t):!1}}function gg(r,e){let t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e[i]))return!1;return!0}function Ig(r,e){let t=r.length;if(e.length!==t)return!1;for(let i=-1;++i<t;)if(!r[i](e.get(i)))return!1;return!0}function yf(r,e,t){let i=t[Symbol.iterator](),n=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),o=0,a=r.length,u=s.next(),d=i.next(),h=n.next();for(;o<a&&!d.done&&!h.done&&!u.done&&!(d.value!==h.value||!r[o](u.value));++o,d=i.next(),h=n.next(),u=s.next());return o===a&&d.done&&h.done&&u.done?!0:(i.return&&i.return(),n.return&&n.return(),s.return&&s.return(),!1)}});var si=p(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.selectColumnChildrenArgs=Ae.selectVectorChildrenArgs=Ae.selectChunkArgs=Ae.selectFieldArgs=Ae.selectColumnArgs=Ae.selectArgs=Ae.arrayTypeToDataType=Ae.isTypedArray=void 0;var Pc=yt(),pf=Oe(),er=Wi(),zi=fe(),tt=J(),Tg=Ur(),Rr=Array.isArray;function Lc(r){return ArrayBuffer.isView(r)&&"BYTES_PER_ELEMENT"in r}Ae.isTypedArray=Lc;function mf(r){switch(r){case Int8Array:return tt.Int8;case Int16Array:return tt.Int16;case Int32Array:return tt.Int32;case BigInt64Array:return tt.Int64;case Uint8Array:return tt.Uint8;case Uint16Array:return tt.Uint16;case Uint32Array:return tt.Uint32;case BigUint64Array:return tt.Uint64;case Float32Array:return tt.Float32;case Float64Array:return tt.Float64;default:return null}}Ae.arrayTypeToDataType=mf;function vg(r){let e=mf(r.constructor);if(!e)throw new TypeError("Unrecognized Array input");let t=new e,i=Pc.Data.new(t,0,r.length,0,[void 0,r]);return zi.Vector.new(i)}Ae.selectArgs=(r,e)=>oo(r,e,[],0);Ae.selectColumnArgs=r=>{let[e,t]=xc(r,[[],[]]);return t.map((i,n)=>i instanceof er.Column?er.Column.new(i.field.clone(e[n]),i):i instanceof zi.Vector?er.Column.new(e[n],i):Lc(i)?er.Column.new(e[n],vg(i)):er.Column.new(e[n],[]))};Ae.selectFieldArgs=r=>xc(r,[[],[]]);Ae.selectChunkArgs=(r,e)=>kc(r,e,[],0);Ae.selectVectorChildrenArgs=(r,e)=>_f(r,e,[],0);Ae.selectColumnChildrenArgs=(r,e)=>bf(r,e,[],0);function oo(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)Rr(n=e[o])?s=oo(r,n,t,s).length:n instanceof r&&(t[s++]=n);return t}function kc(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)Rr(n=e[o])?s=kc(r,n,t,s).length:n instanceof Tg.Chunked?s=kc(r,n.chunks,t,s).length:n instanceof r&&(t[s++]=n);return t}function _f(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)Rr(n=e[o])?s=_f(r,n,t,s).length:n instanceof r?s=oo(zi.Vector,n.schema.fields.map((u,d)=>n.getChildAt(d)),t,s).length:n instanceof zi.Vector&&(t[s++]=n);return t}function bf(r,e,t,i){let n,s=i,o=-1,a=e.length;for(;++o<a;)Rr(n=e[o])?s=bf(r,n,t,s).length:n instanceof r?s=oo(er.Column,n.schema.fields.map((u,d)=>er.Column.new(u,n.getChildAt(d))),t,s).length:n instanceof er.Column&&(t[s++]=n);return t}var Bg=(r,[e,t],i)=>(r[0][i]=e,r[1][i]=t,r);function xc(r,e){let t,i;switch(i=r.length){case 0:return e;case 1:if(t=e[0],!r[0])return e;if(Rr(r[0]))return xc(r[0],e);r[0]instanceof Pc.Data||r[0]instanceof zi.Vector||Lc(r[0])||r[0]instanceof tt.DataType||([t,r]=Object.entries(r[0]).reduce(Bg,e));break;default:Rr(t=r[i-1])?r=Rr(r[0])?r[0]:r.slice(0,i-1):(r=Rr(r[0])?r[0]:r,t=[])}let n=-1,s=-1,o=-1,a=r.length,u,d,[h,B]=e;for(;++o<a;)d=r[o],d instanceof er.Column&&(B[++s]=d)?h[++n]=d.field.clone(t[o],d.type,!0):({[o]:u=o}=t,d instanceof tt.DataType&&(B[++s]=d)?h[++n]=pf.Field.new(u,d,!0):(d==null?void 0:d.type)&&(B[++s]=d)&&(d instanceof Pc.Data&&(B[s]=d=zi.Vector.new(d)),h[++n]=pf.Field.new(u,d.type,!0)));return e}});var Ur=p(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.Chunked=void 0;var wg=Un(),gf=J(),Sg=si(),If=fe(),Tf=class{constructor(e){this.chunks=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator()}next(){for(;this.chunkIndex<this.chunks.length;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}}getChunkIterator(){return this.chunks[this.chunkIndex][Symbol.iterator]()}[Symbol.iterator](){return this}},tr=class extends If.AbstractVector{constructor(e,t=[],i=Og(t)){super();this._nullCount=-1,this._type=e,this._chunks=t,this._chunkOffsets=i,this._length=i[i.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return Sg.selectChunkArgs(If.Vector,e)}static concat(...e){let t=tr.flatten(...e);return new tr(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((e,t)=>e+t.byteLength,0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((t,{nullCount:i})=>t+i,0)),e}get indices(){if(gf.DataType.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=e.length===1?e[0].indices:tr.concat(...e.map(t=>t.indices))}return this._indices}return null}get dictionary(){return gf.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}[Symbol.iterator](){return new Tf(this._chunks)}clone(e=this._chunks){return new tr(this._type,e)}concat(...e){return this.clone(tr.flatten(this,...e))}slice(e,t){return wg.clampRange(this,e,t,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let t=this._children||(this._children=[]),i,n,s;return(i=t[e])?i:(n=(this._type.children||[])[e])&&(s=this._chunks.map(o=>o.getChildAt(e)).filter(o=>o!=null),s.length>0)?t[e]=new tr(n.type,s):null}search(e,t){let i=e,n=this._chunkOffsets,s=n.length-1;if(i<0||i>=n[s])return null;if(s<=1)return t?t(this,0,i):[0,i];let o=0,a=0,u=0;do{if(o+1===s)return t?t(this,o,i-a):[o,i-a];u=o+(s-o)/2|0,i>=n[u]?o=u:s=u}while(i<n[s]&&i>=(a=n[o]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,t){this.search(e,({chunks:i},n,s)=>i[n].set(s,t))}indexOf(e,t){return t&&typeof t=="number"?this.search(t,(i,n,s)=>this.indexOfInternal(i,n,s,e)):this.indexOfInternal(this,0,Math.max(0,t||0),e)}toArray(){let{chunks:e}=this,t=e.length,i=this._type.ArrayType;if(t<=0)return new i(0);if(t<=1)return e[0].toArray();let n=0,s=new Array(t);for(let u=-1;++u<t;)n+=(s[u]=e[u].toArray()).length;i!==s[0].constructor&&(i=s[0].constructor);let o=new i(n),a=i===Array?Fg:Ag;for(let u=-1,d=0;++u<t;)d=a(s[u],o,d);return o}getInternal({_chunks:e},t,i){return e[t].get(i)}isValidInternal({_chunks:e},t,i){return e[t].isValid(i)}indexOfInternal({_chunks:e},t,i,n){let s=t-1,o=e.length,a=i,u=0,d=-1;for(;++s<o;){if(~(d=e[s].indexOf(n,a)))return u+d;a=0,u+=e[s].length}return-1}_sliceInternal(e,t,i){let n=[],{chunks:s,_chunkOffsets:o}=e;for(let a=-1,u=s.length;++a<u;){let d=s[a],h=d.length,B=o[a];if(B>=i)break;if(t>=B+h)continue;if(B>=t&&B+h<=i){n.push(d);continue}let w=Math.max(0,t-B),$=Math.min(i-B,h);n.push(d.slice(w,$))}return e.clone(n)}};ao.Chunked=tr;function Og(r){let e=new Uint32Array((r||[]).length+1),t=e[0]=0,i=e.length;for(let n=0;++n<i;)e[n]=t+=r[n-1].length;return e}var Ag=(r,e,t)=>(e.set(r,t),t+r.length),Fg=(r,e,t)=>{let i=t;for(let n=-1,s=r.length;++n<s;)e[i++]=r[n];return i}});var Wi=p(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.Column=void 0;var vf=Oe(),Bf=fe(),jc=Ur(),oi=class extends jc.Chunked{constructor(e,t=[],i){t=jc.Chunked.flatten(...t);super(e.type,t,i);if(this._field=e,t.length===1&&!(this instanceof Cc))return new Cc(e,t[0],this._chunkOffsets)}static new(...e){let[t,i,...n]=e;typeof t!="string"&&!(t instanceof vf.Field)&&(i=t,t="");let s=jc.Chunked.flatten(Array.isArray(i)?[...i,...n]:i instanceof Bf.Vector?[i,...n]:[Bf.Vector.new(i,...n)]);if(typeof t=="string"){let o=s[0].data.type;t=new vf.Field(t,o,!0)}else!t.nullable&&s.some(({nullCount:o})=>o>0)&&(t=t.clone({nullable:!0}));return new oi(t,s)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new oi(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t=this._children||(this._children=[]),i,n,s;return(i=t[e])?i:(n=(this.type.children||[])[e])&&(s=this._chunks.map(o=>o.getChildAt(e)).filter(o=>o!=null),s.length>0)?t[e]=new oi(n,s):null}};co.Column=oi;var Cc=class extends oi{constructor(e,t,i){super(e,[t],i);this._chunk=t}search(e,t){return t?t(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,t){this._chunk.set(e,t)}indexOf(e,t){return this._chunk.indexOf(e,t)}}});var wf=p(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.instance=Gi.TypeAssembler=void 0;var Eg=Yt(),Dg=Eg.flatbuffers.Long,Rg=Re(),E=pr(),qc=class extends Rg.Visitor{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return E.Null.startNull(t),E.Null.endNull(t)}visitInt(e,t){return E.Int.startInt(t),E.Int.addBitWidth(t,e.bitWidth),E.Int.addIsSigned(t,e.isSigned),E.Int.endInt(t)}visitFloat(e,t){return E.FloatingPoint.startFloatingPoint(t),E.FloatingPoint.addPrecision(t,e.precision),E.FloatingPoint.endFloatingPoint(t)}visitBinary(e,t){return E.Binary.startBinary(t),E.Binary.endBinary(t)}visitBool(e,t){return E.Bool.startBool(t),E.Bool.endBool(t)}visitUtf8(e,t){return E.Utf8.startUtf8(t),E.Utf8.endUtf8(t)}visitDecimal(e,t){return E.Decimal.startDecimal(t),E.Decimal.addScale(t,e.scale),E.Decimal.addPrecision(t,e.precision),E.Decimal.endDecimal(t)}visitDate(e,t){return E.Date.startDate(t),E.Date.addUnit(t,e.unit),E.Date.endDate(t)}visitTime(e,t){return E.Time.startTime(t),E.Time.addUnit(t,e.unit),E.Time.addBitWidth(t,e.bitWidth),E.Time.endTime(t)}visitTimestamp(e,t){let i=e.timezone&&t.createString(e.timezone)||void 0;return E.Timestamp.startTimestamp(t),E.Timestamp.addUnit(t,e.unit),i!==void 0&&E.Timestamp.addTimezone(t,i),E.Timestamp.endTimestamp(t)}visitInterval(e,t){return E.Interval.startInterval(t),E.Interval.addUnit(t,e.unit),E.Interval.endInterval(t)}visitList(e,t){return E.List.startList(t),E.List.endList(t)}visitStruct(e,t){return E.Struct_.startStruct_(t),E.Struct_.endStruct_(t)}visitUnion(e,t){E.Union.startTypeIdsVector(t,e.typeIds.length);let i=E.Union.createTypeIdsVector(t,e.typeIds);return E.Union.startUnion(t),E.Union.addMode(t,e.mode),E.Union.addTypeIds(t,i),E.Union.endUnion(t)}visitDictionary(e,t){let i=this.visit(e.indices,t);return E.DictionaryEncoding.startDictionaryEncoding(t),E.DictionaryEncoding.addId(t,new Dg(e.id,0)),E.DictionaryEncoding.addIsOrdered(t,e.isOrdered),i!==void 0&&E.DictionaryEncoding.addIndexType(t,i),E.DictionaryEncoding.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return E.FixedSizeBinary.startFixedSizeBinary(t),E.FixedSizeBinary.addByteWidth(t,e.byteWidth),E.FixedSizeBinary.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return E.FixedSizeList.startFixedSizeList(t),E.FixedSizeList.addListSize(t,e.listSize),E.FixedSizeList.endFixedSizeList(t)}visitMap(e,t){return E.Map.startMap(t),E.Map.addKeysSorted(t,e.keysSorted),E.Map.endMap(t)}};Gi.TypeAssembler=qc;Gi.instance=new qc});var Rf=p(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.fieldFromJSON=Nt.dictionaryBatchFromJSON=Nt.recordBatchFromJSON=Nt.schemaFromJSON=void 0;var Yi=Oe(),ie=J(),ai=ci(),Hi=ee();function Ug(r,e=new Map){return new Yi.Schema(Vg(r,e),uo(r.customMetadata),e)}Nt.schemaFromJSON=Ug;function Sf(r){return new ai.RecordBatch(r.count,Af(r.columns),Ff(r.columns))}Nt.recordBatchFromJSON=Sf;function Mg(r){return new ai.DictionaryBatch(Sf(r.data),r.id,r.isDelta)}Nt.dictionaryBatchFromJSON=Mg;function Vg(r,e){return(r.fields||[]).filter(Boolean).map(t=>Yi.Field.fromJSON(t,e))}function Of(r,e){return(r.children||[]).filter(Boolean).map(t=>Yi.Field.fromJSON(t,e))}function Af(r){return(r||[]).reduce((e,t)=>[...e,new ai.FieldNode(t.count,Ng(t.VALIDITY)),...Af(t.children)],[])}function Ff(r,e=[]){for(let t=-1,i=(r||[]).length;++t<i;){let n=r[t];n.VALIDITY&&e.push(new ai.BufferRegion(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new ai.BufferRegion(e.length,n.TYPE.length)),n.OFFSET&&e.push(new ai.BufferRegion(e.length,n.OFFSET.length)),n.DATA&&e.push(new ai.BufferRegion(e.length,n.DATA.length)),e=Ff(n.children,e)}return e}function Ng(r){return(r||[]).reduce((e,t)=>e+ +(t===0),0)}function Pg(r,e){let t,i,n,s,o,a;return!e||!(s=r.dictionary)?(o=Df(r,Of(r,e)),n=new Yi.Field(r.name,o,r.nullable,uo(r.customMetadata))):e.has(t=s.id)?(i=(i=s.indexType)?Ef(i):new ie.Int32,a=new ie.Dictionary(e.get(t),i,t,s.isOrdered),n=new Yi.Field(r.name,a,r.nullable,uo(r.customMetadata))):(i=(i=s.indexType)?Ef(i):new ie.Int32,e.set(t,o=Df(r,Of(r,e))),a=new ie.Dictionary(o,i,t,s.isOrdered),n=new Yi.Field(r.name,a,r.nullable,uo(r.customMetadata))),n||null}Nt.fieldFromJSON=Pg;function uo(r){return new Map(Object.entries(r||{}))}function Ef(r){return new ie.Int(r.isSigned,r.bitWidth)}function Df(r,e){let t=r.type.name;switch(t){case"NONE":return new ie.Null;case"null":return new ie.Null;case"binary":return new ie.Binary;case"utf8":return new ie.Utf8;case"bool":return new ie.Bool;case"list":return new ie.List((e||[])[0]);case"struct":return new ie.Struct(e||[]);case"struct_":return new ie.Struct(e||[])}switch(t){case"int":{let i=r.type;return new ie.Int(i.isSigned,i.bitWidth)}case"floatingpoint":{let i=r.type;return new ie.Float(Hi.Precision[i.precision])}case"decimal":{let i=r.type;return new ie.Decimal(i.scale,i.precision)}case"date":{let i=r.type;return new ie.Date_(Hi.DateUnit[i.unit])}case"time":{let i=r.type;return new ie.Time(Hi.TimeUnit[i.unit],i.bitWidth)}case"timestamp":{let i=r.type;return new ie.Timestamp(Hi.TimeUnit[i.unit],i.timezone)}case"interval":{let i=r.type;return new ie.Interval(Hi.IntervalUnit[i.unit])}case"union":{let i=r.type;return new ie.Union(Hi.UnionMode[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{let i=r.type;return new ie.FixedSizeBinary(i.byteWidth)}case"fixedsizelist":{let i=r.type;return new ie.FixedSizeList(i.listSize,(e||[])[0])}case"map":{let i=r.type;return new ie.Map_((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}});var ci=p(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.FieldNode=it.BufferRegion=it.DictionaryBatch=it.RecordBatch=it.Message=void 0;var zc=Yt(),A=pr(),se=fs(),Fe=Oe(),Lg=ve(),ue=ee(),Wc=wf(),lo=Rf(),ui=zc.flatbuffers.Long,kg=zc.flatbuffers.Builder,xg=zc.flatbuffers.ByteBuffer,ne=J(),Mr=class{constructor(e,t,i,n){this._version=t,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){let i=new Mr(0,ue.MetadataVersion.V4,t);return i._createHeader=jg(e,t),i}static decode(e){e=new xg(Lg.toUint8Array(e));let t=se.Message.getRootAsMessage(e),i=t.bodyLength(),n=t.version(),s=t.headerType(),o=new Mr(i,n,s);return o._createHeader=Cg(t,s),o}static encode(e){let t=new kg,i=-1;return e.isSchema()?i=Fe.Schema.encode(t,e.header()):e.isRecordBatch()?i=rt.encode(t,e.header()):e.isDictionaryBatch()&&(i=Pt.encode(t,e.header())),se.Message.startMessage(t),se.Message.addVersion(t,ue.MetadataVersion.V4),se.Message.addHeader(t,i),se.Message.addHeaderType(t,e.headerType),se.Message.addBodyLength(t,new ui(e.bodyLength,0)),se.Message.finishMessageBuffer(t,se.Message.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof Fe.Schema)return new Mr(0,ue.MetadataVersion.V4,ue.MessageHeader.Schema,e);if(e instanceof rt)return new Mr(t,ue.MetadataVersion.V4,ue.MessageHeader.RecordBatch,e);if(e instanceof Pt)return new Mr(t,ue.MetadataVersion.V4,ue.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ue.MessageHeader.Schema}isRecordBatch(){return this.headerType===ue.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===ue.MessageHeader.DictionaryBatch}};it.Message=Mr;var rt=class{constructor(e,t,i){this._nodes=t,this._buffers=i,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};it.RecordBatch=rt;var Pt=class{constructor(e,t,i=!1){this._data=e,this._isDelta=i,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};it.DictionaryBatch=Pt;var li=class{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}};it.BufferRegion=li;var di=class{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}};it.FieldNode=di;function jg(r,e){return()=>{switch(e){case ue.MessageHeader.Schema:return Fe.Schema.fromJSON(r);case ue.MessageHeader.RecordBatch:return rt.fromJSON(r);case ue.MessageHeader.DictionaryBatch:return Pt.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${ue.MessageHeader[e]}, type: ${e} }`)}}function Cg(r,e){return()=>{switch(e){case ue.MessageHeader.Schema:return Fe.Schema.decode(r.header(new A.Schema));case ue.MessageHeader.RecordBatch:return rt.decode(r.header(new se.RecordBatch),r.version());case ue.MessageHeader.DictionaryBatch:return Pt.decode(r.header(new se.DictionaryBatch),r.version())}throw new Error(`Unrecognized Message type: { name: ${ue.MessageHeader[e]}, type: ${e} }`)}}Fe.Field.encode=Zg;Fe.Field.decode=Jg;Fe.Field.fromJSON=lo.fieldFromJSON;Fe.Schema.encode=Qg;Fe.Schema.decode=qg;Fe.Schema.fromJSON=lo.schemaFromJSON;rt.encode=Xg;rt.decode=zg;rt.fromJSON=lo.recordBatchFromJSON;Pt.encode=eI;Pt.decode=Wg;Pt.fromJSON=lo.dictionaryBatchFromJSON;di.encode=tI;di.decode=Yg;li.encode=rI;li.decode=Gg;function qg(r,e=new Map){let t=$g(r,e);return new Fe.Schema(t,ho(r),e)}function zg(r,e=ue.MetadataVersion.V4){return new rt(r.length(),Hg(r),Kg(r,e))}function Wg(r,e=ue.MetadataVersion.V4){return new Pt(rt.decode(r.data(),e),r.id(),r.isDelta())}function Gg(r){return new li(r.offset(),r.length())}function Yg(r){return new di(r.length(),r.nullCount())}function Hg(r){let e=[];for(let t,i=-1,n=-1,s=r.nodesLength();++i<s;)(t=r.nodes(i))&&(e[++n]=di.decode(t));return e}function Kg(r,e){let t=[];for(let i,n=-1,s=-1,o=r.buffersLength();++n<o;)(i=r.buffers(n))&&(e<ue.MetadataVersion.V4&&(i.bb_pos+=8*(n+1)),t[++s]=li.decode(i));return t}function $g(r,e){let t=[];for(let i,n=-1,s=-1,o=r.fieldsLength();++n<o;)(i=r.fields(n))&&(t[++s]=Fe.Field.decode(i,e));return t}function Uf(r,e){let t=[];for(let i,n=-1,s=-1,o=r.childrenLength();++n<o;)(i=r.children(n))&&(t[++s]=Fe.Field.decode(i,e));return t}function Jg(r,e){let t,i,n,s,o,a;return!e||!(a=r.dictionary())?(n=Vf(r,Uf(r,e)),i=new Fe.Field(r.name(),n,r.nullable(),ho(r))):e.has(t=a.id().low)?(s=(s=a.indexType())?Mf(s):new ne.Int32,o=new ne.Dictionary(e.get(t),s,t,a.isOrdered()),i=new Fe.Field(r.name(),o,r.nullable(),ho(r))):(s=(s=a.indexType())?Mf(s):new ne.Int32,e.set(t,n=Vf(r,Uf(r,e))),o=new ne.Dictionary(n,s,t,a.isOrdered()),i=new Fe.Field(r.name(),o,r.nullable(),ho(r))),i||null}function ho(r){let e=new Map;if(r)for(let t,i,n=-1,s=r.customMetadataLength()|0;++n<s;)(t=r.customMetadata(n))&&(i=t.key())!=null&&e.set(i,t.value());return e}function Mf(r){return new ne.Int(r.isSigned(),r.bitWidth())}function Vf(r,e){let t=r.typeType();switch(t){case A.Type.NONE:return new ne.Null;case A.Type.Null:return new ne.Null;case A.Type.Binary:return new ne.Binary;case A.Type.Utf8:return new ne.Utf8;case A.Type.Bool:return new ne.Bool;case A.Type.List:return new ne.List((e||[])[0]);case A.Type.Struct_:return new ne.Struct(e||[])}switch(t){case A.Type.Int:{let i=r.type(new A.Int);return new ne.Int(i.isSigned(),i.bitWidth())}case A.Type.FloatingPoint:{let i=r.type(new A.FloatingPoint);return new ne.Float(i.precision())}case A.Type.Decimal:{let i=r.type(new A.Decimal);return new ne.Decimal(i.scale(),i.precision())}case A.Type.Date:{let i=r.type(new A.Date);return new ne.Date_(i.unit())}case A.Type.Time:{let i=r.type(new A.Time);return new ne.Time(i.unit(),i.bitWidth())}case A.Type.Timestamp:{let i=r.type(new A.Timestamp);return new ne.Timestamp(i.unit(),i.timezone())}case A.Type.Interval:{let i=r.type(new A.Interval);return new ne.Interval(i.unit())}case A.Type.Union:{let i=r.type(new A.Union);return new ne.Union(i.mode(),i.typeIdsArray()||[],e||[])}case A.Type.FixedSizeBinary:{let i=r.type(new A.FixedSizeBinary);return new ne.FixedSizeBinary(i.byteWidth())}case A.Type.FixedSizeList:{let i=r.type(new A.FixedSizeList);return new ne.FixedSizeList(i.listSize(),(e||[])[0])}case A.Type.Map:{let i=r.type(new A.Map);return new ne.Map_((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${A.Type[t]}" (${t})`)}function Qg(r,e){let t=e.fields.map(s=>Fe.Field.encode(r,s));A.Schema.startFieldsVector(r,t.length);let i=A.Schema.createFieldsVector(r,t),n=e.metadata&&e.metadata.size>0?A.Schema.createCustomMetadataVector(r,[...e.metadata].map(([s,o])=>{let a=r.createString(`${s}`),u=r.createString(`${o}`);return A.KeyValue.startKeyValue(r),A.KeyValue.addKey(r,a),A.KeyValue.addValue(r,u),A.KeyValue.endKeyValue(r)})):-1;return A.Schema.startSchema(r),A.Schema.addFields(r,i),A.Schema.addEndianness(r,iI?A.Endianness.Little:A.Endianness.Big),n!==-1&&A.Schema.addCustomMetadata(r,n),A.Schema.endSchema(r)}function Zg(r,e){let t=-1,i=-1,n=-1,s=e.type,o=e.typeId;ne.DataType.isDictionary(s)?(o=s.dictionary.typeId,n=Wc.instance.visit(s,r),i=Wc.instance.visit(s.dictionary,r)):i=Wc.instance.visit(s,r);let a=(s.children||[]).map(h=>Fe.Field.encode(r,h)),u=A.Field.createChildrenVector(r,a),d=e.metadata&&e.metadata.size>0?A.Field.createCustomMetadataVector(r,[...e.metadata].map(([h,B])=>{let w=r.createString(`${h}`),$=r.createString(`${B}`);return A.KeyValue.startKeyValue(r),A.KeyValue.addKey(r,w),A.KeyValue.addValue(r,$),A.KeyValue.endKeyValue(r)})):-1;return e.name&&(t=r.createString(e.name)),A.Field.startField(r),A.Field.addType(r,i),A.Field.addTypeType(r,o),A.Field.addChildren(r,u),A.Field.addNullable(r,!!e.nullable),t!==-1&&A.Field.addName(r,t),n!==-1&&A.Field.addDictionary(r,n),d!==-1&&A.Field.addCustomMetadata(r,d),A.Field.endField(r)}function Xg(r,e){let t=e.nodes||[],i=e.buffers||[];se.RecordBatch.startNodesVector(r,t.length),t.slice().reverse().forEach(o=>di.encode(r,o));let n=r.endVector();se.RecordBatch.startBuffersVector(r,i.length),i.slice().reverse().forEach(o=>li.encode(r,o));let s=r.endVector();return se.RecordBatch.startRecordBatch(r),se.RecordBatch.addLength(r,new ui(e.length,0)),se.RecordBatch.addNodes(r,n),se.RecordBatch.addBuffers(r,s),se.RecordBatch.endRecordBatch(r)}function eI(r,e){let t=rt.encode(r,e.data);return se.DictionaryBatch.startDictionaryBatch(r),se.DictionaryBatch.addId(r,new ui(e.id,0)),se.DictionaryBatch.addIsDelta(r,e.isDelta),se.DictionaryBatch.addData(r,t),se.DictionaryBatch.endDictionaryBatch(r)}function tI(r,e){return se.FieldNode.createFieldNode(r,new ui(e.length,0),new ui(e.nullCount,0))}function rI(r,e){return A.Buffer.createBuffer(r,new ui(e.offset,0),new ui(e.length,0))}var iI=function(){let r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256}()});var yo=p(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.magicX2AndPadding=H.magicAndPadding=H.magicLength=H.checkForMagicArrowString=H.MAGIC=H.MAGIC_STR=H.PADDING=H.JSONMessageReader=H.AsyncMessageReader=H.MessageReader=void 0;var Vr=Ve(),Nr=ee(),nI=Yt(),Nf=nI.flatbuffers.ByteBuffer,Mn=ci(),sI=Ne(),oI=Rc(),Pf=ve(),fo=Fr(),bt=_i(),Gc=r=>`Expected ${Nr.MessageHeader[r]} Message in stream, but was null or length 0.`,Yc=r=>`Header pointer of flatbuffer-encoded ${Nr.MessageHeader[r]} Message is null or length 0.`,Lf=(r,e)=>`Expected to read ${r} metadata bytes, but only read ${e}.`,kf=(r,e)=>`Expected to read ${r} bytes for message body, but only read ${e}.`,Hc=class{constructor(e){this.source=e instanceof fo.ByteStream?e:new fo.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?bt.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Gc(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=Pf.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(kf(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=Nr.MessageHeader.Schema,i=this.readMessage(t),n=i==null?void 0:i.header();if(e&&!n)throw new Error(Yc(t));return n}readMetadataLength(){let e=this.source.read(H.PADDING),t=e&&new Nf(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}}readMetadata(e){let t=this.source.read(e);if(!t)return bt.ITERATOR_DONE;if(t.byteLength<e)throw new Error(Lf(e,t.byteLength));return{done:!1,value:Mn.Message.decode(t)}}};H.MessageReader=Hc;var xf=class{constructor(e,t){this.source=e instanceof fo.AsyncByteStream?e:sI.isFileHandle(e)?new oI.AsyncRandomAccessFile(e,t):new fo.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}next(){return Vr.__awaiter(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?bt.ITERATOR_DONE:e})}throw(e){return Vr.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return Vr.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return Vr.__awaiter(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Gc(e));return t.value})}readMessageBody(e){return Vr.__awaiter(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=Pf.toUint8Array(yield this.source.read(e));if(t.byteLength<e)throw new Error(kf(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return Vr.__awaiter(this,void 0,void 0,function*(){let t=Nr.MessageHeader.Schema,i=yield this.readMessage(t),n=i==null?void 0:i.header();if(e&&!n)throw new Error(Yc(t));return n})}readMetadataLength(){return Vr.__awaiter(this,void 0,void 0,function*(){let e=yield this.source.read(H.PADDING),t=e&&new Nf(e),i=(t==null?void 0:t.readInt32(0))||0;return{done:i===0,value:i}})}readMetadata(e){return Vr.__awaiter(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return bt.ITERATOR_DONE;if(t.byteLength<e)throw new Error(Lf(e,t.byteLength));return{done:!1,value:Mn.Message.decode(t)}})}};H.AsyncMessageReader=xf;var jf=class extends Hc{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof bt.ArrowJSON?e:new bt.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let t=Mn.Message.fromJSON(e.schema,Nr.MessageHeader.Schema);return{done:!1,value:t}}if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];this._body=t.data.columns;let i=Mn.Message.fromJSON(t,Nr.MessageHeader.DictionaryBatch);return{done:!1,value:i}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];this._body=t.columns;let i=Mn.Message.fromJSON(t,Nr.MessageHeader.RecordBatch);return{done:!1,value:i}}return this._body=[],bt.ITERATOR_DONE}readMessageBody(e){return t(this._body);function t(i){return(i||[]).reduce((n,s)=>[...n,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...t(s.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Gc(e));return t.value}readSchema(){let e=Nr.MessageHeader.Schema,t=this.readMessage(e),i=t==null?void 0:t.header();if(!t||!i)throw new Error(Yc(e));return i}};H.JSONMessageReader=jf;H.PADDING=4;H.MAGIC_STR="ARROW1";H.MAGIC=new Uint8Array(H.MAGIC_STR.length);for(let r=0;r<H.MAGIC_STR.length;r+=1|0)H.MAGIC[r]=H.MAGIC_STR.charCodeAt(r);function aI(r,e=0){for(let t=-1,i=H.MAGIC.length;++t<i;)if(H.MAGIC[t]!==r[e+t])return!1;return!0}H.checkForMagicArrowString=aI;H.magicLength=H.MAGIC.length;H.magicAndPadding=H.magicLength+H.PADDING;H.magicX2AndPadding=H.magicLength*2+H.PADDING});var Qc=p(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.compareTypes=le.compareFields=le.compareSchemas=le.instance=le.TypeComparator=void 0;var cI=Re(),D=class extends cI.Visitor{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((i,n)=>this.compareFields(i,t[n]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}};le.TypeComparator=D;function je(r,e){return e instanceof r.constructor}function Vn(r,e){return r===e||je(r,e)}function rr(r,e){return r===e||je(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function po(r,e){return r===e||je(r,e)&&r.precision===e.precision}function uI(r,e){return r===e||je(r,e)&&r.byteWidth===e.byteWidth}function Kc(r,e){return r===e||je(r,e)&&r.unit===e.unit}function Nn(r,e){return r===e||je(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function Pn(r,e){return r===e||je(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function lI(r,e){return r===e||je(r,e)&&r.children.length===e.children.length&&le.instance.compareManyFields(r.children,e.children)}function dI(r,e){return r===e||je(r,e)&&r.children.length===e.children.length&&le.instance.compareManyFields(r.children,e.children)}function $c(r,e){return r===e||je(r,e)&&r.mode===e.mode&&r.typeIds.every((t,i)=>t===e.typeIds[i])&&le.instance.compareManyFields(r.children,e.children)}function hI(r,e){return r===e||je(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&le.instance.visit(r.indices,e.indices)&&le.instance.visit(r.dictionary,e.dictionary)}function Jc(r,e){return r===e||je(r,e)&&r.unit===e.unit}function fI(r,e){return r===e||je(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&le.instance.compareManyFields(r.children,e.children)}function yI(r,e){return r===e||je(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&le.instance.compareManyFields(r.children,e.children)}D.prototype.visitNull=Vn;D.prototype.visitBool=Vn;D.prototype.visitInt=rr;D.prototype.visitInt8=rr;D.prototype.visitInt16=rr;D.prototype.visitInt32=rr;D.prototype.visitInt64=rr;D.prototype.visitUint8=rr;D.prototype.visitUint16=rr;D.prototype.visitUint32=rr;D.prototype.visitUint64=rr;D.prototype.visitFloat=po;D.prototype.visitFloat16=po;D.prototype.visitFloat32=po;D.prototype.visitFloat64=po;D.prototype.visitUtf8=Vn;D.prototype.visitBinary=Vn;D.prototype.visitFixedSizeBinary=uI;D.prototype.visitDate=Kc;D.prototype.visitDateDay=Kc;D.prototype.visitDateMillisecond=Kc;D.prototype.visitTimestamp=Nn;D.prototype.visitTimestampSecond=Nn;D.prototype.visitTimestampMillisecond=Nn;D.prototype.visitTimestampMicrosecond=Nn;D.prototype.visitTimestampNanosecond=Nn;D.prototype.visitTime=Pn;D.prototype.visitTimeSecond=Pn;D.prototype.visitTimeMillisecond=Pn;D.prototype.visitTimeMicrosecond=Pn;D.prototype.visitTimeNanosecond=Pn;D.prototype.visitDecimal=Vn;D.prototype.visitList=lI;D.prototype.visitStruct=dI;D.prototype.visitUnion=$c;D.prototype.visitDenseUnion=$c;D.prototype.visitSparseUnion=$c;D.prototype.visitDictionary=hI;D.prototype.visitInterval=Jc;D.prototype.visitIntervalDayTime=Jc;D.prototype.visitIntervalYearMonth=Jc;D.prototype.visitFixedSizeList=fI;D.prototype.visitMap=yI;le.instance=new D;function pI(r,e){return le.instance.compareSchemas(r,e)}le.compareSchemas=pI;function mI(r,e){return le.instance.compareFields(r,e)}le.compareFields=mI;function _I(r,e){return le.instance.visit(r,e)}le.compareTypes=_I});var Gf=p(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.VectorAssembler=void 0;var bI=Re(),Cf=ee(),gI=ir(),Zc=ve(),Xc=Ft(),II=si(),qf=ci(),zf=J(),Ie=class extends bI.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=new Ie,i=II.selectVectorChildrenArgs(gI.RecordBatch,e),[n=t]=t.visitMany(i);return n}visit(e){if(!zf.DataType.isDictionary(e.type)){let{data:t,length:i,nullCount:n}=e;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");zf.DataType.isNull(e.type)||gt.call(this,n<=0?new Uint8Array(0):Xc.truncateBitmap(t.offset,i,t.nullBitmap)),this.nodes.push(new qf.FieldNode(i,n))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};mo.VectorAssembler=Ie;function gt(r){let e=r.byteLength+7&~7;return this.buffers.push(r),this.bufferRegions.push(new qf.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function TI(r){let{type:e,length:t,typeIds:i,valueOffsets:n}=r;if(gt.call(this,i),e.mode===Cf.UnionMode.Sparse)return tu.call(this,r);if(e.mode===Cf.UnionMode.Dense){if(r.offset<=0)return gt.call(this,n),tu.call(this,r);{let s=i.reduce((h,B)=>Math.max(h,B),i[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),u=new Int32Array(t),d=Zc.rebaseValueOffsets(-n[0],t,n);for(let h,B,w=-1;++w<t;)(B=a[h=i[w]])===-1&&(B=a[h]=d[h]),u[w]=d[w]-B,++o[h];gt.call(this,u);for(let h,B=-1,w=e.children.length;++B<w;)if(h=r.getChildAt(B)){let $=e.typeIds[B],me=Math.min(t,o[$]);this.visit(h.slice(a[$],me))}}}return this}function vI(r){let e;return r.nullCount>=r.length?gt.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?gt.call(this,Xc.truncateBitmap(r.offset,r.length,e)):gt.call(this,Xc.packBools(r))}function Pr(r){return gt.call(this,r.values.subarray(0,r.length*r.stride))}function Wf(r){let{length:e,values:t,valueOffsets:i}=r,n=i[0],s=i[e],o=Math.min(s-n,t.byteLength-n);return gt.call(this,Zc.rebaseValueOffsets(-i[0],e,i)),gt.call(this,t.subarray(n,n+o)),this}function eu(r){let{length:e,valueOffsets:t}=r;return t&&gt.call(this,Zc.rebaseValueOffsets(t[0],e,t)),this.visit(r.getChildAt(0))}function tu(r){return this.visitMany(r.type.children.map((e,t)=>r.getChildAt(t)).filter(Boolean))[0]}Ie.prototype.visitBool=vI;Ie.prototype.visitInt=Pr;Ie.prototype.visitFloat=Pr;Ie.prototype.visitUtf8=Wf;Ie.prototype.visitBinary=Wf;Ie.prototype.visitFixedSizeBinary=Pr;Ie.prototype.visitDate=Pr;Ie.prototype.visitTimestamp=Pr;Ie.prototype.visitTime=Pr;Ie.prototype.visitDecimal=Pr;Ie.prototype.visitList=eu;Ie.prototype.visitStruct=tu;Ie.prototype.visitUnion=TI;Ie.prototype.visitInterval=Pr;Ie.prototype.visitFixedSizeList=eu;Ie.prototype.visitMap=eu});var Hf=p(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.JSONTypeAssembler=void 0;var BI=Re(),Me=pr(),Ki=ee(),Yf=class extends BI.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Me.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:i}){return{name:Me.Type[e].toLowerCase(),bitWidth:t,isSigned:i}}visitFloat({typeId:e,precision:t}){return{name:Me.Type[e].toLowerCase(),precision:Ki.Precision[t]}}visitBinary({typeId:e}){return{name:Me.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:Me.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Me.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:i}){return{name:Me.Type[e].toLowerCase(),scale:t,precision:i}}visitDate({typeId:e,unit:t}){return{name:Me.Type[e].toLowerCase(),unit:Ki.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:i}){return{name:Me.Type[e].toLowerCase(),unit:Ki.TimeUnit[t],bitWidth:i}}visitTimestamp({typeId:e,timezone:t,unit:i}){return{name:Me.Type[e].toLowerCase(),unit:Ki.TimeUnit[i],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:Me.Type[e].toLowerCase(),unit:Ki.IntervalUnit[t]}}visitList({typeId:e}){return{name:Me.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Me.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:i}){return{name:Me.Type[e].toLowerCase(),mode:Ki.UnionMode[t],typeIds:[...i]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:Me.Type[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:Me.Type[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:Me.Type[e].toLowerCase(),keysSorted:t}}};_o.JSONTypeAssembler=Yf});var Jf=p(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.JSONVectorAssembler=void 0;var wI=wn(),Ln=Wi(),SI=fe(),OI=Re(),AI=ee(),FI=ir(),ru=ee(),bo=Ft(),EI=si(),Kf=J(),go=class extends OI.Visitor{static assemble(...e){return new go().visitMany(EI.selectColumnChildrenArgs(FI.RecordBatch,e))}visit(e){let{data:t,name:i,length:n}=e,{offset:s,nullCount:o,nullBitmap:a}=t,u=Kf.DataType.isDictionary(e.type)?e.type.indices:e.type,d=Object.assign([],t.buffers,{[AI.BufferType.VALIDITY]:void 0});return Object.assign({name:i,count:n,VALIDITY:Kf.DataType.isNull(u)?void 0:o<=0?Array.from({length:n},()=>1):[...new bo.BitIterator(a,s,n,null,bo.getBit)]},super.visit(SI.Vector.new(t.clone(u,s,n,0,d))))}visitNull(){return{}}visitBool({values:e,offset:t,length:i}){return{DATA:[...new bo.BitIterator(e,t,i,null,bo.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...kn(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...e],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...$f(e)],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...$f(e)]}}visitDate(e){return{DATA:e.type.unit===ru.DateUnit.DAY?[...e.values]:[...kn(e.values,2)]}}visitTimestamp(e){return{DATA:[...kn(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<ru.TimeUnit.MICROSECOND?[...e.values]:[...kn(e.values,2)]}}visitDecimal(e){return{DATA:[...kn(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((t,i)=>this.visit(new Ln.Column(t,[e.getChildAt(i)])))}}visitStruct(e){return{children:e.type.children.map((t,i)=>this.visit(new Ln.Column(t,[e.getChildAt(i)])))}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===ru.UnionMode.Dense?[...e.valueOffsets]:void 0,children:e.type.children.map((t,i)=>this.visit(new Ln.Column(t,[e.getChildAt(i)])))}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:e.type.children.map((t,i)=>this.visit(new Ln.Column(t,[e.getChildAt(i)])))}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((t,i)=>this.visit(new Ln.Column(t,[e.getChildAt(i)])))}}};Io.JSONVectorAssembler=go;function*$f(r){for(let e of r)yield e.reduce((t,i)=>`${t}${("0"+(i&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*kn(r,e){for(let t=-1,i=r.length/e;++t<i;)yield`${wI.BN.new(r.subarray((t+0)*e,(t+1)*e),!1)}`}});var So=p(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.RecordBatchJSONWriter=kt.RecordBatchFileWriter=kt.RecordBatchStreamWriter=kt.RecordBatchWriter=void 0;var Qf=Ve(),iu=jn(),DI=yo(),RI=Wi(),UI=J(),MI=Oe(),To=ci(),nu=ci(),$i=Fc(),su=ee(),Zf=Qc(),ou=Fr(),Xf=Gf(),VI=Hf(),ey=Jf(),NI=ve(),au=ir(),PI=_i(),Lt=Ne(),xn=class extends PI.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new ou.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Lt.isObject(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return Lt.isPromise(e)?e.then(t=>this.writeAll(t)):Lt.isAsyncIterable(e)?uu(this,e):cu(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof ou.AsyncByteQueue?this._sink=e:(this._sink=new ou.AsyncByteQueue,e&&Lt.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&Lt.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!Zf.compareSchemas(t,this._schema))&&(t===null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof iu.Table&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof au.RecordBatch&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!Zf.compareSchemas(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof au.RecordBatch?e instanceof au._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof iu.Table?this.writeAll(e.chunks):Lt.isIterable(e)&&this.writeAll(e)}_writeMessage(e,t=8){let i=t-1,n=To.Message.encode(e),s=n.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+i&~i,u=a-s-o;return e.headerType===su.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new $i.FileBlock(a,e.bodyLength,this._position)):e.headerType===su.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new $i.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(n),this._writePadding(u)}_write(e){if(this._started){let t=NI.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(To.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(DI.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:i,bufferRegions:n,buffers:s}=Xf.VectorAssembler.assemble(e),o=new nu.RecordBatch(e.length,i,n),a=To.Message.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,t,i=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:n,nodes:s,bufferRegions:o,buffers:a}=Xf.VectorAssembler.assemble(e),u=new nu.RecordBatch(e.length,s,o),d=new nu.DictionaryBatch(u,t,i),h=To.Message.from(d,n);return this._writeMessage(h)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,i,n;for(let s=-1,o=e.length;++s<o;)(t=e[s])&&(i=t.byteLength)>0&&(this._write(t),(n=(i+7&~7)-i)>0&&this._writePadding(n));return this}_writeDictionaries(e){for(let[t,i]of e.dictionaries){let n=this._dictionaryDeltaOffsets.get(t)||0;if(n===0||(i=i.slice(n)).length>0){let s="chunks"in i?i.chunks:[i];for(let o of s)this._writeDictionaryBatch(o,t,n>0),n+=o.length}}return this}};kt.RecordBatchWriter=xn;var vo=class extends xn{static writeAll(e,t){let i=new vo(t);return Lt.isPromise(e)?e.then(n=>i.writeAll(n)):Lt.isAsyncIterable(e)?uu(i,e):cu(i,e)}};kt.RecordBatchStreamWriter=vo;var Bo=class extends xn{static writeAll(e){let t=new Bo;return Lt.isPromise(e)?e.then(i=>t.writeAll(i)):Lt.isAsyncIterable(e)?uu(t,e):cu(t,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=$i.Footer.encode(new $i.Footer(e,su.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};kt.RecordBatchFileWriter=Bo;var wo=class extends xn{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new wo().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(ty)},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,i=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${LI(e,t,i)}`),this._dictionaryBlocks.push(new $i.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,t=this._recordBatches.length;++e<t;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${kI(this._recordBatches[e])}`),this._recordBatchBlocks.push(new $i.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};kt.RecordBatchJSONWriter=wo;function cu(r,e){let t=e;e instanceof iu.Table&&(t=e.chunks,r.reset(void 0,e.schema));for(let i of t)r.write(i);return r.finish()}function uu(r,e){var t,i,n,s;return Qf.__awaiter(this,void 0,void 0,function*(){try{for(t=Qf.__asyncValues(e);i=yield t.next(),!i.done;){let o=i.value;r.write(o)}}catch(o){n={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(n)throw n.error}}return r.finish()})}function ty({name:r,type:e,nullable:t}){let i=new VI.JSONTypeAssembler;return{name:r,nullable:t,type:i.visit(e),children:(e.children||[]).map(ty),dictionary:UI.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:i.visit(e.indices)}:void 0}}function LI(r,e,t=!1){let i=new MI.Field(`${e}`,r.type,r.nullCount>0),n=ey.JSONVectorAssembler.assemble(new RI.Column(i,[r]));return JSON.stringify({id:e,isDelta:t,data:{count:r.length,columns:n}},null,2)}function kI(r){return JSON.stringify({count:r.length,columns:ey.JSONVectorAssembler.assemble(r)},null,2)}});var hu=p(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.distributeVectorsIntoRecordBatches=Lr.distributeColumnsIntoRecordBatches=Lr.ensureSameLengthData=void 0;var ry=yt(),lu=Oe(),xI=Ur(),jI=ir(),du=new Uint8Array(0),iy=r=>[du,du,new Uint8Array(r),du];function CI(r,e,t=e.reduce((i,n)=>Math.max(i,n.length),0)){let i,n,s=-1,o=e.length,a=[...r.fields],u=[],d=(t+63&~63)>>3;for(;++s<o;)(i=e[s])&&i.length===t?u[s]=i:((n=a[s]).nullable||(a[s]=a[s].clone({nullable:!0})),u[s]=i?i._changeLengthAndBackfillNullBitmap(t):ry.Data.new(n.type,0,t,t,iy(d)));return[new lu.Schema(a),t,u]}Lr.ensureSameLengthData=CI;function qI(r){return ny(new lu.Schema(r.map(({field:e})=>e)),r)}Lr.distributeColumnsIntoRecordBatches=qI;function ny(r,e){return zI(r,e.map(t=>t instanceof xI.Chunked?t.chunks.map(i=>i.data):[t.data]))}Lr.distributeVectorsIntoRecordBatches=ny;function zI(r,e){let t=[...r.fields],i=[],n={numBatches:e.reduce((B,w)=>Math.max(B,w.length),0)},s=0,o=0,a=-1,u=e.length,d,h=[];for(;n.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<u;)h[a]=d=e[a].shift(),o=Math.min(o,d?d.length:o);isFinite(o)&&(h=WI(t,o,h,e,n),o>0&&(i[s++]=[o,h.slice()]))}return[r=new lu.Schema(t,r.metadata),i.map(B=>new jI.RecordBatch(r,...B))]}function WI(r,e,t,i,n){let s,o,a=0,u=-1,d=i.length,h=(e+63&~63)>>3;for(;++u<d;)(s=t[u])&&(a=s.length)>=e?a===e?t[u]=s:(t[u]=s.slice(0,e),s=s.slice(e,a-e),n.numBatches=Math.max(n.numBatches,i[u].unshift(s))):((o=r[u]).nullable||(r[u]=o.clone({nullable:!0})),t[u]=s?s._changeLengthAndBackfillNullBitmap(e):ry.Data.new(o.type,0,e,e,iy(h)));return t}});var pe=p(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.BaseVector=void 0;var GI=ee(),YI=Ur(),HI=Un(),fu=fe(),yu=class extends fu.AbstractVector{constructor(e,t){super();this._children=t,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${GI.Type[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,t=this._children){return fu.Vector.new(e,t)}concat(...e){return YI.Chunked.concat(this,...e)}slice(e,t){return HI.clampRange(this,e,t,this._sliceInternal)}isValid(e){if(this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=fu.Vector.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,t,i){return e.clone(e.data.slice(t,i-t),null)}_bindDataAccessors(e){}};Oo.BaseVector=yu;yu.prototype[Symbol.isConcatSpreadable]=!0});var pu=p(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.BinaryVector=void 0;var KI=fe(),$I=pe(),JI=J(),sy=class extends $I.BaseVector{asUtf8(){return KI.Vector.new(this.data.clone(new JI.Utf8))}};Ao.BinaryVector=sy});var mu=p(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.BoolVector=void 0;var QI=J(),ZI=pe(),XI=xt(),oy=class extends ZI.BaseVector{static from(e){return XI.vectorFromValuesWithType(()=>new QI.Bool,e)}};Fo.BoolVector=oy});var bu=p(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.DateMillisecondVector=kr.DateDayVector=kr.DateVector=void 0;var eT=ee(),tT=pe(),ay=xt(),_u=J(),Eo=class extends tT.BaseVector{static from(...e){return e.length===2?ay.vectorFromValuesWithType(()=>e[1]===eT.DateUnit.DAY?new _u.DateDay:new _u.DateMillisecond,e[0]):ay.vectorFromValuesWithType(()=>new _u.DateMillisecond,e[0])}};kr.DateVector=Eo;var cy=class extends Eo{};kr.DateDayVector=cy;var uy=class extends Eo{};kr.DateMillisecondVector=uy});var gu=p(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.DecimalVector=void 0;var rT=pe(),ly=class extends rT.BaseVector{};Do.DecimalVector=ly});var Uo=p(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.DictionaryVector=void 0;var iT=yt(),dy=fe(),nT=pe(),sT=xt(),oT=J(),Iu=class extends nT.BaseVector{constructor(e){super(e);this.indices=dy.Vector.new(e.clone(this.type.indices))}static from(...e){if(e.length===3){let[t,i,n]=e,s=new oT.Dictionary(t.type,i,null,null);return dy.Vector.new(iT.Data.Dictionary(s,0,n.length,0,null,n,t))}return sT.vectorFromValuesWithType(()=>e[0].type,e[0])}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,t){return this.indices.set(e,t)}setValue(e,t){return this.dictionary.set(e,t)}};Ro.DictionaryVector=Iu;Iu.prototype.indices=null});var Tu=p(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.FixedSizeBinaryVector=void 0;var aT=pe(),hy=class extends aT.BaseVector{};Mo.FixedSizeBinaryVector=hy});var vu=p(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.FixedSizeListVector=void 0;var cT=pe(),fy=class extends cT.BaseVector{};Vo.FixedSizeListVector=fy});var Ou=p(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.Float64Vector=jt.Float32Vector=jt.Float16Vector=jt.FloatVector=void 0;var uT=yt(),lT=fe(),dT=pe(),hT=xt(),hi=J(),Cn=class extends dT.BaseVector{static from(e){let t=pT(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let i=yT(e.constructor)||t;if(t===null&&(t=i),t&&t===i){let n=new t,s=e.byteLength/n.ArrayType.BYTES_PER_ELEMENT;if(!fT(t,e.constructor))return lT.Vector.new(uT.Data.Float(n,0,s,0,null,e))}}if(t)return hT.vectorFromValuesWithType(()=>new t,e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}};jt.FloatVector=Cn;var Bu=class extends Cn{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}};jt.Float16Vector=Bu;var wu=class extends Cn{};jt.Float32Vector=wu;var Su=class extends Cn{};jt.Float64Vector=Su;var fT=(r,e)=>r===hi.Float16&&e!==Uint16Array,yT=r=>{switch(r){case Uint16Array:return hi.Float16;case Float32Array:return hi.Float32;case Float64Array:return hi.Float64;default:return null}},pT=r=>{switch(r){case Bu:return hi.Float16;case wu:return hi.Float32;case Su:return hi.Float64;default:return null}}});var Au=p(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.IntervalYearMonthVector=xr.IntervalDayTimeVector=xr.IntervalVector=void 0;var mT=pe(),No=class extends mT.BaseVector{};xr.IntervalVector=No;var yy=class extends No{};xr.IntervalDayTimeVector=yy;var py=class extends No{};xr.IntervalYearMonthVector=py});var Po=p(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.Uint64Vector=Te.Uint32Vector=Te.Uint16Vector=Te.Uint8Vector=Te.Int64Vector=Te.Int32Vector=Te.Int16Vector=Te.Int8Vector=Te.IntVector=void 0;var _T=yt(),bT=fe(),gT=pe(),IT=xt(),my=Ne(),_y=ve(),de=J(),Ct=class extends gT.BaseVector{static from(...e){let[t,i=!1]=e,n=BT(this,i);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){let s=vT(t.constructor,i)||n;if(n===null&&(n=s),n&&n===s){let o=new n,a=t.byteLength/o.ArrayType.BYTES_PER_ELEMENT;return TT(n,t.constructor)&&(a*=.5),bT.Vector.new(_T.Data.Int(o,0,a,0,null,t))}}if(n)return IT.vectorFromValuesWithType(()=>new n,t);throw t instanceof DataView||t instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${t.constructor.name}`):new TypeError("Unrecognized IntVector input")}};Te.IntVector=Ct;var Fu=class extends Ct{};Te.Int8Vector=Fu;var Eu=class extends Ct{};Te.Int16Vector=Eu;var Du=class extends Ct{};Te.Int32Vector=Du;var Ru=class extends Ct{toBigInt64Array(){return _y.toBigInt64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}};Te.Int64Vector=Ru;var Uu=class extends Ct{};Te.Uint8Vector=Uu;var Mu=class extends Ct{};Te.Uint16Vector=Mu;var Vu=class extends Ct{};Te.Uint32Vector=Vu;var Nu=class extends Ct{toBigUint64Array(){return _y.toBigUint64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}};Te.Uint64Vector=Nu;var TT=(r,e)=>(r===de.Int64||r===de.Uint64)&&(e===Int32Array||e===Uint32Array),vT=(r,e)=>{switch(r){case Int8Array:return de.Int8;case Int16Array:return de.Int16;case Int32Array:return e?de.Int64:de.Int32;case my.BigInt64Array:return de.Int64;case Uint8Array:return de.Uint8;case Uint16Array:return de.Uint16;case Uint32Array:return e?de.Uint64:de.Uint32;case my.BigUint64Array:return de.Uint64;default:return null}},BT=(r,e)=>{switch(r){case Fu:return de.Int8;case Eu:return de.Int16;case Du:return e?de.Int64:de.Int32;case Ru:return de.Int64;case Uu:return de.Uint8;case Mu:return de.Uint16;case Vu:return e?de.Uint64:de.Uint32;case Nu:return de.Uint64;default:return null}}});var Pu=p(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.ListVector=void 0;var wT=pe(),by=class extends wT.BaseVector{};Lo.ListVector=by});var Lu=p(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.MapVector=void 0;var ST=Dn(),OT=fe(),AT=pe(),FT=J(),gy=class extends AT.BaseVector{asList(){let e=this.type.children[0];return OT.Vector.new(this.data.clone(new FT.List(e)))}bind(e){let t=this.getChildAt(0),{[e]:i,[e+1]:n}=this.valueOffsets;return new ST.MapRow(t.slice(i,n))}};ko.MapVector=gy});var ku=p(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.NullVector=void 0;var ET=pe(),Iy=class extends ET.BaseVector{};xo.NullVector=Iy});var xu=p(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.StructVector=void 0;var DT=Dn(),RT=pe(),UT=Symbol.for("rowIndex"),Ty=class extends RT.BaseVector{bind(e){let t=this._row||(this._row=new DT.StructRow(this)),i=Object.create(t);return i[UT]=e,i}};jo.StructVector=Ty});var ju=p(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.TimestampNanosecondVector=nt.TimestampMicrosecondVector=nt.TimestampMillisecondVector=nt.TimestampSecondVector=nt.TimestampVector=void 0;var MT=pe(),Ji=class extends MT.BaseVector{};nt.TimestampVector=Ji;var vy=class extends Ji{};nt.TimestampSecondVector=vy;var By=class extends Ji{};nt.TimestampMillisecondVector=By;var wy=class extends Ji{};nt.TimestampMicrosecondVector=wy;var Sy=class extends Ji{};nt.TimestampNanosecondVector=Sy});var Cu=p(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.TimeNanosecondVector=st.TimeMicrosecondVector=st.TimeMillisecondVector=st.TimeSecondVector=st.TimeVector=void 0;var VT=pe(),Qi=class extends VT.BaseVector{};st.TimeVector=Qi;var Oy=class extends Qi{};st.TimeSecondVector=Oy;var Ay=class extends Qi{};st.TimeMillisecondVector=Ay;var Fy=class extends Qi{};st.TimeMicrosecondVector=Fy;var Ey=class extends Qi{};st.TimeNanosecondVector=Ey});var qu=p(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.SparseUnionVector=jr.DenseUnionVector=jr.UnionVector=void 0;var NT=pe(),Co=class extends NT.BaseVector{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}};jr.UnionVector=Co;var Dy=class extends Co{get valueOffsets(){return this.data.valueOffsets}};jr.DenseUnionVector=Dy;var Ry=class extends Co{};jr.SparseUnionVector=Ry});var zu=p(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.Utf8Vector=void 0;var PT=fe(),LT=pe(),Uy=J(),kT=xt(),My=class extends LT.BaseVector{static from(e){return kT.vectorFromValuesWithType(()=>new Uy.Utf8,e)}asBinary(){return PT.Vector.new(this.data.clone(new Uy.Binary))}};qo.Utf8Vector=My});var Vy=p(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.partial2=Cr.partial1=Cr.partial0=void 0;function xT(r){return function(){return r(this)}}Cr.partial0=xT;function jT(r){return function(e){return r(this,e)}}Cr.partial1=jT;function CT(r){return function(e,t){return r(this,e,t)}}Cr.partial2=CT});var Yu=p(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.instance=Zi.GetVisitor=void 0;var zo=wn(),qT=Re(),zT=Gr(),WT=In(),ot=ee(),R=class extends qT.Visitor{};Zi.GetVisitor=R;var GT=(r,e)=>864e5*r[e],Wu=(r,e)=>4294967296*r[e+1]+(r[e]>>>0),YT=(r,e)=>4294967296*(r[e+1]/1e3)+(r[e]>>>0)/1e3,HT=(r,e)=>4294967296*(r[e+1]/1e6)+(r[e]>>>0)/1e6,Ny=r=>new Date(r),KT=(r,e)=>Ny(GT(r,e)),$T=(r,e)=>Ny(Wu(r,e)),JT=(r,e)=>null,Py=(r,e,t)=>{let{[t]:i,[t+1]:n}=e;return i!=null&&n!=null?r.subarray(i,n):null},QT=({offset:r,values:e},t)=>{let i=r+t;return(e[i>>3]&1<<i%8)!=0},Ly=({values:r},e)=>KT(r,e),ky=({values:r},e)=>$T(r,e*2),qt=({stride:r,values:e},t)=>e[r*t],xy=({stride:r,values:e},t)=>WT.uint16ToFloat64(e[r*t]),Gu=({stride:r,values:e,type:t},i)=>zo.BN.new(e.subarray(r*i,r*(i+1)),t.isSigned),ZT=({stride:r,values:e},t)=>e.subarray(r*t,r*(t+1)),XT=({values:r,valueOffsets:e},t)=>Py(r,e,t),ev=({values:r,valueOffsets:e},t)=>{let i=Py(r,e,t);return i!==null?zT.decodeUtf8(i):null},tv=(r,e)=>r.type.bitWidth<64?qt(r,e):Gu(r,e),rv=(r,e)=>r.type.precision!==ot.Precision.HALF?qt(r,e):xy(r,e),iv=(r,e)=>r.type.unit===ot.DateUnit.DAY?Ly(r,e):ky(r,e),jy=({values:r},e)=>1e3*Wu(r,e*2),Cy=({values:r},e)=>Wu(r,e*2),qy=({values:r},e)=>YT(r,e*2),zy=({values:r},e)=>HT(r,e*2),nv=(r,e)=>{switch(r.type.unit){case ot.TimeUnit.SECOND:return jy(r,e);case ot.TimeUnit.MILLISECOND:return Cy(r,e);case ot.TimeUnit.MICROSECOND:return qy(r,e);case ot.TimeUnit.NANOSECOND:return zy(r,e)}},Wy=({values:r,stride:e},t)=>r[e*t],Gy=({values:r,stride:e},t)=>r[e*t],Yy=({values:r},e)=>zo.BN.signed(r.subarray(2*e,2*(e+1))),Hy=({values:r},e)=>zo.BN.signed(r.subarray(2*e,2*(e+1))),sv=(r,e)=>{switch(r.type.unit){case ot.TimeUnit.SECOND:return Wy(r,e);case ot.TimeUnit.MILLISECOND:return Gy(r,e);case ot.TimeUnit.MICROSECOND:return Yy(r,e);case ot.TimeUnit.NANOSECOND:return Hy(r,e)}},ov=({values:r},e)=>zo.BN.decimal(r.subarray(4*e,4*(e+1))),av=(r,e)=>{let t=r.getChildAt(0),{valueOffsets:i,stride:n}=r;return t.slice(i[e*n],i[e*n+1])},cv=(r,e)=>r.bind(e),uv=(r,e)=>r.bind(e),lv=(r,e)=>r.type.mode===ot.UnionMode.Dense?Ky(r,e):$y(r,e),Ky=(r,e)=>{let t=r.typeIdToChildIndex[r.typeIds[e]],i=r.getChildAt(t);return i?i.get(r.valueOffsets[e]):null},$y=(r,e)=>{let t=r.typeIdToChildIndex[r.typeIds[e]],i=r.getChildAt(t);return i?i.get(e):null},dv=(r,e)=>r.getValue(r.getKey(e)),hv=(r,e)=>r.type.unit===ot.IntervalUnit.DAY_TIME?Jy(r,e):Qy(r,e),Jy=({values:r},e)=>r.subarray(2*e,2*(e+1)),Qy=({values:r},e)=>{let t=r[e],i=new Int32Array(2);return i[0]=t/12|0,i[1]=t%12|0,i},fv=(r,e)=>{let t=r.getChildAt(0),{stride:i}=r;return t.slice(e*i,(e+1)*i)};R.prototype.visitNull=JT;R.prototype.visitBool=QT;R.prototype.visitInt=tv;R.prototype.visitInt8=qt;R.prototype.visitInt16=qt;R.prototype.visitInt32=qt;R.prototype.visitInt64=Gu;R.prototype.visitUint8=qt;R.prototype.visitUint16=qt;R.prototype.visitUint32=qt;R.prototype.visitUint64=Gu;R.prototype.visitFloat=rv;R.prototype.visitFloat16=xy;R.prototype.visitFloat32=qt;R.prototype.visitFloat64=qt;R.prototype.visitUtf8=ev;R.prototype.visitBinary=XT;R.prototype.visitFixedSizeBinary=ZT;R.prototype.visitDate=iv;R.prototype.visitDateDay=Ly;R.prototype.visitDateMillisecond=ky;R.prototype.visitTimestamp=nv;R.prototype.visitTimestampSecond=jy;R.prototype.visitTimestampMillisecond=Cy;R.prototype.visitTimestampMicrosecond=qy;R.prototype.visitTimestampNanosecond=zy;R.prototype.visitTime=sv;R.prototype.visitTimeSecond=Wy;R.prototype.visitTimeMillisecond=Gy;R.prototype.visitTimeMicrosecond=Yy;R.prototype.visitTimeNanosecond=Hy;R.prototype.visitDecimal=ov;R.prototype.visitList=av;R.prototype.visitStruct=uv;R.prototype.visitUnion=lv;R.prototype.visitDenseUnion=Ky;R.prototype.visitSparseUnion=$y;R.prototype.visitDictionary=dv;R.prototype.visitInterval=hv;R.prototype.visitIntervalDayTime=Jy;R.prototype.visitIntervalYearMonth=Qy;R.prototype.visitFixedSizeList=fv;R.prototype.visitMap=cv;Zi.instance=new R});var tp=p(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.instance=Xi.IndexOfVisitor=void 0;var yv=Re(),Zy=Ft(),Xy=Un(),U=class extends yv.Visitor{};Xi.IndexOfVisitor=U;function pv(r,e){return e===null&&r.length>0?0:-1}function mv(r,e){let{nullBitmap:t}=r.data;if(!t||r.nullCount<=0)return-1;let i=0;for(let n of new Zy.BitIterator(t,r.data.offset+(e||0),r.length,t,Zy.getBool)){if(!n)return i;++i}return-1}function z(r,e,t){if(e===void 0)return-1;if(e===null)return mv(r,t);let i=Xy.createElementComparator(e);for(let n=(t||0)-1,s=r.length;++n<s;)if(i(r.get(n)))return n;return-1}function ep(r,e,t){let i=Xy.createElementComparator(e);for(let n=(t||0)-1,s=r.length;++n<s;)if(i(r.get(n)))return n;return-1}U.prototype.visitNull=pv;U.prototype.visitBool=z;U.prototype.visitInt=z;U.prototype.visitInt8=z;U.prototype.visitInt16=z;U.prototype.visitInt32=z;U.prototype.visitInt64=z;U.prototype.visitUint8=z;U.prototype.visitUint16=z;U.prototype.visitUint32=z;U.prototype.visitUint64=z;U.prototype.visitFloat=z;U.prototype.visitFloat16=z;U.prototype.visitFloat32=z;U.prototype.visitFloat64=z;U.prototype.visitUtf8=z;U.prototype.visitBinary=z;U.prototype.visitFixedSizeBinary=z;U.prototype.visitDate=z;U.prototype.visitDateDay=z;U.prototype.visitDateMillisecond=z;U.prototype.visitTimestamp=z;U.prototype.visitTimestampSecond=z;U.prototype.visitTimestampMillisecond=z;U.prototype.visitTimestampMicrosecond=z;U.prototype.visitTimestampNanosecond=z;U.prototype.visitTime=z;U.prototype.visitTimeSecond=z;U.prototype.visitTimeMillisecond=z;U.prototype.visitTimeMicrosecond=z;U.prototype.visitTimeNanosecond=z;U.prototype.visitDecimal=z;U.prototype.visitList=z;U.prototype.visitStruct=z;U.prototype.visitUnion=z;U.prototype.visitDenseUnion=ep;U.prototype.visitSparseUnion=ep;U.prototype.visitDictionary=z;U.prototype.visitInterval=z;U.prototype.visitIntervalDayTime=z;U.prototype.visitIntervalYearMonth=z;U.prototype.visitFixedSizeList=z;U.prototype.visitMap=z;Xi.instance=new U});var Hu=p(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.instance=en.IteratorVisitor=void 0;var Wo=ee(),_v=Re(),bv=Ft(),rp=Yu(),M=class extends _v.Visitor{};en.IteratorVisitor=M;function gv(r){let e=rp.instance.getVisitFn(r);return new bv.BitIterator(r.data.nullBitmap,r.data.offset,r.length,r,(t,i,n,s)=>(n&1<<s)!=0?e(t,i):null)}var ip=class{constructor(e,t){this.vector=e,this.getFn=t,this.index=0}next(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};function j(r){if(r.nullCount>0)return gv(r);let{type:e,typeId:t,length:i}=r;return r.stride===1&&(t===Wo.Type.Timestamp||t===Wo.Type.Int&&e.bitWidth!==64||t===Wo.Type.Time&&e.bitWidth!==64||t===Wo.Type.Float&&e.precision>0)?r.data.values.subarray(0,i)[Symbol.iterator]():new ip(r,rp.instance.getVisitFn(r))}M.prototype.visitNull=j;M.prototype.visitBool=j;M.prototype.visitInt=j;M.prototype.visitInt8=j;M.prototype.visitInt16=j;M.prototype.visitInt32=j;M.prototype.visitInt64=j;M.prototype.visitUint8=j;M.prototype.visitUint16=j;M.prototype.visitUint32=j;M.prototype.visitUint64=j;M.prototype.visitFloat=j;M.prototype.visitFloat16=j;M.prototype.visitFloat32=j;M.prototype.visitFloat64=j;M.prototype.visitUtf8=j;M.prototype.visitBinary=j;M.prototype.visitFixedSizeBinary=j;M.prototype.visitDate=j;M.prototype.visitDateDay=j;M.prototype.visitDateMillisecond=j;M.prototype.visitTimestamp=j;M.prototype.visitTimestampSecond=j;M.prototype.visitTimestampMillisecond=j;M.prototype.visitTimestampMicrosecond=j;M.prototype.visitTimestampNanosecond=j;M.prototype.visitTime=j;M.prototype.visitTimeSecond=j;M.prototype.visitTimeMillisecond=j;M.prototype.visitTimeMicrosecond=j;M.prototype.visitTimeNanosecond=j;M.prototype.visitDecimal=j;M.prototype.visitList=j;M.prototype.visitStruct=j;M.prototype.visitUnion=j;M.prototype.visitDenseUnion=j;M.prototype.visitSparseUnion=j;M.prototype.visitDictionary=j;M.prototype.visitInterval=j;M.prototype.visitIntervalDayTime=j;M.prototype.visitIntervalYearMonth=j;M.prototype.visitFixedSizeList=j;M.prototype.visitMap=j;en.instance=new M});var np=p(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.instance=tn.ToArrayVisitor=void 0;var qn=ee(),Iv=Re(),Tv=Hu(),V=class extends Iv.Visitor{};tn.ToArrayVisitor=V;function C(r){let{type:e,length:t,stride:i}=r;switch(e.typeId){case qn.Type.Int:case qn.Type.Float:case qn.Type.Decimal:case qn.Type.Time:case qn.Type.Timestamp:return r.data.values.subarray(0,t*i)}return[...Tv.instance.visit(r)]}V.prototype.visitNull=C;V.prototype.visitBool=C;V.prototype.visitInt=C;V.prototype.visitInt8=C;V.prototype.visitInt16=C;V.prototype.visitInt32=C;V.prototype.visitInt64=C;V.prototype.visitUint8=C;V.prototype.visitUint16=C;V.prototype.visitUint32=C;V.prototype.visitUint64=C;V.prototype.visitFloat=C;V.prototype.visitFloat16=C;V.prototype.visitFloat32=C;V.prototype.visitFloat64=C;V.prototype.visitUtf8=C;V.prototype.visitBinary=C;V.prototype.visitFixedSizeBinary=C;V.prototype.visitDate=C;V.prototype.visitDateDay=C;V.prototype.visitDateMillisecond=C;V.prototype.visitTimestamp=C;V.prototype.visitTimestampSecond=C;V.prototype.visitTimestampMillisecond=C;V.prototype.visitTimestampMicrosecond=C;V.prototype.visitTimestampNanosecond=C;V.prototype.visitTime=C;V.prototype.visitTimeSecond=C;V.prototype.visitTimeMillisecond=C;V.prototype.visitTimeMicrosecond=C;V.prototype.visitTimeNanosecond=C;V.prototype.visitDecimal=C;V.prototype.visitList=C;V.prototype.visitStruct=C;V.prototype.visitUnion=C;V.prototype.visitDenseUnion=C;V.prototype.visitSparseUnion=C;V.prototype.visitDictionary=C;V.prototype.visitInterval=C;V.prototype.visitIntervalDayTime=C;V.prototype.visitIntervalYearMonth=C;V.prototype.visitFixedSizeList=C;V.prototype.visitMap=C;tn.instance=new V});var sp=p(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.instance=rn.ByteWidthVisitor=void 0;var vv=Re(),Bv=ee(),zn=(r,e)=>r+e,Ku=r=>`Cannot compute the byte width of variable-width column ${r}`,$u=class extends vv.Visitor{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(Ku(e))}visitUtf8(e){throw new Error(Ku(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return(e.unit+1)*4}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===Bv.TimeUnit.SECOND?4:8}visitInterval(e){return(e.unit+1)*4}visitList(e){throw new Error(Ku(e))}visitStruct(e){return this.visitFields(e.children).reduce(zn,0)}visitUnion(e){return this.visitFields(e.children).reduce(zn,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(zn,0)}visitMap(e){return this.visitFields(e.children).reduce(zn,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map(t=>this.visit(t.type))}visitSchema(e){return this.visitFields(e.fields).reduce(zn,0)}};rn.ByteWidthVisitor=$u;rn.instance=new $u});var op=p(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.instance=nn.GetVectorConstructor=void 0;var wv=Re(),Sv=pu(),Ov=mu(),Ju=bu(),Av=gu(),Fv=Uo(),Ev=Tu(),Dv=vu(),Go=Ou(),Qu=Au(),nr=Po(),Rv=Pu(),Uv=Lu(),Mv=ku(),Vv=xu(),Wn=ju(),Gn=Cu(),Zu=qu(),Nv=zu(),Xu=class extends wv.Visitor{visitNull(){return Mv.NullVector}visitBool(){return Ov.BoolVector}visitInt(){return nr.IntVector}visitInt8(){return nr.Int8Vector}visitInt16(){return nr.Int16Vector}visitInt32(){return nr.Int32Vector}visitInt64(){return nr.Int64Vector}visitUint8(){return nr.Uint8Vector}visitUint16(){return nr.Uint16Vector}visitUint32(){return nr.Uint32Vector}visitUint64(){return nr.Uint64Vector}visitFloat(){return Go.FloatVector}visitFloat16(){return Go.Float16Vector}visitFloat32(){return Go.Float32Vector}visitFloat64(){return Go.Float64Vector}visitUtf8(){return Nv.Utf8Vector}visitBinary(){return Sv.BinaryVector}visitFixedSizeBinary(){return Ev.FixedSizeBinaryVector}visitDate(){return Ju.DateVector}visitDateDay(){return Ju.DateDayVector}visitDateMillisecond(){return Ju.DateMillisecondVector}visitTimestamp(){return Wn.TimestampVector}visitTimestampSecond(){return Wn.TimestampSecondVector}visitTimestampMillisecond(){return Wn.TimestampMillisecondVector}visitTimestampMicrosecond(){return Wn.TimestampMicrosecondVector}visitTimestampNanosecond(){return Wn.TimestampNanosecondVector}visitTime(){return Gn.TimeVector}visitTimeSecond(){return Gn.TimeSecondVector}visitTimeMillisecond(){return Gn.TimeMillisecondVector}visitTimeMicrosecond(){return Gn.TimeMicrosecondVector}visitTimeNanosecond(){return Gn.TimeNanosecondVector}visitDecimal(){return Av.DecimalVector}visitList(){return Rv.ListVector}visitStruct(){return Vv.StructVector}visitUnion(){return Zu.UnionVector}visitDenseUnion(){return Zu.DenseUnionVector}visitSparseUnion(){return Zu.SparseUnionVector}visitDictionary(){return Fv.DictionaryVector}visitInterval(){return Qu.IntervalVector}visitIntervalDayTime(){return Qu.IntervalDayTimeVector}visitIntervalYearMonth(){return Qu.IntervalYearMonthVector}visitFixedSizeList(){return Dv.FixedSizeListVector}visitMap(){return Uv.MapVector}};nn.GetVectorConstructor=Xu;nn.instance=new Xu});var xt=p(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.vectorFromValuesWithType=m.StructRow=m.MapRow=m.Utf8Vector=m.SparseUnionVector=m.DenseUnionVector=m.UnionVector=m.TimeNanosecondVector=m.TimeMicrosecondVector=m.TimeMillisecondVector=m.TimeSecondVector=m.TimeVector=m.TimestampNanosecondVector=m.TimestampMicrosecondVector=m.TimestampMillisecondVector=m.TimestampSecondVector=m.TimestampVector=m.StructVector=m.NullVector=m.MapVector=m.ListVector=m.Uint64Vector=m.Uint32Vector=m.Uint16Vector=m.Uint8Vector=m.Int64Vector=m.Int32Vector=m.Int16Vector=m.Int8Vector=m.IntVector=m.IntervalYearMonthVector=m.IntervalDayTimeVector=m.IntervalVector=m.Float64Vector=m.Float32Vector=m.Float16Vector=m.FloatVector=m.FixedSizeListVector=m.FixedSizeBinaryVector=m.DictionaryVector=m.DecimalVector=m.DateMillisecondVector=m.DateDayVector=m.DateVector=m.Chunked=m.BoolVector=m.BinaryVector=m.BaseVector=m.Vector=void 0;var el=Ve(),Pv=fe();Object.defineProperty(m,"Vector",{enumerable:!0,get:function(){return Pv.Vector}});var Lv=pe();Object.defineProperty(m,"BaseVector",{enumerable:!0,get:function(){return Lv.BaseVector}});var kv=pu();Object.defineProperty(m,"BinaryVector",{enumerable:!0,get:function(){return kv.BinaryVector}});var xv=mu();Object.defineProperty(m,"BoolVector",{enumerable:!0,get:function(){return xv.BoolVector}});var jv=Ur();Object.defineProperty(m,"Chunked",{enumerable:!0,get:function(){return jv.Chunked}});var tl=bu();Object.defineProperty(m,"DateVector",{enumerable:!0,get:function(){return tl.DateVector}});Object.defineProperty(m,"DateDayVector",{enumerable:!0,get:function(){return tl.DateDayVector}});Object.defineProperty(m,"DateMillisecondVector",{enumerable:!0,get:function(){return tl.DateMillisecondVector}});var Cv=gu();Object.defineProperty(m,"DecimalVector",{enumerable:!0,get:function(){return Cv.DecimalVector}});var qv=Uo();Object.defineProperty(m,"DictionaryVector",{enumerable:!0,get:function(){return qv.DictionaryVector}});var zv=Tu();Object.defineProperty(m,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return zv.FixedSizeBinaryVector}});var Wv=vu();Object.defineProperty(m,"FixedSizeListVector",{enumerable:!0,get:function(){return Wv.FixedSizeListVector}});var Yo=Ou();Object.defineProperty(m,"FloatVector",{enumerable:!0,get:function(){return Yo.FloatVector}});Object.defineProperty(m,"Float16Vector",{enumerable:!0,get:function(){return Yo.Float16Vector}});Object.defineProperty(m,"Float32Vector",{enumerable:!0,get:function(){return Yo.Float32Vector}});Object.defineProperty(m,"Float64Vector",{enumerable:!0,get:function(){return Yo.Float64Vector}});var rl=Au();Object.defineProperty(m,"IntervalVector",{enumerable:!0,get:function(){return rl.IntervalVector}});Object.defineProperty(m,"IntervalDayTimeVector",{enumerable:!0,get:function(){return rl.IntervalDayTimeVector}});Object.defineProperty(m,"IntervalYearMonthVector",{enumerable:!0,get:function(){return rl.IntervalYearMonthVector}});var sr=Po();Object.defineProperty(m,"IntVector",{enumerable:!0,get:function(){return sr.IntVector}});Object.defineProperty(m,"Int8Vector",{enumerable:!0,get:function(){return sr.Int8Vector}});Object.defineProperty(m,"Int16Vector",{enumerable:!0,get:function(){return sr.Int16Vector}});Object.defineProperty(m,"Int32Vector",{enumerable:!0,get:function(){return sr.Int32Vector}});Object.defineProperty(m,"Int64Vector",{enumerable:!0,get:function(){return sr.Int64Vector}});Object.defineProperty(m,"Uint8Vector",{enumerable:!0,get:function(){return sr.Uint8Vector}});Object.defineProperty(m,"Uint16Vector",{enumerable:!0,get:function(){return sr.Uint16Vector}});Object.defineProperty(m,"Uint32Vector",{enumerable:!0,get:function(){return sr.Uint32Vector}});Object.defineProperty(m,"Uint64Vector",{enumerable:!0,get:function(){return sr.Uint64Vector}});var Gv=Pu();Object.defineProperty(m,"ListVector",{enumerable:!0,get:function(){return Gv.ListVector}});var Yv=Lu();Object.defineProperty(m,"MapVector",{enumerable:!0,get:function(){return Yv.MapVector}});var Hv=ku();Object.defineProperty(m,"NullVector",{enumerable:!0,get:function(){return Hv.NullVector}});var Kv=xu();Object.defineProperty(m,"StructVector",{enumerable:!0,get:function(){return Kv.StructVector}});var Yn=ju();Object.defineProperty(m,"TimestampVector",{enumerable:!0,get:function(){return Yn.TimestampVector}});Object.defineProperty(m,"TimestampSecondVector",{enumerable:!0,get:function(){return Yn.TimestampSecondVector}});Object.defineProperty(m,"TimestampMillisecondVector",{enumerable:!0,get:function(){return Yn.TimestampMillisecondVector}});Object.defineProperty(m,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return Yn.TimestampMicrosecondVector}});Object.defineProperty(m,"TimestampNanosecondVector",{enumerable:!0,get:function(){return Yn.TimestampNanosecondVector}});var Hn=Cu();Object.defineProperty(m,"TimeVector",{enumerable:!0,get:function(){return Hn.TimeVector}});Object.defineProperty(m,"TimeSecondVector",{enumerable:!0,get:function(){return Hn.TimeSecondVector}});Object.defineProperty(m,"TimeMillisecondVector",{enumerable:!0,get:function(){return Hn.TimeMillisecondVector}});Object.defineProperty(m,"TimeMicrosecondVector",{enumerable:!0,get:function(){return Hn.TimeMicrosecondVector}});Object.defineProperty(m,"TimeNanosecondVector",{enumerable:!0,get:function(){return Hn.TimeNanosecondVector}});var il=qu();Object.defineProperty(m,"UnionVector",{enumerable:!0,get:function(){return il.UnionVector}});Object.defineProperty(m,"DenseUnionVector",{enumerable:!0,get:function(){return il.DenseUnionVector}});Object.defineProperty(m,"SparseUnionVector",{enumerable:!0,get:function(){return il.SparseUnionVector}});var $v=zu();Object.defineProperty(m,"Utf8Vector",{enumerable:!0,get:function(){return $v.Utf8Vector}});var ap=Dn();Object.defineProperty(m,"MapRow",{enumerable:!0,get:function(){return ap.MapRow}});Object.defineProperty(m,"StructRow",{enumerable:!0,get:function(){return ap.StructRow}});var Kn=Vy(),nl=ee(),sn=fe(),cp=Ur(),fi=pe(),Jv=Ft(),Ho=Ne(),up=ce(),lp=Yu(),dp=_c(),hp=tp(),fp=np(),yp=Hu(),pp=sp(),mp=op();sn.Vector.new=Qv;sn.Vector.from=Xv;function Qv(r,...e){return new(mp.instance.getVisitFn(r)())(r,...e)}function Zv(r,e){if(Ho.isIterable(e))return sn.Vector.from({nullValues:[null,void 0],type:r(),values:e});if(Ho.isAsyncIterable(e))return sn.Vector.from({nullValues:[null,void 0],type:r(),values:e});let{values:t=[],type:i=r(),nullValues:n=[null,void 0]}=Object.assign({},e);return Ho.isIterable(t)?sn.Vector.from(Object.assign(Object.assign({nullValues:n},e),{type:i})):sn.Vector.from(Object.assign(Object.assign({nullValues:n},e),{type:i}))}m.vectorFromValuesWithType=Zv;function Xv(r){let e=Object.assign({nullValues:[null,void 0]},r),{values:t=[]}=e,i=el.__rest(e,["values"]);if(Ho.isIterable(t)){let n=[...up.Builder.throughIterable(i)(t)];return n.length===1?n[0]:cp.Chunked.concat(n)}return(n=>el.__awaiter(this,void 0,void 0,function*(){var s,o;let a=up.Builder.throughAsyncIterable(i);try{for(var u=el.__asyncValues(a(t)),d;d=yield u.next(),!d.done;){let h=d.value;n.push(h)}}catch(h){s={error:h}}finally{try{d&&!d.done&&(o=u.return)&&(yield o.call(u))}finally{if(s)throw s.error}}return n.length===1?n[0]:cp.Chunked.concat(n)}))([])}fi.BaseVector.prototype.get=function(e){return lp.instance.visit(this,e)};fi.BaseVector.prototype.set=function(e,t){return dp.instance.visit(this,e,t)};fi.BaseVector.prototype.indexOf=function(e,t){return hp.instance.visit(this,e,t)};fi.BaseVector.prototype.toArray=function(){return fp.instance.visit(this)};fi.BaseVector.prototype.getByteWidth=function(){return pp.instance.visit(this.type)};fi.BaseVector.prototype[Symbol.iterator]=function(){return yp.instance.visit(this)};fi.BaseVector.prototype._bindDataAccessors=iB;Object.keys(nl.Type).map(r=>nl.Type[r]).filter(r=>typeof r=="number").filter(r=>r!==nl.Type.NONE).forEach(r=>{let e=mp.instance.visit(r);e.prototype.get=Kn.partial1(lp.instance.getVisitFn(r)),e.prototype.set=Kn.partial2(dp.instance.getVisitFn(r)),e.prototype.indexOf=Kn.partial2(hp.instance.getVisitFn(r)),e.prototype.toArray=Kn.partial0(fp.instance.getVisitFn(r)),e.prototype.getByteWidth=eB(pp.instance.getVisitFn(r)),e.prototype[Symbol.iterator]=Kn.partial0(yp.instance.getVisitFn(r))});function eB(r){return function(){return r(this.type)}}function tB(r){return function(e){return this.isValid(e)?r.call(this,e):null}}function rB(r){return function(e,t){Jv.setBool(this.nullBitmap,this.offset+e,t!=null)&&r.call(this,e,t)}}function iB(){let r=this.nullBitmap;r&&r.byteLength>0&&(this.get=tB(this.get),this.set=rB(this.set))}});var jn=p($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.Table=void 0;var Ko=Ve(),nB=Wi(),sB=$n(),_p=So(),sl=ir(),bp=Oe(),ol=J(),gp=si(),al=Ne(),Ip=hu(),cl=xt(),Se=class extends cl.Chunked{constructor(...e){var t;let i=null;e[0]instanceof bp.Schema&&(i=e[0]);let n=e[0]instanceof Se?e[0].chunks:gp.selectArgs(sl.RecordBatch,e);if(!i&&!(i=(t=n[0])===null||t===void 0?void 0:t.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");n[0]||(n[0]=new sl._InternalEmptyPlaceholderRecordBatch(i));super(new ol.Struct(i.fields),n);this._schema=i,this._chunks=n}static empty(e=new bp.Schema([])){return new Se(e,[])}static from(e){if(!e)return Se.empty();if(typeof e=="object"){let i=al.isIterable(e.values)?oB(e):al.isAsyncIterable(e.values)?aB(e):null;if(i!==null)return i}let t=sB.RecordBatchReader.from(e);return al.isPromise(t)?(()=>Ko.__awaiter(this,void 0,void 0,function*(){return yield Se.from(yield t)}))():t.isSync()&&(t=t.open())?t.schema?new Se(t.schema,[...t]):Se.empty():(i=>Ko.__awaiter(this,void 0,void 0,function*(){var n,s;let o=yield i,a=o.schema,u=[];if(a){try{for(var d=Ko.__asyncValues(o),h;h=yield d.next(),!h.done;){let B=h.value;u.push(B)}}catch(B){n={error:B}}finally{try{h&&!h.done&&(s=d.return)&&(yield s.call(d))}finally{if(n)throw n.error}}return new Se(a,u)}return Se.empty()}))(t.open())}static fromAsync(e){return Ko.__awaiter(this,void 0,void 0,function*(){return yield Se.from(e)})}static fromStruct(e){return Se.new(e.data.childData,e.type.children)}static new(...e){return new Se(...Ip.distributeColumnsIntoRecordBatches(gp.selectColumnArgs(e)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new Se(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex(t=>t.name===e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,i,n=this._schema.fields,s=this._children||(this._children=[]);if(i=s[e])return i;if(t=n[e]){let o=this._chunks.map(a=>a.getChildAt(e)).filter(a=>a!=null);if(o.length>0)return s[e]=new nB.Column(t,o)}return null}serialize(e="binary",t=!0){return(t?_p.RecordBatchStreamWriter:_p.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let t=this._schema.fields.reduce((i,n,s)=>i.set(n.name,s),new Map);return this.selectAt(...e.map(i=>t.get(i)).filter(i=>i>-1))}selectAt(...e){let t=this._schema.selectAt(...e);return new Se(t,this._chunks.map(({length:i,data:{childData:n}})=>new sl.RecordBatch(t,i,e.map(s=>n[s]).filter(Boolean))))}assign(e){let t=this._schema.fields,[i,n]=e.schema.fields.reduce((a,u,d)=>{let[h,B]=a,w=t.findIndex($=>$.name===u.name);return~w?B[w]=d:h.push(d),a},[[],[]]),s=this._schema.assign(e.schema),o=[...t.map((a,u,d,h=n[u])=>h===void 0?this.getColumnAt(u):e.getColumnAt(h)),...i.map(a=>e.getColumnAt(a))].filter(Boolean);return new Se(...Ip.distributeVectorsIntoRecordBatches(s,o))}};$o.Table=Se;function oB(r){let{type:e}=r;return e instanceof ol.Struct?Se.fromStruct(cl.StructVector.from(r)):null}function aB(r){let{type:e}=r;return e instanceof ol.Struct?cl.StructVector.from(r).then(t=>Se.fromStruct(t)):null}});var ir=p(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on._InternalEmptyPlaceholderRecordBatch=on.RecordBatch=void 0;var ul=yt(),ll=jn(),cB=fe(),uB=Re(),lB=Oe(),dB=Ne(),hB=Ur(),fB=si(),dl=J(),yB=hu(),pB=xt(),qr=class extends pB.StructVector{constructor(...e){let t,i=e[0],n;if(e[1]instanceof ul.Data)[,t,n]=e;else{let s=i.fields,[,o,a]=e;t=ul.Data.Struct(new dl.Struct(s),0,o,0,null,a)}super(t,n);this._schema=i}static from(e){return dB.isIterable(e.values),ll.Table.from(e)}static new(...e){let[t,i]=fB.selectFieldArgs(e),n=i.filter(s=>s instanceof cB.Vector);return new qr(...yB.ensureSameLengthData(new lB.Schema(t),n.map(s=>s.data)))}clone(e,t=this._children){return new qr(this._schema,e,t)}concat(...e){let t=this._schema,i=hB.Chunked.flatten(this,...e);return new ll.Table(t,i.map(({data:n})=>new qr(t,n)))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=Jo.collect(this))}select(...e){let t=this._schema.fields.reduce((i,n,s)=>i.set(n.name,s),new Map);return this.selectAt(...e.map(i=>t.get(i)).filter(i=>i>-1))}selectAt(...e){let t=this._schema.selectAt(...e),i=e.map(n=>this.data.childData[n]).filter(Boolean);return new qr(t,this.length,i)}};on.RecordBatch=qr;var Tp=class extends qr{constructor(e){super(e,0,e.fields.map(t=>ul.Data.new(t.type,0,0,0)))}};on._InternalEmptyPlaceholderRecordBatch=Tp;var Jo=class extends uB.Visitor{constructor(){super(...arguments);this.dictionaries=new Map}static collect(e){return new Jo().visit(e.data,new dl.Struct(e.schema.fields)).dictionaries}visit(e,t){return dl.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach((i,n)=>this.visit(i,t.children[n].type)),this)}visitDictionary(e,t){let i=e.dictionary;return i&&i.length>0&&this.dictionaries.set(t.id,i),this}}});var $n=p(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.AsyncRecordBatchFileReader=ut.RecordBatchFileReader=ut.AsyncRecordBatchStreamReader=ut.RecordBatchStreamReader=ut.RecordBatchReader=void 0;var re=Ve(),vp=fe(),Qo=ee(),Bp=Fc(),wp=bn(),Sp=Fr(),Jn=Rc(),Op=nf(),hl=ir(),yi=_i(),at=yo(),ct=Ne(),zt=class extends yi.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return ct.isPromise(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return wp.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return wp.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof zt?e:ct.isArrowJSON(e)?mB(e):ct.isFileHandle(e)?gB(e):ct.isPromise(e)?(()=>re.__awaiter(this,void 0,void 0,function*(){return yield zt.from(yield e)}))():ct.isFetchResponse(e)||ct.isReadableDOMStream(e)||ct.isReadableNodeStream(e)||ct.isAsyncIterable(e)?bB(new Sp.AsyncByteStream(e)):_B(new Sp.ByteStream(e))}static readAll(e){return e instanceof zt?e.isSync()?Dp(e):Rp(e):ct.isArrowJSON(e)||ArrayBuffer.isView(e)||ct.isIterable(e)||ct.isIteratorResult(e)?Dp(e):Rp(e)}};ut.RecordBatchReader=zt;var an=class extends zt{constructor(e){super(e);this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return re.__asyncGenerator(this,arguments,function*(){yield re.__await(yield*re.__asyncDelegator(re.__asyncValues(this[Symbol.iterator]())))})}};ut.RecordBatchStreamReader=an;var cn=class extends zt{constructor(e){super(e);this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};ut.AsyncRecordBatchStreamReader=cn;var Zo=class extends an{constructor(e){super(e);this._impl=e}};ut.RecordBatchFileReader=Zo;var fl=class extends cn{constructor(e){super(e);this._impl=e}};ut.AsyncRecordBatchFileReader=fl;var yl=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){return new hl.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))}_loadDictionaryBatch(e,t){let{id:i,isDelta:n,data:s}=e,{dictionaries:o,schema:a}=this,u=o.get(i);if(n||!u){let d=a.dictionaries.get(i);return u&&n?u.concat(vp.Vector.new(this._loadVectors(s,t,[d])[0])):vp.Vector.new(this._loadVectors(s,t,[d])[0])}return u}_loadVectors(e,t,i){return new Op.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}},Qn=class extends yl{constructor(e,t){super(t);this._reader=ct.isArrowJSON(e)?new at.JSONMessageReader(this._handle=e):new at.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=Ep(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):yi.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):yi.ITERATOR_DONE}next(){if(this.closed)return yi.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let i=e.header(),n=t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(i,n);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let i=e.header(),n=t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new hl._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},Zn=class extends yl{constructor(e,t){super(t);this._reader=new at.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return re.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return re.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Ep(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return re.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):yi.ITERATOR_DONE})}return(e){return re.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):yi.ITERATOR_DONE})}next(){return re.__awaiter(this,void 0,void 0,function*(){if(this.closed)return yi.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let i=e.header(),n=yield t.readMessageBody(e.bodyLength),s=this._loadRecordBatch(i,n);return{done:!1,value:s}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let i=e.header(),n=yield t.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new hl._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return re.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},pl=class extends Qn{constructor(e,t){super(e instanceof Jn.RandomAccessFile?e:new Jn.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){let i=this._reader.readMessage(Qo.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let n=i.header(),s=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(n,s)}}return null}_readDictionaryBatch(e){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){let i=this._reader.readMessage(Qo.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let n=i.header(),s=this._reader.readMessageBody(i.bodyLength),o=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,o)}}}_readFooter(){let{_handle:e}=this,t=e.size-at.magicAndPadding,i=e.readInt32(t),n=e.readAt(t-i,i);return Bp.Footer.decode(n)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null}},Ap=class extends Zn{constructor(e,...t){let i=typeof t[0]!="number"?t.shift():void 0,n=t[0]instanceof Map?t.shift():void 0;super(e instanceof Jn.AsyncRandomAccessFile?e:new Jn.AsyncRandomAccessFile(e,i),n)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return re.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let i of this._footer.dictionaryBatches())i&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){return re.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let t=this._footer&&this._footer.getRecordBatch(e);if(t&&(yield this._handle.seek(t.offset))){let i=yield this._reader.readMessage(Qo.MessageHeader.RecordBatch);if(i==null?void 0:i.isRecordBatch()){let n=i.header(),s=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(n,s)}}return null})}_readDictionaryBatch(e){return re.__awaiter(this,void 0,void 0,function*(){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&(yield this._handle.seek(t.offset))){let i=yield this._reader.readMessage(Qo.MessageHeader.DictionaryBatch);if(i==null?void 0:i.isDictionaryBatch()){let n=i.header(),s=yield this._reader.readMessageBody(i.bodyLength),o=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,o)}}})}_readFooter(){return re.__awaiter(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-at.magicAndPadding,i=yield e.readInt32(t),n=yield e.readAt(t-i,i);return Bp.Footer.decode(n)})}_readNextMessageAndValidate(e){return re.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}},Fp=class extends Qn{constructor(e,t){super(e,t)}_loadVectors(e,t,i){return new Op.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(i)}};function Ep(r,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:r.autoDestroy}function*Dp(r){let e=zt.from(r);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function Rp(r){return re.__asyncGenerator(this,arguments,function*(){let t=yield re.__await(zt.from(r));try{if(!(yield re.__await(t.open({autoDestroy:!1}))).closed)do yield yield re.__await(t);while(!(yield re.__await(t.reset().open())).closed)}finally{yield re.__await(t.cancel())}})}function mB(r){return new an(new Fp(r))}function _B(r){let e=r.peek(at.magicLength+7&~7);return e&&e.byteLength>=4?at.checkForMagicArrowString(e)?new Zo(new pl(r.read())):new an(new Qn(r)):new an(new Qn(function*(){}()))}function bB(r){return re.__awaiter(this,void 0,void 0,function*(){let e=yield r.peek(at.magicLength+7&~7);return e&&e.byteLength>=4?at.checkForMagicArrowString(e)?new Zo(new pl(yield r.read())):new cn(new Zn(r)):new cn(new Zn(function(){return re.__asyncGenerator(this,arguments,function*(){})}()))})}function gB(r){return re.__awaiter(this,void 0,void 0,function*(){let{size:e}=yield r.stat(),t=new Jn.AsyncRandomAccessFile(r,e);return e>=at.magicX2AndPadding&&at.checkForMagicArrowString(yield t.readAt(0,at.magicLength+7&~7))?new fl(new Ap(t)):new cn(new Zn(t))})}});var Vp=p(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.toDOMStream=void 0;var Xo=Ve(),Up=ve(),Mp=Ne();function IB(r,e){if(Mp.isAsyncIterable(r))return vB(r,e);if(Mp.isIterable(r))return TB(r,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}ea.toDOMStream=IB;function TB(r,e){let t=null,i=(e==null?void 0:e.type)==="bytes"||!1,n=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){s(o,t||(t=r[Symbol.iterator]()))},pull(o){t?s(o,t):o.close()},cancel(){((t==null?void 0:t.return)&&t.return()||!0)&&(t=null)}}),Object.assign({highWaterMark:i?n:void 0},e));function s(o,a){let u,d=null,h=o.desiredSize||null;for(;!(d=a.next(i?h:null)).done;)if(ArrayBuffer.isView(d.value)&&(u=Up.toUint8Array(d.value))&&(h!=null&&i&&(h=h-u.byteLength+1),d.value=u),o.enqueue(d.value),h!=null&&--h<=0)return;o.close()}}function vB(r,e){let t=null,i=(e==null?void 0:e.type)==="bytes"||!1,n=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(o){return Xo.__awaiter(this,void 0,void 0,function*(){yield s(o,t||(t=r[Symbol.asyncIterator]()))})},pull(o){return Xo.__awaiter(this,void 0,void 0,function*(){t?yield s(o,t):o.close()})},cancel(){return Xo.__awaiter(this,void 0,void 0,function*(){((t==null?void 0:t.return)&&(yield t.return())||!0)&&(t=null)})}}),Object.assign({highWaterMark:i?n:void 0},e));function s(o,a){return Xo.__awaiter(this,void 0,void 0,function*(){let u,d=null,h=o.desiredSize||null;for(;!(d=yield a.next(i?h:null)).done;)if(ArrayBuffer.isView(d.value)&&(u=Up.toUint8Array(d.value))&&(h!=null&&i&&(h=h-u.byteLength+1),d.value=u),o.enqueue(d.value),h!=null&&--h<=0)return;o.close()})}}});var Lp=p(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.BuilderTransform=un.builderThroughDOMStream=void 0;var BB=Ve(),wB=Xs();function SB(r){return new ml(r)}un.builderThroughDOMStream=SB;var ml=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:t,["writableStrategy"]:i,["queueingStrategy"]:n="count"}=e,s=BB.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=wB.Builder.new(s),this._getSize=n!=="bytes"?Np:Pp;let{["highWaterMark"]:o=n==="bytes"?Math.pow(2,14):1e3}=Object.assign({},t),{["highWaterMark"]:a=n==="bytes"?Math.pow(2,14):1e3}=Object.assign({},i);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:u=>{this._maybeFlush(this._builder,this._controller=u)},start:u=>{this._maybeFlush(this._builder,this._controller=u)}},{highWaterMark:o,size:n!=="bytes"?Np:Pp}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:u=>this._writeValueAndReturnChunkSize(u)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){t!==null&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,t===null?e.close():e.enqueue(t)}};un.BuilderTransform=ml;var Np=r=>r.length,Pp=r=>r.byteLength});var kp=p(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.recordBatchReaderThroughDOMStream=void 0;var Xn=Ve(),OB=Fr(),AB=$n();function FB(r,e){let t=new OB.AsyncByteQueue,i=null,n=new ReadableStream({cancel(){return Xn.__awaiter(this,void 0,void 0,function*(){yield t.close()})},start(a){return Xn.__awaiter(this,void 0,void 0,function*(){yield o(a,i||(i=yield s()))})},pull(a){return Xn.__awaiter(this,void 0,void 0,function*(){i?yield o(a,i):a.close()})}});return{writable:new WritableStream(t,Object.assign({highWaterMark:Math.pow(2,14)},r)),readable:n};function s(){return Xn.__awaiter(this,void 0,void 0,function*(){return yield(yield AB.RecordBatchReader.from(t)).open(e)})}function o(a,u){return Xn.__awaiter(this,void 0,void 0,function*(){let d=a.desiredSize,h=null;for(;!(h=yield u.next()).done;)if(a.enqueue(h.value),d!=null&&--d<=0)return;a.close()})}}ta.recordBatchReaderThroughDOMStream=FB});var xp=p(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.recordBatchWriterThroughDOMStream=void 0;var ra=Ve(),EB=Fr();function DB(r,e){let t=new this(r),i=new EB.AsyncByteStream(t),n=new ReadableStream({type:"bytes",cancel(){return ra.__awaiter(this,void 0,void 0,function*(){yield i.cancel()})},pull(o){return ra.__awaiter(this,void 0,void 0,function*(){yield s(o)})},start(o){return ra.__awaiter(this,void 0,void 0,function*(){yield s(o)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(t,r),readable:n};function s(o){return ra.__awaiter(this,void 0,void 0,function*(){let a=null,u=o.desiredSize;for(;a=yield i.read(u||null);)if(o.enqueue(a),u!=null&&(u-=a.byteLength)<=0)return;o.close()})}}ia.recordBatchWriterThroughDOMStream=DB});var vl=p(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.custom=W.or=W.and=W.col=W.lit=W.CustomPredicate=W.Not=W.GTeq=W.LTeq=W.Equals=W.Or=W.And=W.CombinationPredicate=W.ComparisonPredicate=W.Predicate=W.Col=W.Literal=W.Value=void 0;var RB=Uo(),zr=class{eq(e){return e instanceof zr||(e=new or(e)),new bl(this,e)}le(e){return e instanceof zr||(e=new or(e)),new gl(this,e)}ge(e){return e instanceof zr||(e=new or(e)),new Il(this,e)}lt(e){return new fn(this.ge(e))}gt(e){return new fn(this.le(e))}ne(e){return new fn(this.eq(e))}};W.Value=zr;var or=class extends zr{constructor(e){super();this.v=e}};W.Literal=or;var _l=class extends zr{constructor(e){super();this.name=e}bind(e){if(!this.colidx){this.colidx=-1;let i=e.schema.fields;for(let n=-1;++n<i.length;)if(i[n].name===this.name){this.colidx=n;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}let t=this.vector=e.getChildAt(this.colidx);return i=>t.get(i)}};W.Col=_l;var ln=class{and(...e){return new dn(this,...e)}or(...e){return new hn(this,...e)}not(){return new fn(this)}};W.Predicate=ln;var es=class extends ln{constructor(e,t){super();this.left=e,this.right=t}bind(e){return this.left instanceof or?this.right instanceof or?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof or?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}};W.ComparisonPredicate=es;var ts=class extends ln{constructor(...e){super();this.children=e}};W.CombinationPredicate=ts;ts.prototype.children=Object.freeze([]);var dn=class extends ts{constructor(...e){e=e.reduce((t,i)=>t.concat(i instanceof dn?i.children:i),[]);super(...e)}bind(e){let t=this.children.map(i=>i.bind(e));return(i,n)=>t.every(s=>s(i,n))}};W.And=dn;var hn=class extends ts{constructor(...e){e=e.reduce((t,i)=>t.concat(i instanceof hn?i.children:i),[]);super(...e)}bind(e){let t=this.children.map(i=>i.bind(e));return(i,n)=>t.some(s=>s(i,n))}};W.Or=hn;var bl=class extends es{_bindLitLit(e,t,i){let n=t.v==i.v;return()=>n}_bindColCol(e,t,i){let n=t.bind(e),s=i.bind(e);return(o,a)=>n(o,a)==s(o,a)}_bindColLit(e,t,i){let n=t.bind(e);if(t.vector instanceof RB.DictionaryVector){let s,o=t.vector;return o.dictionary!==this.lastDictionary?(s=o.reverseLookup(i.v),this.lastDictionary=o.dictionary,this.lastKey=s):s=this.lastKey,s===-1?()=>!1:a=>o.getKey(a)===s}else return(s,o)=>n(s,o)==i.v}_bindLitCol(e,t,i){return this._bindColLit(e,i,t)}};W.Equals=bl;var gl=class extends es{_bindLitLit(e,t,i){let n=t.v<=i.v;return()=>n}_bindColCol(e,t,i){let n=t.bind(e),s=i.bind(e);return(o,a)=>n(o,a)<=s(o,a)}_bindColLit(e,t,i){let n=t.bind(e);return(s,o)=>n(s,o)<=i.v}_bindLitCol(e,t,i){let n=i.bind(e);return(s,o)=>t.v<=n(s,o)}};W.LTeq=gl;var Il=class extends es{_bindLitLit(e,t,i){let n=t.v>=i.v;return()=>n}_bindColCol(e,t,i){let n=t.bind(e),s=i.bind(e);return(o,a)=>n(o,a)>=s(o,a)}_bindColLit(e,t,i){let n=t.bind(e);return(s,o)=>n(s,o)>=i.v}_bindLitCol(e,t,i){let n=i.bind(e);return(s,o)=>t.v>=n(s,o)}};W.GTeq=Il;var fn=class extends ln{constructor(e){super();this.child=e}bind(e){let t=this.child.bind(e);return(i,n)=>!t(i,n)}};W.Not=fn;var Tl=class extends ln{constructor(e,t){super();this.next=e,this.bind_=t}bind(e){return this.bind_(e),this.next}};W.CustomPredicate=Tl;function UB(r){return new or(r)}W.lit=UB;function MB(r){return new _l(r)}W.col=MB;function VB(...r){return new dn(...r)}W.and=VB;function NB(...r){return new hn(...r)}W.or=NB;function PB(r,e){return new Tl(r,e)}W.custom=PB});var Gp=p(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.FilteredDataFrame=Wr.CountByResult=Wr.DataFrame=void 0;var jp=jn(),Cp=Po(),Bl=Oe(),qp=vl(),LB=ir(),zp=J(),wl=class extends jp.Table{filter(e){return new rs(this.chunks,e)}scan(e,t){let i=this.chunks,n=i.length;for(let s=-1;++s<n;){let o=i[s];t&&t(o);for(let a=-1,u=o.length;++a<u;)e(a,o)}}scanReverse(e,t){let i=this.chunks,n=i.length;for(let s=n;--s>=0;){let o=i[s];t&&t(o);for(let a=o.length;--a>=0;)e(a,o)}}countBy(e){let t=this.chunks,i=t.length,n=typeof e=="string"?new qp.Col(e):e;n.bind(t[i-1]);let s=n.vector;if(!zp.DataType.isDictionary(s.type))throw new Error("countBy currently only supports dictionary-encoded columns");let o=Math.ceil(Math.log(s.length)/Math.log(256)),a=o==4?Uint32Array:o>=2?Uint16Array:Uint8Array,u=new a(s.dictionary.length);for(let d=-1;++d<i;){let h=t[d];n.bind(h);let B=n.vector.indices;for(let w=-1,$=h.length;++w<$;){let me=B.get(w);me!==null&&u[me]++}}return new na(s.dictionary,Cp.IntVector.from(u))}};Wr.DataFrame=wl;var na=class extends jp.Table{constructor(e,t){let i=new Bl.Schema([new Bl.Field("values",e.type),new Bl.Field("counts",t.type)]);super(new LB.RecordBatch(i,t.length,[e,t]))}toJSON(){let e=this.getColumnAt(0),t=this.getColumnAt(1),i={};for(let n=-1;++n<this.length;)i[e.get(n)]=t.get(n);return i}};Wr.CountByResult=na;var Wp=class{constructor(e,t){this.batches=e,this.predicate=t,this.batchIndex=0,this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch)}next(){for(;this.batchIndex<this.batches.length;){for(;this.index<this.batch.length;){if(this.predicateFunc(this.index,this.batch))return{value:this.batch.get(this.index++)};this.index++}++this.batchIndex<this.batches.length&&(this.index=0,this.batch=this.batches[this.batchIndex],this.predicateFunc=this.predicate.bind(this.batch))}return{done:!0,value:null}}[Symbol.iterator](){return this}},rs=class extends wl{constructor(e,t){super(e);this._predicate=t}scan(e,t){let i=this._chunks,n=i.length;for(let s=-1;++s<n;){let o=i[s],a=this._predicate.bind(o),u=!1;for(let d=-1,h=o.length;++d<h;)a(d,o)&&(t&&!u&&(t(o),u=!0),e(d,o))}}scanReverse(e,t){let i=this._chunks,n=i.length;for(let s=n;--s>=0;){let o=i[s],a=this._predicate.bind(o),u=!1;for(let d=o.length;--d>=0;)a(d,o)&&(t&&!u&&(t(o),u=!0),e(d,o))}}count(){let e=0,t=this._chunks,i=t.length;for(let n=-1;++n<i;){let s=t[n],o=this._predicate.bind(s);for(let a=-1,u=s.length;++a<u;)o(a,s)&&++e}return e}[Symbol.iterator](){return new Wp(this._chunks,this._predicate)}filter(e){return new rs(this._chunks,this._predicate.and(e))}countBy(e){let t=this._chunks,i=t.length,n=typeof e=="string"?new qp.Col(e):e;n.bind(t[i-1]);let s=n.vector;if(!zp.DataType.isDictionary(s.type))throw new Error("countBy currently only supports dictionary-encoded columns");let o=Math.ceil(Math.log(s.length)/Math.log(256)),a=o==4?Uint32Array:o>=2?Uint16Array:Uint8Array,u=new a(s.dictionary.length);for(let d=-1;++d<i;){let h=t[d],B=this._predicate.bind(h);n.bind(h);let w=n.vector.indices;for(let $=-1,me=h.length;++$<me;){let he=w.get($);he!==null&&B($,h)&&u[he]++}}return new na(s.dictionary,Cp.IntVector.from(u))}};Wr.FilteredDataFrame=rs});var Kp=p(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.isTypedArray=c.util=c.predicate=c.CountByResult=c.FilteredDataFrame=c.DataFrame=c.RecordBatch=c.Message=c.JSONMessageReader=c.AsyncMessageReader=c.MessageReader=c.RecordBatchJSONWriter=c.RecordBatchStreamWriter=c.RecordBatchFileWriter=c.RecordBatchWriter=c.AsyncRecordBatchStreamReader=c.AsyncRecordBatchFileReader=c.RecordBatchStreamReader=c.RecordBatchFileReader=c.RecordBatchReader=c.AsyncByteQueue=c.AsyncByteStream=c.ByteStream=c.Utf8Builder=c.SparseUnionBuilder=c.DenseUnionBuilder=c.UnionBuilder=c.TimeNanosecondBuilder=c.TimeMicrosecondBuilder=c.TimeMillisecondBuilder=c.TimeSecondBuilder=c.TimeBuilder=c.TimestampNanosecondBuilder=c.TimestampMicrosecondBuilder=c.TimestampMillisecondBuilder=c.TimestampSecondBuilder=c.TimestampBuilder=c.StructBuilder=c.NullBuilder=c.MapBuilder=c.ListBuilder=c.Uint64Builder=c.Uint32Builder=c.Uint16Builder=c.Uint8Builder=c.Int64Builder=c.Int32Builder=c.Int16Builder=c.Int8Builder=c.IntBuilder=c.IntervalYearMonthBuilder=c.IntervalDayTimeBuilder=c.IntervalBuilder=c.Float64Builder=c.Float32Builder=c.Float16Builder=c.FloatBuilder=c.FixedSizeListBuilder=c.FixedSizeBinaryBuilder=c.DictionaryBuilder=c.DecimalBuilder=c.DateMillisecondBuilder=c.DateDayBuilder=c.DateBuilder=c.BoolBuilder=c.BinaryBuilder=c.Builder=c.Utf8Vector=c.SparseUnionVector=c.DenseUnionVector=c.UnionVector=c.TimeNanosecondVector=c.TimeMicrosecondVector=c.TimeMillisecondVector=c.TimeSecondVector=c.TimeVector=c.TimestampNanosecondVector=c.TimestampMicrosecondVector=c.TimestampMillisecondVector=c.TimestampSecondVector=c.TimestampVector=c.StructVector=c.NullVector=c.MapVector=c.ListVector=c.Uint64Vector=c.Uint32Vector=c.Uint16Vector=c.Uint8Vector=c.Int64Vector=c.Int32Vector=c.Int16Vector=c.Int8Vector=c.IntVector=c.IntervalYearMonthVector=c.IntervalDayTimeVector=c.IntervalVector=c.Float64Vector=c.Float32Vector=c.Float16Vector=c.FloatVector=c.FixedSizeListVector=c.FixedSizeBinaryVector=c.DictionaryVector=c.DecimalVector=c.DateMillisecondVector=c.DateDayVector=c.DateVector=c.Chunked=c.BoolVector=c.BinaryVector=c.BaseVector=c.Vector=c.Field=c.Schema=c.Visitor=c.Column=c.Table=c.Map_=c.FixedSizeList=c.IntervalYearMonth=c.IntervalDayTime=c.Interval=c.Dictionary=c.SparseUnion=c.DenseUnion=c.Union=c.Struct=c.List=c.Decimal=c.TimeNanosecond=c.TimeMicrosecond=c.TimeMillisecond=c.TimeSecond=c.Time=c.TimestampNanosecond=c.TimestampMicrosecond=c.TimestampMillisecond=c.TimestampSecond=c.Timestamp=c.DateMillisecond=c.DateDay=c.Date_=c.FixedSizeBinary=c.Binary=c.Utf8=c.Float64=c.Float32=c.Float16=c.Float=c.Uint64=c.Uint32=c.Uint16=c.Uint8=c.Int64=c.Int32=c.Int16=c.Int8=c.Int=c.Bool=c.Null=c.DataType=c.Data=c.BufferType=c.Type=c.MessageHeader=c.MetadataVersion=c.IntervalUnit=c.UnionMode=c.Precision=c.TimeUnit=c.DateUnit=void 0;var yn=pr();Object.defineProperty(c,"DateUnit",{enumerable:!0,get:function(){return yn.DateUnit}});Object.defineProperty(c,"TimeUnit",{enumerable:!0,get:function(){return yn.TimeUnit}});Object.defineProperty(c,"Precision",{enumerable:!0,get:function(){return yn.Precision}});Object.defineProperty(c,"UnionMode",{enumerable:!0,get:function(){return yn.UnionMode}});Object.defineProperty(c,"IntervalUnit",{enumerable:!0,get:function(){return yn.IntervalUnit}});Object.defineProperty(c,"MetadataVersion",{enumerable:!0,get:function(){return yn.MetadataVersion}});var kB=fs();Object.defineProperty(c,"MessageHeader",{enumerable:!0,get:function(){return kB.MessageHeader}});var Yp=ee();Object.defineProperty(c,"Type",{enumerable:!0,get:function(){return Yp.Type}});Object.defineProperty(c,"BufferType",{enumerable:!0,get:function(){return Yp.BufferType}});var xB=yt();Object.defineProperty(c,"Data",{enumerable:!0,get:function(){return xB.Data}});var k=J();Object.defineProperty(c,"DataType",{enumerable:!0,get:function(){return k.DataType}});Object.defineProperty(c,"Null",{enumerable:!0,get:function(){return k.Null}});Object.defineProperty(c,"Bool",{enumerable:!0,get:function(){return k.Bool}});Object.defineProperty(c,"Int",{enumerable:!0,get:function(){return k.Int}});Object.defineProperty(c,"Int8",{enumerable:!0,get:function(){return k.Int8}});Object.defineProperty(c,"Int16",{enumerable:!0,get:function(){return k.Int16}});Object.defineProperty(c,"Int32",{enumerable:!0,get:function(){return k.Int32}});Object.defineProperty(c,"Int64",{enumerable:!0,get:function(){return k.Int64}});Object.defineProperty(c,"Uint8",{enumerable:!0,get:function(){return k.Uint8}});Object.defineProperty(c,"Uint16",{enumerable:!0,get:function(){return k.Uint16}});Object.defineProperty(c,"Uint32",{enumerable:!0,get:function(){return k.Uint32}});Object.defineProperty(c,"Uint64",{enumerable:!0,get:function(){return k.Uint64}});Object.defineProperty(c,"Float",{enumerable:!0,get:function(){return k.Float}});Object.defineProperty(c,"Float16",{enumerable:!0,get:function(){return k.Float16}});Object.defineProperty(c,"Float32",{enumerable:!0,get:function(){return k.Float32}});Object.defineProperty(c,"Float64",{enumerable:!0,get:function(){return k.Float64}});Object.defineProperty(c,"Utf8",{enumerable:!0,get:function(){return k.Utf8}});Object.defineProperty(c,"Binary",{enumerable:!0,get:function(){return k.Binary}});Object.defineProperty(c,"FixedSizeBinary",{enumerable:!0,get:function(){return k.FixedSizeBinary}});Object.defineProperty(c,"Date_",{enumerable:!0,get:function(){return k.Date_}});Object.defineProperty(c,"DateDay",{enumerable:!0,get:function(){return k.DateDay}});Object.defineProperty(c,"DateMillisecond",{enumerable:!0,get:function(){return k.DateMillisecond}});Object.defineProperty(c,"Timestamp",{enumerable:!0,get:function(){return k.Timestamp}});Object.defineProperty(c,"TimestampSecond",{enumerable:!0,get:function(){return k.TimestampSecond}});Object.defineProperty(c,"TimestampMillisecond",{enumerable:!0,get:function(){return k.TimestampMillisecond}});Object.defineProperty(c,"TimestampMicrosecond",{enumerable:!0,get:function(){return k.TimestampMicrosecond}});Object.defineProperty(c,"TimestampNanosecond",{enumerable:!0,get:function(){return k.TimestampNanosecond}});Object.defineProperty(c,"Time",{enumerable:!0,get:function(){return k.Time}});Object.defineProperty(c,"TimeSecond",{enumerable:!0,get:function(){return k.TimeSecond}});Object.defineProperty(c,"TimeMillisecond",{enumerable:!0,get:function(){return k.TimeMillisecond}});Object.defineProperty(c,"TimeMicrosecond",{enumerable:!0,get:function(){return k.TimeMicrosecond}});Object.defineProperty(c,"TimeNanosecond",{enumerable:!0,get:function(){return k.TimeNanosecond}});Object.defineProperty(c,"Decimal",{enumerable:!0,get:function(){return k.Decimal}});Object.defineProperty(c,"List",{enumerable:!0,get:function(){return k.List}});Object.defineProperty(c,"Struct",{enumerable:!0,get:function(){return k.Struct}});Object.defineProperty(c,"Union",{enumerable:!0,get:function(){return k.Union}});Object.defineProperty(c,"DenseUnion",{enumerable:!0,get:function(){return k.DenseUnion}});Object.defineProperty(c,"SparseUnion",{enumerable:!0,get:function(){return k.SparseUnion}});Object.defineProperty(c,"Dictionary",{enumerable:!0,get:function(){return k.Dictionary}});Object.defineProperty(c,"Interval",{enumerable:!0,get:function(){return k.Interval}});Object.defineProperty(c,"IntervalDayTime",{enumerable:!0,get:function(){return k.IntervalDayTime}});Object.defineProperty(c,"IntervalYearMonth",{enumerable:!0,get:function(){return k.IntervalYearMonth}});Object.defineProperty(c,"FixedSizeList",{enumerable:!0,get:function(){return k.FixedSizeList}});Object.defineProperty(c,"Map_",{enumerable:!0,get:function(){return k.Map_}});var jB=jn();Object.defineProperty(c,"Table",{enumerable:!0,get:function(){return jB.Table}});var CB=Wi();Object.defineProperty(c,"Column",{enumerable:!0,get:function(){return CB.Column}});var qB=Re();Object.defineProperty(c,"Visitor",{enumerable:!0,get:function(){return qB.Visitor}});var Hp=Oe();Object.defineProperty(c,"Schema",{enumerable:!0,get:function(){return Hp.Schema}});Object.defineProperty(c,"Field",{enumerable:!0,get:function(){return Hp.Field}});var N=xt();Object.defineProperty(c,"Vector",{enumerable:!0,get:function(){return N.Vector}});Object.defineProperty(c,"BaseVector",{enumerable:!0,get:function(){return N.BaseVector}});Object.defineProperty(c,"BinaryVector",{enumerable:!0,get:function(){return N.BinaryVector}});Object.defineProperty(c,"BoolVector",{enumerable:!0,get:function(){return N.BoolVector}});Object.defineProperty(c,"Chunked",{enumerable:!0,get:function(){return N.Chunked}});Object.defineProperty(c,"DateVector",{enumerable:!0,get:function(){return N.DateVector}});Object.defineProperty(c,"DateDayVector",{enumerable:!0,get:function(){return N.DateDayVector}});Object.defineProperty(c,"DateMillisecondVector",{enumerable:!0,get:function(){return N.DateMillisecondVector}});Object.defineProperty(c,"DecimalVector",{enumerable:!0,get:function(){return N.DecimalVector}});Object.defineProperty(c,"DictionaryVector",{enumerable:!0,get:function(){return N.DictionaryVector}});Object.defineProperty(c,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return N.FixedSizeBinaryVector}});Object.defineProperty(c,"FixedSizeListVector",{enumerable:!0,get:function(){return N.FixedSizeListVector}});Object.defineProperty(c,"FloatVector",{enumerable:!0,get:function(){return N.FloatVector}});Object.defineProperty(c,"Float16Vector",{enumerable:!0,get:function(){return N.Float16Vector}});Object.defineProperty(c,"Float32Vector",{enumerable:!0,get:function(){return N.Float32Vector}});Object.defineProperty(c,"Float64Vector",{enumerable:!0,get:function(){return N.Float64Vector}});Object.defineProperty(c,"IntervalVector",{enumerable:!0,get:function(){return N.IntervalVector}});Object.defineProperty(c,"IntervalDayTimeVector",{enumerable:!0,get:function(){return N.IntervalDayTimeVector}});Object.defineProperty(c,"IntervalYearMonthVector",{enumerable:!0,get:function(){return N.IntervalYearMonthVector}});Object.defineProperty(c,"IntVector",{enumerable:!0,get:function(){return N.IntVector}});Object.defineProperty(c,"Int8Vector",{enumerable:!0,get:function(){return N.Int8Vector}});Object.defineProperty(c,"Int16Vector",{enumerable:!0,get:function(){return N.Int16Vector}});Object.defineProperty(c,"Int32Vector",{enumerable:!0,get:function(){return N.Int32Vector}});Object.defineProperty(c,"Int64Vector",{enumerable:!0,get:function(){return N.Int64Vector}});Object.defineProperty(c,"Uint8Vector",{enumerable:!0,get:function(){return N.Uint8Vector}});Object.defineProperty(c,"Uint16Vector",{enumerable:!0,get:function(){return N.Uint16Vector}});Object.defineProperty(c,"Uint32Vector",{enumerable:!0,get:function(){return N.Uint32Vector}});Object.defineProperty(c,"Uint64Vector",{enumerable:!0,get:function(){return N.Uint64Vector}});Object.defineProperty(c,"ListVector",{enumerable:!0,get:function(){return N.ListVector}});Object.defineProperty(c,"MapVector",{enumerable:!0,get:function(){return N.MapVector}});Object.defineProperty(c,"NullVector",{enumerable:!0,get:function(){return N.NullVector}});Object.defineProperty(c,"StructVector",{enumerable:!0,get:function(){return N.StructVector}});Object.defineProperty(c,"TimestampVector",{enumerable:!0,get:function(){return N.TimestampVector}});Object.defineProperty(c,"TimestampSecondVector",{enumerable:!0,get:function(){return N.TimestampSecondVector}});Object.defineProperty(c,"TimestampMillisecondVector",{enumerable:!0,get:function(){return N.TimestampMillisecondVector}});Object.defineProperty(c,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return N.TimestampMicrosecondVector}});Object.defineProperty(c,"TimestampNanosecondVector",{enumerable:!0,get:function(){return N.TimestampNanosecondVector}});Object.defineProperty(c,"TimeVector",{enumerable:!0,get:function(){return N.TimeVector}});Object.defineProperty(c,"TimeSecondVector",{enumerable:!0,get:function(){return N.TimeSecondVector}});Object.defineProperty(c,"TimeMillisecondVector",{enumerable:!0,get:function(){return N.TimeMillisecondVector}});Object.defineProperty(c,"TimeMicrosecondVector",{enumerable:!0,get:function(){return N.TimeMicrosecondVector}});Object.defineProperty(c,"TimeNanosecondVector",{enumerable:!0,get:function(){return N.TimeNanosecondVector}});Object.defineProperty(c,"UnionVector",{enumerable:!0,get:function(){return N.UnionVector}});Object.defineProperty(c,"DenseUnionVector",{enumerable:!0,get:function(){return N.DenseUnionVector}});Object.defineProperty(c,"SparseUnionVector",{enumerable:!0,get:function(){return N.SparseUnionVector}});Object.defineProperty(c,"Utf8Vector",{enumerable:!0,get:function(){return N.Utf8Vector}});var x=Xs();Object.defineProperty(c,"Builder",{enumerable:!0,get:function(){return x.Builder}});Object.defineProperty(c,"BinaryBuilder",{enumerable:!0,get:function(){return x.BinaryBuilder}});Object.defineProperty(c,"BoolBuilder",{enumerable:!0,get:function(){return x.BoolBuilder}});Object.defineProperty(c,"DateBuilder",{enumerable:!0,get:function(){return x.DateBuilder}});Object.defineProperty(c,"DateDayBuilder",{enumerable:!0,get:function(){return x.DateDayBuilder}});Object.defineProperty(c,"DateMillisecondBuilder",{enumerable:!0,get:function(){return x.DateMillisecondBuilder}});Object.defineProperty(c,"DecimalBuilder",{enumerable:!0,get:function(){return x.DecimalBuilder}});Object.defineProperty(c,"DictionaryBuilder",{enumerable:!0,get:function(){return x.DictionaryBuilder}});Object.defineProperty(c,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return x.FixedSizeBinaryBuilder}});Object.defineProperty(c,"FixedSizeListBuilder",{enumerable:!0,get:function(){return x.FixedSizeListBuilder}});Object.defineProperty(c,"FloatBuilder",{enumerable:!0,get:function(){return x.FloatBuilder}});Object.defineProperty(c,"Float16Builder",{enumerable:!0,get:function(){return x.Float16Builder}});Object.defineProperty(c,"Float32Builder",{enumerable:!0,get:function(){return x.Float32Builder}});Object.defineProperty(c,"Float64Builder",{enumerable:!0,get:function(){return x.Float64Builder}});Object.defineProperty(c,"IntervalBuilder",{enumerable:!0,get:function(){return x.IntervalBuilder}});Object.defineProperty(c,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return x.IntervalDayTimeBuilder}});Object.defineProperty(c,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return x.IntervalYearMonthBuilder}});Object.defineProperty(c,"IntBuilder",{enumerable:!0,get:function(){return x.IntBuilder}});Object.defineProperty(c,"Int8Builder",{enumerable:!0,get:function(){return x.Int8Builder}});Object.defineProperty(c,"Int16Builder",{enumerable:!0,get:function(){return x.Int16Builder}});Object.defineProperty(c,"Int32Builder",{enumerable:!0,get:function(){return x.Int32Builder}});Object.defineProperty(c,"Int64Builder",{enumerable:!0,get:function(){return x.Int64Builder}});Object.defineProperty(c,"Uint8Builder",{enumerable:!0,get:function(){return x.Uint8Builder}});Object.defineProperty(c,"Uint16Builder",{enumerable:!0,get:function(){return x.Uint16Builder}});Object.defineProperty(c,"Uint32Builder",{enumerable:!0,get:function(){return x.Uint32Builder}});Object.defineProperty(c,"Uint64Builder",{enumerable:!0,get:function(){return x.Uint64Builder}});Object.defineProperty(c,"ListBuilder",{enumerable:!0,get:function(){return x.ListBuilder}});Object.defineProperty(c,"MapBuilder",{enumerable:!0,get:function(){return x.MapBuilder}});Object.defineProperty(c,"NullBuilder",{enumerable:!0,get:function(){return x.NullBuilder}});Object.defineProperty(c,"StructBuilder",{enumerable:!0,get:function(){return x.StructBuilder}});Object.defineProperty(c,"TimestampBuilder",{enumerable:!0,get:function(){return x.TimestampBuilder}});Object.defineProperty(c,"TimestampSecondBuilder",{enumerable:!0,get:function(){return x.TimestampSecondBuilder}});Object.defineProperty(c,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return x.TimestampMillisecondBuilder}});Object.defineProperty(c,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return x.TimestampMicrosecondBuilder}});Object.defineProperty(c,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return x.TimestampNanosecondBuilder}});Object.defineProperty(c,"TimeBuilder",{enumerable:!0,get:function(){return x.TimeBuilder}});Object.defineProperty(c,"TimeSecondBuilder",{enumerable:!0,get:function(){return x.TimeSecondBuilder}});Object.defineProperty(c,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return x.TimeMillisecondBuilder}});Object.defineProperty(c,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return x.TimeMicrosecondBuilder}});Object.defineProperty(c,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return x.TimeNanosecondBuilder}});Object.defineProperty(c,"UnionBuilder",{enumerable:!0,get:function(){return x.UnionBuilder}});Object.defineProperty(c,"DenseUnionBuilder",{enumerable:!0,get:function(){return x.DenseUnionBuilder}});Object.defineProperty(c,"SparseUnionBuilder",{enumerable:!0,get:function(){return x.SparseUnionBuilder}});Object.defineProperty(c,"Utf8Builder",{enumerable:!0,get:function(){return x.Utf8Builder}});var Sl=Fr();Object.defineProperty(c,"ByteStream",{enumerable:!0,get:function(){return Sl.ByteStream}});Object.defineProperty(c,"AsyncByteStream",{enumerable:!0,get:function(){return Sl.AsyncByteStream}});Object.defineProperty(c,"AsyncByteQueue",{enumerable:!0,get:function(){return Sl.AsyncByteQueue}});var is=$n();Object.defineProperty(c,"RecordBatchReader",{enumerable:!0,get:function(){return is.RecordBatchReader}});Object.defineProperty(c,"RecordBatchFileReader",{enumerable:!0,get:function(){return is.RecordBatchFileReader}});Object.defineProperty(c,"RecordBatchStreamReader",{enumerable:!0,get:function(){return is.RecordBatchStreamReader}});Object.defineProperty(c,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return is.AsyncRecordBatchFileReader}});Object.defineProperty(c,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return is.AsyncRecordBatchStreamReader}});var sa=So();Object.defineProperty(c,"RecordBatchWriter",{enumerable:!0,get:function(){return sa.RecordBatchWriter}});Object.defineProperty(c,"RecordBatchFileWriter",{enumerable:!0,get:function(){return sa.RecordBatchFileWriter}});Object.defineProperty(c,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return sa.RecordBatchStreamWriter}});Object.defineProperty(c,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return sa.RecordBatchJSONWriter}});var Ol=yo();Object.defineProperty(c,"MessageReader",{enumerable:!0,get:function(){return Ol.MessageReader}});Object.defineProperty(c,"AsyncMessageReader",{enumerable:!0,get:function(){return Ol.AsyncMessageReader}});Object.defineProperty(c,"JSONMessageReader",{enumerable:!0,get:function(){return Ol.JSONMessageReader}});var zB=ci();Object.defineProperty(c,"Message",{enumerable:!0,get:function(){return zB.Message}});var WB=ir();Object.defineProperty(c,"RecordBatch",{enumerable:!0,get:function(){return WB.RecordBatch}});var Al=Gp();Object.defineProperty(c,"DataFrame",{enumerable:!0,get:function(){return Al.DataFrame}});Object.defineProperty(c,"FilteredDataFrame",{enumerable:!0,get:function(){return Al.FilteredDataFrame}});Object.defineProperty(c,"CountByResult",{enumerable:!0,get:function(){return Al.CountByResult}});var GB=wn(),YB=Mc(),HB=Ft(),KB=In(),$B=ve(),JB=Un(),QB=vl();c.predicate=QB;var Fl=Qc();c.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},GB),YB),HB),KB),$B),JB),{compareSchemas:Fl.compareSchemas,compareFields:Fl.compareFields,compareTypes:Fl.compareTypes});var ZB=si();Object.defineProperty(c,"isTypedArray",{enumerable:!0,get:function(){return ZB.isTypedArray}})});var Tt;(function(s){s[s.NONE=0]="NONE",s[s.DEBUG=1]="DEBUG",s[s.INFO=2]="INFO",s[s.WARNING=3]="WARNING",s[s.ERROR=4]="ERROR"})(Tt||(Tt={}));var Gt;(function(s){s[s.NONE=0]="NONE",s[s.CONNECT=1]="CONNECT",s[s.DISCONNECT=2]="DISCONNECT",s[s.OPEN=3]="OPEN",s[s.QUERY=4]="QUERY"})(Gt||(Gt={}));var lt;(function(o){o[o.NONE=0]="NONE",o[o.OK=1]="OK",o[o.ERROR=2]="ERROR",o[o.START=3]="START",o[o.RUN=4]="RUN",o[o.CAPTURE=5]="CAPTURE"})(lt||(lt={}));var vt;(function(s){s[s.NONE=0]="NONE",s[s.WEB_WORKER=1]="WEB_WORKER",s[s.NODE_WORKER=2]="NODE_WORKER",s[s.BINDINGS=3]="BINDINGS",s[s.ASYNC_DUCKDB=4]="ASYNC_DUCKDB"})(vt||(vt={}));var fm=class{log(e){}},ym=class{log(e){console.log(e)}};function vw(r){switch(r){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function Bw(r){switch(r){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function ww(r){switch(r){case 1:return"CONNECT";case 2:return"DISCONNECT";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function Sw(r){switch(r){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var Ll;(function(e){e[e.SUCCESS=0]="SUCCESS"})(Ll||(Ll={}));var $p=Wt(bn()),Jp=Wt(Xs()),pn=Wt($n()),mn=Wt(So()),Qp=Wt(Vp()),Zp=Wt(Lp()),oa=Wt(kp()),aa=Wt(xp()),l=Wt(Kp());$p.default.toDOMStream=Qp.toDOMStream;Jp.Builder.throughDOM=Zp.builderThroughDOMStream;pn.RecordBatchReader.throughDOM=oa.recordBatchReaderThroughDOMStream;pn.RecordBatchFileReader.throughDOM=oa.recordBatchReaderThroughDOMStream;pn.RecordBatchStreamReader.throughDOM=oa.recordBatchReaderThroughDOMStream;mn.RecordBatchWriter.throughDOM=aa.recordBatchWriterThroughDOMStream;mn.RecordBatchFileWriter.throughDOM=aa.recordBatchWriterThroughDOMStream;mn.RecordBatchStreamWriter.throughDOM=aa.recordBatchWriterThroughDOMStream;var El=class{constructor(e,t){this._bindings=e,this._conn=t}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:Tt.INFO,origin:vt.ASYNC_DUCKDB,topic:Gt.QUERY,event:lt.RUN,value:e});let t=await this._bindings.runQuery(this._conn,e),i=l.RecordBatchReader.from(t);return console.assert(i.isSync()),console.assert(i.isFile()),l.Table.from(i)}async send(e){this._bindings.logger.log({timestamp:new Date,level:Tt.INFO,origin:vt.ASYNC_DUCKDB,topic:Gt.QUERY,event:lt.RUN,value:e});let t=await this._bindings.sendQuery(this._conn,e),i=new Dl(this._bindings,this._conn,t),n=await l.RecordBatchReader.from(i);return console.assert(n.isAsync()),console.assert(n.isStream()),n}async prepare(e){let t=await this._bindings.createPrepared(this._conn,e);return new Xp(this._bindings,this._conn,t)}async insertArrowTable(e,t){let i=e.serialize("binary",!0);await this.insertArrowFromIPCStream(i,t)}async insertArrowFromIPCStream(e,t){await this._bindings.insertArrowFromIPCStream(this._conn,e,t)}async insertCSVFromPath(e,t){await this._bindings.insertCSVFromPath(this._conn,e,t)}async insertJSONFromPath(e,t){await this._bindings.insertJSONFromPath(this._conn,e,t)}},Dl=class{constructor(e,t,i){this.db=e;this.conn=t;this.header=i;this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},Xp=class{constructor(e,t,i){this.bindings=e,this.connectionId=t,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let t=await this.bindings.runPrepared(this.connectionId,this.statementId,e),i=l.RecordBatchReader.from(t);return console.assert(i.isSync()),console.assert(i.isFile()),l.Table.from(i)}async send(...e){let t=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),i=new Dl(this.bindings,this.connectionId,t),n=await l.RecordBatchReader.from(i);return console.assert(n.isAsync()),console.assert(n.isStream()),n}};var _;(function(F){F.CLOSE_PREPARED="CLOSE_PREPARED",F.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",F.CONNECT="CONNECT",F.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",F.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",F.CREATE_PREPARED="CREATE_PREPARED",F.DISCONNECT="DISCONNECT",F.DROP_FILE="DROP_FILE",F.DROP_FILES="DROP_FILES",F.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",F.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",F.FLUSH_FILES="FLUSH_FILES",F.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",F.GET_VERSION="GET_VERSION",F.GLOB_FILE_INFOS="GLOB_FILE_INFOS",F.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",F.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",F.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",F.INSTANTIATE="INSTANTIATE",F.OPEN="OPEN",F.PING="PING",F.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",F.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",F.REGISTER_FILE_URL="REGISTER_FILE_URL",F.RESET="RESET",F.RUN_PREPARED="RUN_PREPARED",F.RUN_QUERY="RUN_QUERY",F.SEND_PREPARED="SEND_PREPARED",F.SEND_QUERY="SEND_QUERY",F.TOKENIZE="TOKENIZE"})(_||(_={}));var G;(function(q){q.CONNECTION_INFO="CONNECTION_INFO",q.ERROR="ERROR",q.FEATURE_FLAGS="FEATURE_FLAGS",q.FILE_BUFFER="FILE_BUFFER",q.FILE_INFOS="FILE_INFOS",q.FILE_SIZE="FILE_SIZE",q.FILE_STATISTICS="FILE_STATISTICS",q.LOG="LOG",q.OK="OK",q.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",q.QUERY_PLAN="QUERY_PLAN",q.QUERY_RESULT="QUERY_RESULT",q.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",q.QUERY_START="QUERY_START",q.REGISTERED_FILE="REGISTERED_FILE",q.SCRIPT_TOKENS="SCRIPT_TOKENS",q.SUCCESS="SUCCESS",q.VERSION_STRING="VERSION_STRING"})(G||(G={}));var K=class{constructor(e,t){this.promiseResolver=()=>{};this.promiseRejecter=()=>{};this.type=e,this.data=t,this.promise=new Promise((i,n)=>{this.promiseResolver=i,this.promiseRejecter=n})}};function ns(r,e){switch(e.typeId){case l.Type.Binary:return{name:r,type:"binary"};case l.Type.Bool:return{name:r,type:"bool"};case l.Type.Date:return{name:r,type:"date"};case l.Type.DateDay:return{name:r,type:"date32[d]"};case l.Type.DateMillisecond:return{name:r,type:"date64[ms]"};case l.Type.Decimal:{let t=e;return{name:r,type:"decimal",precision:t.precision,scale:t.scale}}case l.Type.Float:return{name:r,type:"float"};case l.Type.Float16:return{name:r,type:"float16"};case l.Type.Float32:return{name:r,type:"float32"};case l.Type.Float64:return{name:r,type:"float64"};case l.Type.Int:return{name:r,type:"int32"};case l.Type.Int16:return{name:r,type:"int16"};case l.Type.Int32:return{name:r,type:"int32"};case l.Type.Int64:return{name:r,type:"int64"};case l.Type.Uint16:return{name:r,type:"uint16"};case l.Type.Uint32:return{name:r,type:"uint32"};case l.Type.Uint64:return{name:r,type:"uint64"};case l.Type.Uint8:return{name:r,type:"uint8"};case l.Type.IntervalDayTime:return{name:r,type:"interval[dt]"};case l.Type.IntervalYearMonth:return{name:r,type:"interval[m]"};case l.Type.List:{let t=e;return{name:r,type:"list",children:[ns(t.valueField.name,t.valueField.type)]}}case l.Type.FixedSizeBinary:return{name:r,type:"fixedsizebinary",byteWidth:e.byteWidth};case l.Type.Null:return{name:r,type:"null"};case l.Type.Utf8:return{name:r,type:"utf8"};case l.Type.Struct:return{name:r,type:"struct",children:e.children.map(i=>ns(i.name,i.type))};case l.Type.Time:return{name:r,type:"time[s]"};case l.Type.TimeMicrosecond:return{name:r,type:"time[us]"};case l.Type.TimeMillisecond:return{name:r,type:"time[ms]"};case l.Type.TimeNanosecond:return{name:r,type:"time[ns]"};case l.Type.TimeSecond:return{name:r,type:"time[s]"};case l.Type.Timestamp:return{name:r,type:"timestamp",timezone:e.timezone||void 0};case l.Type.TimestampSecond:return{name:r,type:"timestamp[s]",timezone:e.timezone||void 0};case l.Type.TimestampMicrosecond:return{name:r,type:"timestamp[us]",timezone:e.timezone||void 0};case l.Type.TimestampNanosecond:return{name:r,type:"timestamp[ns]",timezone:e.timezone||void 0};case l.Type.TimestampMillisecond:return{name:r,type:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error(`unsupported arrow type: ${e.toString()}`)}var XB=new TextEncoder,ew=class{constructor(e,t=null){this._worker=null;this._workerShutdownPromise=null;this._workerShutdownResolver=()=>{};this._nextMessageId=0;this._pendingRequests=new Map;this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),t!=null&&this.attach(t)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((t,i)=>{this._workerShutdownResolver=t})}detach(){!this._worker||(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){!this._worker||(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,t=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let i=this._nextMessageId++;return this._pendingRequests.set(i,e),this._worker.postMessage({messageId:i,type:e.type,data:e.data}),await e.promise}onMessage(e){let t=e.data;t.type==G.LOG&&this._logger.log(t.data);let i=this._pendingRequests.get(t.requestId);if(!i){console.warn(`unassociated response: [${t.requestId}, ${t.type.toString()}]`);return}if(this._pendingRequests.delete(t.requestId),t.type==G.ERROR){let n=new Error(t.data.message);n.name=t.data.name,n.stack=t.data.stack,i.promiseRejecter(n);return}switch(i.type){case _.CLOSE_PREPARED:case _.COLLECT_FILE_STATISTICS:case _.COPY_FILE_TO_PATH:case _.DISCONNECT:case _.DROP_FILES:case _.FLUSH_FILES:case _.INSERT_ARROW_FROM_IPC_STREAM:case _.INSERT_CSV_FROM_PATH:case _.INSERT_JSON_FROM_PATH:case _.INSTANTIATE:case _.OPEN:case _.PING:case _.REGISTER_FILE_BUFFER:case _.REGISTER_FILE_HANDLE:case _.REGISTER_FILE_URL:case _.RESET:if(t.type==G.OK){i.promiseResolver(t.data);return}break;case _.GLOB_FILE_INFOS:if(t.type==G.FILE_INFOS){i.promiseResolver(t.data);return}break;case _.GET_VERSION:if(t.type==G.VERSION_STRING){i.promiseResolver(t.data);return}break;case _.GET_FEATURE_FLAGS:if(t.type==G.FEATURE_FLAGS){i.promiseResolver(t.data);return}break;case _.TOKENIZE:if(t.type==G.SCRIPT_TOKENS){i.promiseResolver(t.data);return}break;case _.DROP_FILE:if(t.type==G.SUCCESS){i.promiseResolver(t.data);return}break;case _.COPY_FILE_TO_BUFFER:if(t.type==G.FILE_BUFFER){i.promiseResolver(t.data);return}break;case _.EXPORT_FILE_STATISTICS:if(t.type==G.FILE_STATISTICS){i.promiseResolver(t.data);return}break;case _.CONNECT:if(t.type==G.CONNECTION_INFO){i.promiseResolver(t.data);return}break;case _.RUN_PREPARED:case _.RUN_QUERY:if(t.type==G.QUERY_RESULT){i.promiseResolver(t.data);return}break;case _.SEND_PREPARED:case _.SEND_QUERY:if(t.type==G.QUERY_START){i.promiseResolver(t.data);return}break;case _.FETCH_QUERY_RESULTS:if(t.type==G.QUERY_RESULT_CHUNK){i.promiseResolver(t.data);return}break;case _.CREATE_PREPARED:if(t.type==G.PREPARED_STATEMENT_ID){i.promiseResolver(t.data);return}break}i.promiseRejecter(new Error(`unexpected response type: ${t.type.toString()}`))}onError(e){console.error(e),console.error(`error in duckdb worker: ${e.message}`),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(`worker terminated with ${this._pendingRequests.size} pending requests`);return}this._pendingRequests.clear()}async reset(){let e=new K(_.RESET,null);return await this.postTask(e)}async ping(){let e=new K(_.PING,null);await this.postTask(e)}async dropFile(e){let t=new K(_.DROP_FILE,e);return await this.postTask(t)}async dropFiles(){let e=new K(_.DROP_FILES,null);return await this.postTask(e)}async flushFiles(){let e=new K(_.FLUSH_FILES,null);return await this.postTask(e)}async instantiate(e,t=null){let i=new K(_.INSTANTIATE,[e,t]);return await this.postTask(i)}async getVersion(){let e=new K(_.GET_VERSION,null);return await this.postTask(e)}async getFeatureFlags(){let e=new K(_.GET_FEATURE_FLAGS,null);return await this.postTask(e)}async open(e){let t=new K(_.OPEN,e);await this.postTask(t)}async tokenize(e){let t=new K(_.TOKENIZE,e);return await this.postTask(t)}async connectInternal(){let e=new K(_.CONNECT,null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new El(this,e)}async disconnect(e){let t=new K(_.DISCONNECT,e);await this.postTask(t)}async runQuery(e,t){let i=new K(_.RUN_QUERY,[e,t]);return await this.postTask(i)}async sendQuery(e,t){let i=new K(_.SEND_QUERY,[e,t]);return await this.postTask(i)}async fetchQueryResults(e){let t=new K(_.FETCH_QUERY_RESULTS,e);return await this.postTask(t)}async createPrepared(e,t){let i=new K(_.CREATE_PREPARED,[e,t]);return await this.postTask(i)}async closePrepared(e,t){let i=new K(_.CLOSE_PREPARED,[e,t]);await this.postTask(i)}async runPrepared(e,t,i){let n=new K(_.RUN_PREPARED,[e,t,i]);return await this.postTask(n)}async sendPrepared(e,t,i){let n=new K(_.SEND_PREPARED,[e,t,i]);return await this.postTask(n)}async globFiles(e){let t=new K(_.GLOB_FILE_INFOS,e);return await this.postTask(t)}async registerFileText(e,t){let i=XB.encode(t);await this.registerFileBuffer(e,i)}async registerFileURL(e,t){t===void 0&&(t=e);let i=new K(_.REGISTER_FILE_URL,[e,t]);await this.postTask(i)}async registerEmptyFileBuffer(e){let t=new K(_.REGISTER_FILE_BUFFER,[e,new Uint8Array]);await this.postTask(t)}async registerFileBuffer(e,t){let i=new K(_.REGISTER_FILE_BUFFER,[e,t]);await this.postTask(i,[t.buffer])}async registerFileHandle(e,t){let i=new K(_.REGISTER_FILE_HANDLE,[e,t]);await this.postTask(i,[])}async collectFileStatistics(e,t){let i=new K(_.COLLECT_FILE_STATISTICS,[e,t]);await this.postTask(i,[])}async exportFileStatistics(e){let t=new K(_.EXPORT_FILE_STATISTICS,e);return await this.postTask(t,[])}async copyFileToBuffer(e){let t=new K(_.COPY_FILE_TO_BUFFER,e);return await this.postTask(t)}async copyFileToPath(e,t){let i=new K(_.COPY_FILE_TO_PATH,[e,t]);await this.postTask(i)}async insertArrowFromIPCStream(e,t,i){if(t.length==0)return;let n=new K(_.INSERT_ARROW_FROM_IPC_STREAM,[e,t,i]);await this.postTask(n,[t.buffer])}async insertCSVFromPath(e,t,i){if(i.columns!==void 0){let s=[];for(let o in i.columns){let a=i.columns[o];s.push(ns(o,a))}i.columnsFlat=s,delete i.columns}let n=new K(_.INSERT_CSV_FROM_PATH,[e,t,i]);await this.postTask(n)}async insertJSONFromPath(e,t,i){if(i.columns!==void 0){let s=[];for(let o in i.columns){let a=i.columns[o];s.push(ns(o,a))}i.columnsFlat=s,delete i.columns}let n=new K(_.INSERT_JSON_FROM_PATH,[e,t,i]);await this.postTask(n)}};var tw=class{constructor(){this._bindings=null;this._nextMessageId=0}log(e){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:G.LOG,data:e},[])}sendOK(e){this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.OK,data:null},[])}failWith(e,t){let i={name:t.name,message:t.message,stack:t.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.ERROR,data:i},[])}async onMessage(e){switch(e.type){case _.PING:this.sendOK(e);return;case _.INSTANTIATE:this._bindings!=null&&this.failWith(e,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(e.data[0],e.data[1]),this.sendOK(e)}catch(t){this._bindings=null,this.failWith(e,t)}return;default:break}if(!this._bindings)return this.failWith(e,new Error("duckdb is not initialized"));try{switch(e.type){case _.GET_VERSION:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.VERSION_STRING,data:this._bindings.getVersion()},[]);break;case _.GET_FEATURE_FLAGS:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.FEATURE_FLAGS,data:this._bindings.getFeatureFlags()},[]);break;case _.RESET:this._bindings.reset(),this.sendOK(e);break;case _.OPEN:this._bindings.open(e.data),this.sendOK(e);break;case _.DROP_FILE:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.SUCCESS,data:this._bindings.dropFile(e.data)},[]);break;case _.DROP_FILES:this._bindings.dropFiles(),this.sendOK(e);break;case _.FLUSH_FILES:this._bindings.flushFiles(),this.sendOK(e);break;case _.CONNECT:{let t=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.CONNECTION_INFO,data:t.useUnsafe((i,n)=>n)},[]);break}case _.DISCONNECT:this._bindings.disconnect(e.data),this.sendOK(e);break;case _.CREATE_PREPARED:{let t=this._bindings.createPrepared(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.PREPARED_STATEMENT_ID,data:t},[]);break}case _.CLOSE_PREPARED:{this._bindings.closePrepared(e.data[0],e.data[1]),this.sendOK(e);break}case _.RUN_PREPARED:{let t=this._bindings.runPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.QUERY_RESULT,data:t},[t.buffer]);break}case _.RUN_QUERY:{let t=this._bindings.runQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.QUERY_RESULT,data:t},[t.buffer]);break}case _.SEND_PREPARED:{let t=this._bindings.sendPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.QUERY_START,data:t},[t.buffer]);break}case _.SEND_QUERY:{let t=this._bindings.sendQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.QUERY_START,data:t},[t.buffer]);break}case _.FETCH_QUERY_RESULTS:{let t=this._bindings.fetchQueryResults(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.QUERY_RESULT_CHUNK,data:t},[t.buffer]);break}case _.GLOB_FILE_INFOS:{let t=this._bindings.globFiles(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.FILE_INFOS,data:t},[]);break}case _.REGISTER_FILE_URL:this._bindings.registerFileURL(e.data[0],e.data[1]),this.sendOK(e);break;case _.REGISTER_FILE_BUFFER:this._bindings.registerFileBuffer(e.data[0],e.data[1]),this.sendOK(e);break;case _.REGISTER_FILE_HANDLE:this._bindings.registerFileHandle(e.data[0],e.data[1]),this.sendOK(e);break;case _.COPY_FILE_TO_PATH:this._bindings.copyFileToPath(e.data[0],e.data[1]),this.sendOK(e);break;case _.COPY_FILE_TO_BUFFER:{let t=this._bindings.copyFileToBuffer(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.FILE_BUFFER,data:t},[]);break}case _.COLLECT_FILE_STATISTICS:this._bindings.collectFileStatistics(e.data[0],e.data[1]),this.sendOK(e);break;case _.EXPORT_FILE_STATISTICS:{this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.FILE_STATISTICS,data:this._bindings.exportFileStatistics(e.data)},[]);break}case _.INSERT_ARROW_FROM_IPC_STREAM:{this._bindings.insertArrowFromIPCStream(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case _.INSERT_CSV_FROM_PATH:{this._bindings.insertCSVFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case _.INSERT_JSON_FROM_PATH:{this._bindings.insertJSONFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case _.TOKENIZE:{let t=this._bindings.tokenize(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:G.SCRIPT_TOKENS,data:t},[]);break}}}catch(t){return this.failWith(e,t)}}};var em=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),tm=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]));var rm=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));var im=()=>(async r=>{try{return typeof MessageChannel!="undefined"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(r)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var rw="@duckdb/duckdb-wasm",iw="1.11.0",nw="DuckDB powered by WebAssembly",sw="MPL-2.0",ow={type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},aw=["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],cw={"apache-arrow":"^6.0.1","wasm-feature-detect":"^1.2.11","fast-glob":"^3.2.7","web-worker":"^1.2.0","@types/emscripten":"^1.39.4"},uw={"@types/jasmine":"^3.10.2","@typescript-eslint/eslint-plugin":"^5.4.0","@typescript-eslint/parser":"^5.4.0",esbuild:"^0.13.14",eslint:"^8.2.0","eslint-plugin-jasmine":"^4.1.2","eslint-plugin-react":"^7.27.0",jasmine:"^3.10.0","jasmine-core":"^3.10.1","jasmine-spec-reporter":"^7.0.0",karma:"^6.3.9","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.2","karma-jasmine":"^4.0.1","karma-jasmine-html-reporter":"^1.7.0","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"^0.0.32","make-dir":"^3.1.0",nyc:"^15.1.0",prettier:"^2.4.1",puppeteer:"^11.0.0",rimraf:"^3.0.2",typedoc:"^0.22.9",typescript:"^4.5.2"},lw={fsevents:"*"},dw={"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node --experimental-wasm-eh ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},hw=["dist","!dist/types/test"],fw="dist/duckdb-browser.mjs",yw="dist/duckdb-browser.d.ts",pw="dist/duckdb-browser.mjs",mw="dist/duckdb-browser.mjs",_w={fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},bw={"./dist/duckdb.wasm":"./dist/duckdb.wasm","./dist/duckdb-next.wasm":"./dist/duckdb-next.wasm","./dist/duckdb-next-coi.wasm":"./dist/duckdb-next-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-next-coi.pthread.worker.js":"./dist/duckdb-browser-next-coi.pthread.worker.js","./dist/duckdb-browser-next-coi.worker.js":"./dist/duckdb-browser-next-coi.worker.js","./dist/duckdb-browser-next.worker.js":"./dist/duckdb-browser-next.worker.js","./dist/duckdb-browser.worker.js":"./dist/duckdb-browser.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-next.worker.cjs":"./dist/duckdb-node-next.worker.cjs","./dist/duckdb-node.worker.cjs":"./dist/duckdb-node.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"}},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs"},node:{types:"./dist/duckdb-node.d.ts",require:"./dist/duckdb-node.cjs",import:"./dist/duckdb-node.cjs"}}},ca={name:rw,version:iw,description:nw,license:sw,repository:ow,keywords:aw,dependencies:cw,devDependencies:uw,optionalDependencies:lw,scripts:dw,files:hw,"main:":fw,types:yw,jsdelivr:pw,unpkg:mw,browser:_w,exports:bw};var nm=ca.name,sm=ca.version,Rl=ca.version.split("."),Q0=Rl[0],Z0=Rl[1],X0=Rl[2];function ua(r){let e=`importScripts("${r}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}function iO(){let r=`https://cdn.jsdelivr.net/npm/${nm}@${sm}/dist/`;return{asyncDefault:{mainModule:`${r}duckdb.wasm`,mainWorker:ua(`${r}duckdb-browser.worker.js`)},asyncNext:{mainModule:`${r}duckdb-next.wasm`,mainWorker:ua(`${r}duckdb-browser-next.worker.js`)},asyncNextCOI:{mainModule:`${r}duckdb-next-coi.wasm`,mainWorker:ua(`${r}duckdb-browser-next-coi.worker.js`),pthreadWorker:ua(`${r}duckdb-browser-next-coi.pthread.worker.js`)}}}var Ul=null,Ml=null,Vl=null,Nl=null,Pl=null;function gw(){return typeof process!="undefined"&&process.release.name==="node"}async function Iw(){return Ul==null&&(Ul=typeof BigInt64Array!="undefined"),Ml==null&&(Ml=await tm()),Vl==null&&(Vl=await im()),Nl==null&&(Nl=await rm()),Pl==null&&(Pl=await em()),{bigInt64Array:Ul,crossOriginIsolated:gw()||globalThis.crossOriginIsolated||!1,wasmExceptions:Ml,wasmSIMD:Nl,wasmThreads:Vl,wasmBulkMemory:Pl}}async function nO(r){let e=await Iw();if(e.wasmExceptions&&e.wasmSIMD){if(e.wasmThreads&&e.crossOriginIsolated&&r.asyncNextCOI)return{mainModule:r.asyncNextCOI.mainModule,mainWorker:r.asyncNextCOI.mainWorker,pthreadWorker:r.asyncNextCOI.pthreadWorker};if(r.asyncNext)return{mainModule:r.asyncNext.mainModule,mainWorker:r.asyncNext.mainWorker,pthreadWorker:null}}return{mainModule:r.asyncDefault.mainModule,mainWorker:r.asyncDefault.mainWorker,pthreadWorker:null}}export{ew as AsyncDuckDB,El as AsyncDuckDBConnection,tw as AsyncDuckDBDispatcher,Xp as AsyncPreparedStatement,Dl as AsyncResultStreamIterator,ym as ConsoleLogger,lt as LogEvent,Tt as LogLevel,vt as LogOrigin,Gt as LogTopic,nm as PACKAGE_NAME,sm as PACKAGE_VERSION,Q0 as PACKAGE_VERSION_MAJOR,Z0 as PACKAGE_VERSION_MINOR,X0 as PACKAGE_VERSION_PATCH,Ll as StatusCode,fm as VoidLogger,_ as WorkerRequestType,G as WorkerResponseType,K as WorkerTask,iO as getJsDelivrBundles,Bw as getLogEventLabel,vw as getLogLevelLabel,Sw as getLogOriginLabel,ww as getLogTopicLabel,Iw as getPlatformFeatures,nO as selectBundle};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=duckdb-browser.mjs.map
