var duckdb=(()=>{var Vw=Object.create;var $s=Object.defineProperty;var kw=Object.getOwnPropertyDescriptor;var Nw=Object.getOwnPropertyNames;var Lw=Object.getPrototypeOf,xw=Object.prototype.hasOwnProperty;var Kf=t=>$s(t,"__esModule",{value:!0});var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Cw=(t,e)=>{Kf(t);for(var r in e)$s(t,r,{get:e[r],enumerable:!0})},jw=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Nw(e))!xw.call(t,n)&&n!=="default"&&$s(t,n,{get:()=>e[n],enumerable:!(r=kw(e,n))||r.enumerable});return t},Js=t=>jw(Kf($s(t!=null?Vw(Lw(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var En=T(Qf=>{var _={};_.Offset;_.Table;_.SIZEOF_SHORT=2;_.SIZEOF_INT=4;_.FILE_IDENTIFIER_LENGTH=4;_.Encoding={UTF8_BYTES:1,UTF16_STRING:2};_.int32=new Int32Array(2);_.float32=new Float32Array(_.int32.buffer);_.float64=new Float64Array(_.int32.buffer);_.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;_.Long=function(t,e){this.low=t|0,this.high=e|0};_.Long.create=function(t,e){return t==0&&e==0?_.Long.ZERO:new _.Long(t,e)};_.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};_.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high};_.Long.ZERO=new _.Long(0,0);_.Builder=function(t){if(t)var e=t;else var e=1024;this.bb=_.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};_.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};_.Builder.prototype.forceDefaults=function(t){this.force_defaults=t};_.Builder.prototype.dataBuffer=function(){return this.bb};_.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};_.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var r=~(this.bb.capacity()-this.space+e)+1&t-1;this.space<r+t+e;){var n=this.bb.capacity();this.bb=_.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(r)};_.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)};_.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)};_.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)};_.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)};_.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)};_.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)};_.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)};_.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)};_.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)};_.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)};_.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)};_.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)};_.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)};_.Builder.prototype.addFieldInt8=function(t,e,r){(this.force_defaults||e!=r)&&(this.addInt8(e),this.slot(t))};_.Builder.prototype.addFieldInt16=function(t,e,r){(this.force_defaults||e!=r)&&(this.addInt16(e),this.slot(t))};_.Builder.prototype.addFieldInt32=function(t,e,r){(this.force_defaults||e!=r)&&(this.addInt32(e),this.slot(t))};_.Builder.prototype.addFieldInt64=function(t,e,r){(this.force_defaults||!e.equals(r))&&(this.addInt64(e),this.slot(t))};_.Builder.prototype.addFieldFloat32=function(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat32(e),this.slot(t))};_.Builder.prototype.addFieldFloat64=function(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat64(e),this.slot(t))};_.Builder.prototype.addFieldOffset=function(t,e,r){(this.force_defaults||e!=r)&&(this.addOffset(e),this.slot(t))};_.Builder.prototype.addFieldStruct=function(t,e,r){e!=r&&(this.nested(e),this.slot(t))};_.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};_.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};_.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()};_.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};_.Builder.growByteBuffer=function(t){var e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=e<<1,n=_.ByteBuffer.allocate(r);return n.setPosition(r-e),n.bytes().set(t.bytes(),r-e),n};_.Builder.prototype.addOffset=function(t){this.prep(_.SIZEOF_INT,0),this.writeInt32(this.offset()-t+_.SIZEOF_INT)};_.Builder.prototype.startObject=function(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()};_.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0&&this.vtable[e]==0;e--);for(var r=e+1;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);var n=2;this.addInt16(t-this.object_start);var i=(r+n)*_.SIZEOF_SHORT;this.addInt16(i);var o=0,u=this.space;e:for(e=0;e<this.vtables.length;e++){var a=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(a)){for(var p=_.SIZEOF_SHORT;p<i;p+=_.SIZEOF_SHORT)if(this.bb.readInt16(u+p)!=this.bb.readInt16(a+p))continue e;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t};_.Builder.prototype.finish=function(t,e){if(e){var r=e;if(this.prep(this.minalign,_.SIZEOF_INT+_.FILE_IDENTIFIER_LENGTH),r.length!=_.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+_.FILE_IDENTIFIER_LENGTH);for(var n=_.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(r.charCodeAt(n))}this.prep(this.minalign,_.SIZEOF_INT),this.addOffset(t),this.bb.setPosition(this.space)};_.Builder.prototype.requiredField=function(t,e){var r=this.bb.capacity()-t,n=r-this.bb.readInt32(r),i=this.bb.readInt16(n+e)!=0;if(!i)throw new Error("FlatBuffers: field "+e+" must be set")};_.Builder.prototype.startVector=function(t,e,r){this.notNested(),this.vector_num_elems=e,this.prep(_.SIZEOF_INT,t*e),this.prep(r,t*e)};_.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};_.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else for(var e=[],r=0;r<t.length;){var n,i=t.charCodeAt(r++);if(i<55296||i>=56320)n=i;else{var o=t.charCodeAt(r++);n=(i<<10)+o+(65536-(55296<<10)-56320)}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(n&63|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var r=0,u=this.space,a=this.bb.bytes();r<e.length;r++)a[u++]=e[r];return this.endVector()};_.Builder.prototype.createLong=function(t,e){return _.Long.create(t,e)};_.ByteBuffer=function(t){this.bytes_=t,this.position_=0};_.ByteBuffer.allocate=function(t){return new _.ByteBuffer(new Uint8Array(t))};_.ByteBuffer.prototype.clear=function(){this.position_=0};_.ByteBuffer.prototype.bytes=function(){return this.bytes_};_.ByteBuffer.prototype.position=function(){return this.position_};_.ByteBuffer.prototype.setPosition=function(t){this.position_=t};_.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};_.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24};_.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]};_.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16};_.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8};_.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24};_.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0};_.ByteBuffer.prototype.readInt64=function(t){return new _.Long(this.readInt32(t),this.readInt32(t+4))};_.ByteBuffer.prototype.readUint64=function(t){return new _.Long(this.readUint32(t),this.readUint32(t+4))};_.ByteBuffer.prototype.readFloat32=function(t){return _.int32[0]=this.readInt32(t),_.float32[0]};_.ByteBuffer.prototype.readFloat64=function(t){return _.int32[_.isLittleEndian?0:1]=this.readInt32(t),_.int32[_.isLittleEndian?1:0]=this.readInt32(t+4),_.float64[0]};_.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e};_.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e};_.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8};_.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8};_.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24};_.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24};_.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)};_.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)};_.ByteBuffer.prototype.writeFloat32=function(t,e){_.float32[0]=e,this.writeInt32(t,_.int32[0])};_.ByteBuffer.prototype.writeFloat64=function(t,e){_.float64[0]=e,this.writeInt32(t,_.int32[_.isLittleEndian?0:1]),this.writeInt32(t+4,_.int32[_.isLittleEndian?1:0])};_.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+_.SIZEOF_INT+_.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",e=0;e<_.FILE_IDENTIFIER_LENGTH;e++)t+=String.fromCharCode(this.readInt8(this.position_+_.SIZEOF_INT+e));return t};_.ByteBuffer.prototype.__offset=function(t,e){var r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0};_.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t};_.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var r=this.readInt32(t),n="",i=0;if(t+=_.SIZEOF_INT,e===_.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+r);for(;i<r;){var o,u=this.readUint8(t+i++);if(u<192)o=u;else{var a=this.readUint8(t+i++);if(u<224)o=(u&31)<<6|a&63;else{var p=this.readUint8(t+i++);if(u<240)o=(u&15)<<12|(a&63)<<6|p&63;else{var s=this.readUint8(t+i++);o=(u&7)<<18|(a&63)<<12|(p&63)<<6|s&63}}}o<65536?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode((o>>10)+55296,(o&(1<<10)-1)+56320))}return n};_.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)};_.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+_.SIZEOF_INT};_.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))};_.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=_.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+_.FILE_IDENTIFIER_LENGTH);for(var e=0;e<_.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+_.SIZEOF_INT+e))return!1;return!0};_.ByteBuffer.prototype.createLong=function(t,e){return _.Long.create(t,e)};Qf.flatbuffers=_});var Xf=T(lu=>{"use strict";function yr(t,e,r){return e<=t&&t<=r}function Ks(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function qw(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var u=t.charCodeAt(n+1);if(56320<=u&&u<=57343){var a=o&1023,p=u&1023;i.push(65536+(a<<10)+p),n+=1}else i.push(65533)}n+=1}return i}function Ww(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Qs=-1;function uu(t){this.tokens=[].slice.call(t)}uu.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Qs},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Rn=-1;function cu(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Xs="utf-8";function Zs(t,e){if(!(this instanceof Zs))return new Zs(t,e);if(t=t!==void 0?String(t).toLowerCase():Xs,t!==Xs)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ks(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Zs.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Ks(r),this._streaming||(this._decoder=new zw({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(r.stream);for(var i=new uu(n),o=[],u;!i.endOfStream()&&(u=this._decoder.handler(i,i.read()),u!==Rn);)u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u));if(!this._streaming){do{if(u=this._decoder.handler(i,i.read()),u===Rn)break;u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Ww(o)}};function eo(t,e){if(!(this instanceof eo))return new eo(t,e);if(t=t!==void 0?String(t).toLowerCase():Xs,t!==Xs)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ks(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}eo.prototype={encode:function(e,r){e=e?String(e):"",r=Ks(r),this._streaming||(this._encoder=new Hw(this._options)),this._streaming=Boolean(r.stream);for(var n=[],i=new uu(qw(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==Rn);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==Rn;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function zw(t){var e=t.fatal,r=0,n=0,i=0,o=128,u=191;this.handler=function(a,p){if(p===Qs&&i!==0)return i=0,cu(e);if(p===Qs)return Rn;if(i===0){if(yr(p,0,127))return p;if(yr(p,194,223))i=1,r=p-192;else if(yr(p,224,239))p===224&&(o=160),p===237&&(u=159),i=2,r=p-224;else if(yr(p,240,244))p===240&&(o=144),p===244&&(u=143),i=3,r=p-240;else return cu(e);return r=r<<6*i,null}if(!yr(p,o,u))return r=i=n=0,o=128,u=191,a.prepend(p),cu(e);if(o=128,u=191,n+=1,r+=p-128<<6*(i-n),n!==i)return null;var s=r;return r=i=n=0,s}}function Hw(t){var e=t.fatal;this.handler=function(r,n){if(n===Qs)return Rn;if(yr(n,0,127))return n;var i,o;yr(n,128,2047)?(i=1,o=192):yr(n,2048,65535)?(i=2,o=224):yr(n,65536,1114111)&&(i=3,o=240);for(var u=[(n>>6*i)+o];i>0;){var a=n>>6*(i-1);u.push(128|a&63),i-=1}return u}}lu.TextEncoder=eo;lu.TextDecoder=Zs});var ln=T(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.encodeUtf8=Un.decodeUtf8=void 0;var Zf=Re(),eh=Xf(),to=typeof Buffer=="function"?Buffer:null,th=typeof TextDecoder=="function"&&typeof TextEncoder=="function";Un.decodeUtf8=(t=>{if(th||!to){let e=new t("utf-8");return r=>e.decode(r)}return e=>{let{buffer:r,byteOffset:n,length:i}=Zf.toUint8Array(e);return to.from(r,n,i).toString()}})(typeof TextDecoder!="undefined"?TextDecoder:eh.TextDecoder);Un.encodeUtf8=(t=>{if(th||!to){let e=new t;return r=>e.encode(r)}return(e="")=>Zf.toUint8Array(to.from(e,"utf8"))})(typeof TextEncoder!="undefined"?TextEncoder:eh.TextEncoder)});var Mn=T(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.AsyncQueue=ut.ReadableInterop=ut.ArrowJSON=ut.ITERATOR_DONE=void 0;var rh=zi();ut.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});var nh=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};ut.ArrowJSON=nh;var du=class{tee(){return this._getDOMStream().tee()}pipe(e,r){return this._getNodeStream().pipe(e,r)}pipeTo(e,r){return this._getDOMStream().pipeTo(e,r)}pipeThrough(e,r){return this._getDOMStream().pipeThrough(e,r)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};ut.ReadableInterop=du;var ih=class extends du{constructor(){super();this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}async cancel(e){await this.return(e)}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(ut.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return rh.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return rh.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}async throw(e){return await this.abort(e),ut.ITERATOR_DONE}async return(e){return await this.close(),ut.ITERATOR_DONE}async read(e){return(await this.next(e,"read")).value}async peek(e){return(await this.next(e,"peek")).value}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((r,n)=>{this.resolvers.push({resolve:r,reject:n})}):Promise.resolve(ut.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error(`${this} is closed`)}};ut.AsyncQueue=ih});var et=T(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.isReadableNodeStream=P.isWritableNodeStream=P.isReadableDOMStream=P.isWritableDOMStream=P.isFetchResponse=P.isFSReadStream=P.isFileHandle=P.isUnderlyingSink=P.isIteratorResult=P.isArrayLike=P.isArrowJSON=P.isAsyncIterable=P.isIterable=P.isObservable=P.isPromise=P.isObject=P.BigUint64ArrayAvailable=P.BigUint64Array=P.BigInt64ArrayAvailable=P.BigInt64Array=P.BigIntAvailable=P.BigInt=void 0;var ro=Mn(),[Yw,Gw]=(()=>{let t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})();P.BigInt=Yw;P.BigIntAvailable=Gw;var[$w,Jw]=(()=>{let t=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})();P.BigInt64Array=$w;P.BigInt64ArrayAvailable=Jw;var[Kw,Qw]=(()=>{let t=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();P.BigUint64Array=Kw;P.BigUint64ArrayAvailable=Qw;var fu=t=>typeof t=="number",sh=t=>typeof t=="boolean",$e=t=>typeof t=="function";P.isObject=t=>t!=null&&Object(t)===t;P.isPromise=t=>P.isObject(t)&&$e(t.then);P.isObservable=t=>P.isObject(t)&&$e(t.subscribe);P.isIterable=t=>P.isObject(t)&&$e(t[Symbol.iterator]);P.isAsyncIterable=t=>P.isObject(t)&&$e(t[Symbol.asyncIterator]);P.isArrowJSON=t=>P.isObject(t)&&P.isObject(t.schema);P.isArrayLike=t=>P.isObject(t)&&fu(t.length);P.isIteratorResult=t=>P.isObject(t)&&"done"in t&&"value"in t;P.isUnderlyingSink=t=>P.isObject(t)&&$e(t.abort)&&$e(t.close)&&$e(t.start)&&$e(t.write);P.isFileHandle=t=>P.isObject(t)&&$e(t.stat)&&fu(t.fd);P.isFSReadStream=t=>P.isReadableNodeStream(t)&&fu(t.bytesRead);P.isFetchResponse=t=>P.isObject(t)&&P.isReadableDOMStream(t.body);P.isWritableDOMStream=t=>P.isObject(t)&&$e(t.abort)&&$e(t.getWriter)&&!(t instanceof ro.ReadableInterop);P.isReadableDOMStream=t=>P.isObject(t)&&$e(t.cancel)&&$e(t.getReader)&&!(t instanceof ro.ReadableInterop);P.isWritableNodeStream=t=>P.isObject(t)&&$e(t.end)&&$e(t.write)&&sh(t.writable)&&!(t instanceof ro.ReadableInterop);P.isReadableNodeStream=t=>P.isObject(t)&&$e(t.read)&&$e(t.pipe)&&sh(t.readable)&&!(t instanceof ro.ReadableInterop)});var Re=T(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.compareArrayLike=R.rebaseValueOffsets=R.toUint8ClampedArrayAsyncIterator=R.toFloat64ArrayAsyncIterator=R.toFloat32ArrayAsyncIterator=R.toUint32ArrayAsyncIterator=R.toUint16ArrayAsyncIterator=R.toUint8ArrayAsyncIterator=R.toInt32ArrayAsyncIterator=R.toInt16ArrayAsyncIterator=R.toInt8ArrayAsyncIterator=R.toArrayBufferViewAsyncIterator=R.toUint8ClampedArrayIterator=R.toFloat64ArrayIterator=R.toFloat32ArrayIterator=R.toUint32ArrayIterator=R.toUint16ArrayIterator=R.toUint8ArrayIterator=R.toInt32ArrayIterator=R.toInt16ArrayIterator=R.toInt8ArrayIterator=R.toArrayBufferViewIterator=R.toUint8ClampedArray=R.toFloat64Array=R.toFloat32Array=R.toBigUint64Array=R.toUint32Array=R.toUint16Array=R.toUint8Array=R.toBigInt64Array=R.toInt32Array=R.toInt16Array=R.toInt8Array=R.toArrayBufferView=R.joinUint8Arrays=R.memcpy=void 0;var Xw=En(),Zw=ln(),ev=Xw.flatbuffers.ByteBuffer,dn=et(),hu=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function tv(t){let e=t[0]?[t[0]]:[],r,n,i,o;for(let u,a,p=0,s=0,l=t.length;++p<l;){if(u=e[s],a=t[p],!u||!a||u.buffer!==a.buffer||a.byteOffset<u.byteOffset){a&&(e[++s]=a);continue}if({byteOffset:r,byteLength:i}=u,{byteOffset:n,byteLength:o}=a,r+i<n||n+o<r){a&&(e[++s]=a);continue}e[s]=new Uint8Array(u.buffer,r,n-r+o)}return e}function pu(t,e,r=0,n=e.byteLength){let i=t.byteLength,o=new Uint8Array(t.buffer,t.byteOffset,i),u=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,i));return o.set(u,r),t}R.memcpy=pu;function rv(t,e){let r=tv(t),n=r.reduce((l,g)=>l+g.byteLength,0),i,o,u,a=0,p=-1,s=Math.min(e||1/0,n);for(let l=r.length;++p<l;){if(i=r[p],o=i.subarray(0,Math.min(i.length,s-a)),s<=a+o.length){o.length<i.length?r[p]=i.subarray(o.length):o.length===i.length&&p++,u?pu(u,o,a):u=o;break}pu(u||(u=new Uint8Array(s)),o,a),a+=o.length}return[u||new Uint8Array(0),r.slice(p),n-(u?u.byteLength:0)]}R.joinUint8Arrays=rv;function nt(t,e){let r=dn.isIteratorResult(e)?e.value:e;return r instanceof t?t===Uint8Array?new t(r.buffer,r.byteOffset,r.byteLength):r:r?(typeof r=="string"&&(r=Zw.encodeUtf8(r)),r instanceof ArrayBuffer?new t(r):r instanceof hu?new t(r):r instanceof ev?nt(t,r.bytes()):ArrayBuffer.isView(r)?r.byteLength<=0?new t(0):new t(r.buffer,r.byteOffset,r.byteLength/t.BYTES_PER_ELEMENT):t.from(r)):new t(0)}R.toArrayBufferView=nt;R.toInt8Array=t=>nt(Int8Array,t);R.toInt16Array=t=>nt(Int16Array,t);R.toInt32Array=t=>nt(Int32Array,t);R.toBigInt64Array=t=>nt(dn.BigInt64Array,t);R.toUint8Array=t=>nt(Uint8Array,t);R.toUint16Array=t=>nt(Uint16Array,t);R.toUint32Array=t=>nt(Uint32Array,t);R.toBigUint64Array=t=>nt(dn.BigUint64Array,t);R.toFloat32Array=t=>nt(Float32Array,t);R.toFloat64Array=t=>nt(Float64Array,t);R.toUint8ClampedArray=t=>nt(Uint8ClampedArray,t);var yu=t=>(t.next(),t);function*$t(t,e){let r=function*(i){yield i},n=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof hu?r(e):dn.isIterable(e)?e:r(e);return yield*yu(function*(i){let o=null;do o=i.next(yield nt(t,o));while(!o.done)}(n[Symbol.iterator]())),new t}R.toArrayBufferViewIterator=$t;R.toInt8ArrayIterator=t=>$t(Int8Array,t);R.toInt16ArrayIterator=t=>$t(Int16Array,t);R.toInt32ArrayIterator=t=>$t(Int32Array,t);R.toUint8ArrayIterator=t=>$t(Uint8Array,t);R.toUint16ArrayIterator=t=>$t(Uint16Array,t);R.toUint32ArrayIterator=t=>$t(Uint32Array,t);R.toFloat32ArrayIterator=t=>$t(Float32Array,t);R.toFloat64ArrayIterator=t=>$t(Float64Array,t);R.toUint8ClampedArrayIterator=t=>$t(Uint8ClampedArray,t);async function*Vt(t,e){if(dn.isPromise(e))return yield*Vt(t,await e);let r=async function*(o){yield await o},n=async function*(o){yield*yu(function*(u){let a=null;do a=u.next(yield a&&a.value);while(!a.done)}(o[Symbol.iterator]()))},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof hu?r(e):dn.isIterable(e)?n(e):dn.isAsyncIterable(e)?e:r(e);return yield*yu(async function*(o){let u=null;do u=await o.next(yield nt(t,u));while(!u.done)}(i[Symbol.asyncIterator]())),new t}R.toArrayBufferViewAsyncIterator=Vt;R.toInt8ArrayAsyncIterator=t=>Vt(Int8Array,t);R.toInt16ArrayAsyncIterator=t=>Vt(Int16Array,t);R.toInt32ArrayAsyncIterator=t=>Vt(Int32Array,t);R.toUint8ArrayAsyncIterator=t=>Vt(Uint8Array,t);R.toUint16ArrayAsyncIterator=t=>Vt(Uint16Array,t);R.toUint32ArrayAsyncIterator=t=>Vt(Uint32Array,t);R.toFloat32ArrayAsyncIterator=t=>Vt(Float32Array,t);R.toFloat64ArrayAsyncIterator=t=>Vt(Float64Array,t);R.toUint8ClampedArrayAsyncIterator=t=>Vt(Uint8ClampedArray,t);function nv(t,e,r){if(t!==0){r=r.slice(0,e+1);for(let n=-1;++n<=e;)r[n]+=t}return r}R.rebaseValueOffsets=nv;function iv(t,e){let r=0,n=t.length;if(n!==e.length)return!1;if(n>0)do if(t[r]!==e[r])return!1;while(++r<n);return!0}R.compareArrayLike=iv});var zi=T(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});var it=Re();bu.default={fromIterable(t){return no(sv(t))},fromAsyncIterable(t){return no(ov(t))},fromDOMStream(t){return no(av(t))},fromNodeStream(t){return no(uv(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}};var no=t=>(t.next(),t);function*sv(t){let e,r=!1,n=[],i,o,u,a=0;function p(){return o==="peek"?it.joinUint8Arrays(n,u)[0]:([i,n,a]=it.joinUint8Arrays(n,u),i)}({cmd:o,size:u}=yield null);let s=it.toUint8ArrayIterator(t)[Symbol.iterator]();try{do if({done:e,value:i}=isNaN(u-a)?s.next(void 0):s.next(u-a),!e&&i.byteLength>0&&(n.push(i),a+=i.byteLength),e||u<=a)do({cmd:o,size:u}=yield p());while(u<a);while(!e)}catch(l){(r=!0)&&typeof s.throw=="function"&&s.throw(l)}finally{r===!1&&typeof s.return=="function"&&s.return(null)}return null}async function*ov(t){let e,r=!1,n=[],i,o,u,a=0;function p(){return o==="peek"?it.joinUint8Arrays(n,u)[0]:([i,n,a]=it.joinUint8Arrays(n,u),i)}({cmd:o,size:u}=yield null);let s=it.toUint8ArrayAsyncIterator(t)[Symbol.asyncIterator]();try{do if({done:e,value:i}=isNaN(u-a)?await s.next(void 0):await s.next(u-a),!e&&i.byteLength>0&&(n.push(i),a+=i.byteLength),e||u<=a)do({cmd:o,size:u}=yield p());while(u<a);while(!e)}catch(l){(r=!0)&&typeof s.throw=="function"&&await s.throw(l)}finally{r===!1&&typeof s.return=="function"&&await s.return(new Uint8Array(0))}return null}async function*av(t){let e=!1,r=!1,n=[],i,o,u,a=0;function p(){return o==="peek"?it.joinUint8Arrays(n,u)[0]:([i,n,a]=it.joinUint8Arrays(n,u),i)}({cmd:o,size:u}=yield null);let s=new oh(t);try{do if({done:e,value:i}=isNaN(u-a)?await s.read(void 0):await s.read(u-a),!e&&i.byteLength>0&&(n.push(it.toUint8Array(i)),a+=i.byteLength),e||u<=a)do({cmd:o,size:u}=yield p());while(u<a);while(!e)}catch(l){(r=!0)&&await s.cancel(l)}finally{r===!1?await s.cancel():t.locked&&s.releaseLock()}return null}var oh=class{constructor(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch{this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}async cancel(e){let{reader:r,source:n}=this;r&&await r.cancel(e).catch(()=>{}),n&&n.locked&&this.releaseLock()}async read(e){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let r=!this.supportsBYOB||typeof e!="number"?await this.getDefaultReader().read():await this.readFromBYOBReader(e);return!r.done&&(r.value=it.toUint8Array(r)),r}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}async readFromBYOBReader(e){return await ah(this.getBYOBReader(),new ArrayBuffer(e),0,e)}};async function ah(t,e,r,n){if(r>=n)return{done:!1,value:new Uint8Array(e,0,n)};let{done:i,value:o}=await t.read(new Uint8Array(e,r,n-r));return(r+=o.byteLength)<n&&!i?await ah(t,o.buffer,r,n):{done:i,value:new Uint8Array(o.buffer,0,r)}}var mu=(t,e)=>{let r=i=>n([e,i]),n;return[e,r,new Promise(i=>(n=i)&&t.once(e,r))]};async function*uv(t){let e=[],r="error",n=!1,i=null,o,u,a=0,p=[],s;function l(){return o==="peek"?it.joinUint8Arrays(p,u)[0]:([s,p,a]=it.joinUint8Arrays(p,u),s)}if({cmd:o,size:u}=yield null,t.isTTY)return yield new Uint8Array(0),null;try{e[0]=mu(t,"end"),e[1]=mu(t,"error");do{if(e[2]=mu(t,"readable"),[r,i]=await Promise.race(e.map(L=>L[2])),r==="error")break;if((n=r==="end")||(isFinite(u-a)?(s=it.toUint8Array(t.read(u-a)),s.byteLength<u-a&&(s=it.toUint8Array(t.read(void 0)))):s=it.toUint8Array(t.read(void 0)),s.byteLength>0&&(p.push(s),a+=s.byteLength)),n||u<=a)do({cmd:o,size:u}=yield l());while(u<a)}while(!n)}finally{await g(e,r==="error"?i:null)}return null;function g(L,ae){return s=p=null,new Promise(async(Ye,Wt)=>{for(let[Xe,Pt]of L)t.off(Xe,Pt);try{let Xe=t.destroy;Xe&&Xe.call(t,ae),ae=void 0}catch(Xe){ae=Xe||ae}finally{ae!=null?Wt(ae):Ye()}})}}});var Ae=T(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Vector=Pn.AbstractVector=void 0;var io=class{};Pn.AbstractVector=io;Pn.Vector=io;io.prototype.data=null});var Vn=T(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.org=void 0;var se;(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.V1=0]="V1",p[p.V2=1]="V2",p[p.V3=2]="V3",p[p.V4=3]="V4"})(a=u.MetadataVersion||(u.MetadataVersion={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.Sparse=0]="Sparse",p[p.Dense=1]="Dense"})(a=u.UnionMode||(u.UnionMode={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.HALF=0]="HALF",p[p.SINGLE=1]="SINGLE",p[p.DOUBLE=2]="DOUBLE"})(a=u.Precision||(u.Precision={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.DAY=0]="DAY",p[p.MILLISECOND=1]="MILLISECOND"})(a=u.DateUnit||(u.DateUnit={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.SECOND=0]="SECOND",p[p.MILLISECOND=1]="MILLISECOND",p[p.MICROSECOND=2]="MICROSECOND",p[p.NANOSECOND=3]="NANOSECOND"})(a=u.TimeUnit||(u.TimeUnit={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.YEAR_MONTH=0]="YEAR_MONTH",p[p.DAY_TIME=1]="DAY_TIME"})(a=u.IntervalUnit||(u.IntervalUnit={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.NONE=0]="NONE",p[p.Null=1]="Null",p[p.Int=2]="Int",p[p.FloatingPoint=3]="FloatingPoint",p[p.Binary=4]="Binary",p[p.Utf8=5]="Utf8",p[p.Bool=6]="Bool",p[p.Decimal=7]="Decimal",p[p.Date=8]="Date",p[p.Time=9]="Time",p[p.Timestamp=10]="Timestamp",p[p.Interval=11]="Interval",p[p.List=12]="List",p[p.Struct_=13]="Struct_",p[p.Union=14]="Union",p[p.FixedSizeBinary=15]="FixedSizeBinary",p[p.FixedSizeList=16]="FixedSizeList",p[p.Map=17]="Map",p[p.Duration=18]="Duration",p[p.LargeBinary=19]="LargeBinary",p[p.LargeUtf8=20]="LargeUtf8",p[p.LargeList=21]="LargeList"})(a=u.Type||(u.Type={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.Little=0]="Little",p[p.Big=1]="Big"})(a=u.Endianness||(u.Endianness={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsNull(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startNull(s){s.startObject(0)}static endNull(s){return s.endObject()}static createNull(s){return a.startNull(s),a.endNull(s)}}u.Null=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsStruct_(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startStruct_(s){s.startObject(0)}static endStruct_(s){return s.endObject()}static createStruct_(s){return a.startStruct_(s),a.endStruct_(s)}}u.Struct_=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsList(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startList(s){s.startObject(0)}static endList(s){return s.endObject()}static createList(s){return a.startList(s),a.endList(s)}}u.List=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsLargeList(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startLargeList(s){s.startObject(0)}static endLargeList(s){return s.endObject()}static createLargeList(s){return a.startLargeList(s),a.endLargeList(s)}}u.LargeList=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsFixedSizeList(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}listSize(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):0}static startFixedSizeList(s){s.startObject(1)}static addListSize(s,l){s.addFieldInt32(0,l,0)}static endFixedSizeList(s){return s.endObject()}static createFixedSizeList(s,l){return a.startFixedSizeList(s),a.addListSize(s,l),a.endFixedSizeList(s)}}u.FixedSizeList=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsMap(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}keysSorted(){let s=this.bb.__offset(this.bb_pos,4);return s?!!this.bb.readInt8(this.bb_pos+s):!1}static startMap(s){s.startObject(1)}static addKeysSorted(s,l){s.addFieldInt8(0,+l,0)}static endMap(s){return s.endObject()}static createMap(s,l){return a.startMap(s),a.addKeysSorted(s,l),a.endMap(s)}}u.Map=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsUnion(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}mode(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.UnionMode.Sparse}typeIds(s){let l=this.bb.__offset(this.bb_pos,6);return l?this.bb.readInt32(this.bb.__vector(this.bb_pos+l)+s*4):0}typeIdsLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}typeIdsArray(){let s=this.bb.__offset(this.bb_pos,6);return s?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}static startUnion(s){s.startObject(2)}static addMode(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.UnionMode.Sparse)}static addTypeIds(s,l){s.addFieldOffset(1,l,0)}static createTypeIdsVector(s,l){s.startVector(4,l.length,4);for(let g=l.length-1;g>=0;g--)s.addInt32(l[g]);return s.endVector()}static startTypeIdsVector(s,l){s.startVector(4,l,4)}static endUnion(s){return s.endObject()}static createUnion(s,l,g){return a.startUnion(s),a.addMode(s,l),a.addTypeIds(s,g),a.endUnion(s)}}u.Union=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsInt(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}bitWidth(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):0}isSigned(){let s=this.bb.__offset(this.bb_pos,6);return s?!!this.bb.readInt8(this.bb_pos+s):!1}static startInt(s){s.startObject(2)}static addBitWidth(s,l){s.addFieldInt32(0,l,0)}static addIsSigned(s,l){s.addFieldInt8(1,+l,0)}static endInt(s){return s.endObject()}static createInt(s,l,g){return a.startInt(s),a.addBitWidth(s,l),a.addIsSigned(s,g),a.endInt(s)}}u.Int=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsFloatingPoint(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}precision(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.Precision.HALF}static startFloatingPoint(s){s.startObject(1)}static addPrecision(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.Precision.HALF)}static endFloatingPoint(s){return s.endObject()}static createFloatingPoint(s,l){return a.startFloatingPoint(s),a.addPrecision(s,l),a.endFloatingPoint(s)}}u.FloatingPoint=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsUtf8(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startUtf8(s){s.startObject(0)}static endUtf8(s){return s.endObject()}static createUtf8(s){return a.startUtf8(s),a.endUtf8(s)}}u.Utf8=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsBinary(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startBinary(s){s.startObject(0)}static endBinary(s){return s.endObject()}static createBinary(s){return a.startBinary(s),a.endBinary(s)}}u.Binary=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsLargeUtf8(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startLargeUtf8(s){s.startObject(0)}static endLargeUtf8(s){return s.endObject()}static createLargeUtf8(s){return a.startLargeUtf8(s),a.endLargeUtf8(s)}}u.LargeUtf8=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsLargeBinary(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startLargeBinary(s){s.startObject(0)}static endLargeBinary(s){return s.endObject()}static createLargeBinary(s){return a.startLargeBinary(s),a.endLargeBinary(s)}}u.LargeBinary=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsFixedSizeBinary(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}byteWidth(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):0}static startFixedSizeBinary(s){s.startObject(1)}static addByteWidth(s,l){s.addFieldInt32(0,l,0)}static endFixedSizeBinary(s){return s.endObject()}static createFixedSizeBinary(s,l){return a.startFixedSizeBinary(s),a.addByteWidth(s,l),a.endFixedSizeBinary(s)}}u.FixedSizeBinary=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsBool(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}static startBool(s){s.startObject(0)}static endBool(s){return s.endObject()}static createBool(s){return a.startBool(s),a.endBool(s)}}u.Bool=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsDecimal(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}precision(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):0}scale(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt32(this.bb_pos+s):0}static startDecimal(s){s.startObject(2)}static addPrecision(s,l){s.addFieldInt32(0,l,0)}static addScale(s,l){s.addFieldInt32(1,l,0)}static endDecimal(s){return s.endObject()}static createDecimal(s,l,g){return a.startDecimal(s),a.addPrecision(s,l),a.addScale(s,g),a.endDecimal(s)}}u.Decimal=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsDate(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}unit(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.DateUnit.MILLISECOND}static startDate(s){s.startObject(1)}static addUnit(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.DateUnit.MILLISECOND)}static endDate(s){return s.endObject()}static createDate(s,l){return a.startDate(s),a.addUnit(s,l),a.endDate(s)}}u.Date=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsTime(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}unit(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}bitWidth(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt32(this.bb_pos+s):32}static startTime(s){s.startObject(2)}static addUnit(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static addBitWidth(s,l){s.addFieldInt32(1,l,32)}static endTime(s){return s.endObject()}static createTime(s,l,g){return a.startTime(s),a.addUnit(s,l),a.addBitWidth(s,g),a.endTime(s)}}u.Time=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsTimestamp(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}unit(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.TimeUnit.SECOND}timezone(s){let l=this.bb.__offset(this.bb_pos,6);return l?this.bb.__string(this.bb_pos+l,s):null}static startTimestamp(s){s.startObject(2)}static addUnit(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.TimeUnit.SECOND)}static addTimezone(s,l){s.addFieldOffset(1,l,0)}static endTimestamp(s){return s.endObject()}static createTimestamp(s,l,g){return a.startTimestamp(s),a.addUnit(s,l),a.addTimezone(s,g),a.endTimestamp(s)}}u.Timestamp=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsInterval(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}unit(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH}static startInterval(s){s.startObject(1)}static addUnit(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH)}static endInterval(s){return s.endObject()}static createInterval(s,l){return a.startInterval(s),a.addUnit(s,l),a.endInterval(s)}}u.Interval=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsDuration(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}unit(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.TimeUnit.MILLISECOND}static startDuration(s){s.startObject(1)}static addUnit(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static endDuration(s){return s.endObject()}static createDuration(s,l){return a.startDuration(s),a.addUnit(s,l),a.endDuration(s)}}u.Duration=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsKeyValue(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}key(s){let l=this.bb.__offset(this.bb_pos,4);return l?this.bb.__string(this.bb_pos+l,s):null}value(s){let l=this.bb.__offset(this.bb_pos,6);return l?this.bb.__string(this.bb_pos+l,s):null}static startKeyValue(s){s.startObject(2)}static addKey(s,l){s.addFieldOffset(0,l,0)}static addValue(s,l){s.addFieldOffset(1,l,0)}static endKeyValue(s){return s.endObject()}static createKeyValue(s,l,g){return a.startKeyValue(s),a.addKey(s,l),a.addValue(s,g),a.endKeyValue(s)}}u.KeyValue=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsDictionaryEncoding(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}id(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}indexType(s){let l=this.bb.__offset(this.bb_pos,6);return l?(s||new t.apache.arrow.flatbuf.Int).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}isOrdered(){let s=this.bb.__offset(this.bb_pos,8);return s?!!this.bb.readInt8(this.bb_pos+s):!1}static startDictionaryEncoding(s){s.startObject(3)}static addId(s,l){s.addFieldInt64(0,l,s.createLong(0,0))}static addIndexType(s,l){s.addFieldOffset(1,l,0)}static addIsOrdered(s,l){s.addFieldInt8(2,+l,0)}static endDictionaryEncoding(s){return s.endObject()}static createDictionaryEncoding(s,l,g,L){return a.startDictionaryEncoding(s),a.addId(s,l),a.addIndexType(s,g),a.addIsOrdered(s,L),a.endDictionaryEncoding(s)}}u.DictionaryEncoding=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsField(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}name(s){let l=this.bb.__offset(this.bb_pos,4);return l?this.bb.__string(this.bb_pos+l,s):null}nullable(){let s=this.bb.__offset(this.bb_pos,6);return s?!!this.bb.readInt8(this.bb_pos+s):!1}typeType(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readUint8(this.bb_pos+s):t.apache.arrow.flatbuf.Type.NONE}type(s){let l=this.bb.__offset(this.bb_pos,10);return l?this.bb.__union(s,this.bb_pos+l):null}dictionary(s){let l=this.bb.__offset(this.bb_pos,12);return l?(s||new t.apache.arrow.flatbuf.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}children(s,l){let g=this.bb.__offset(this.bb_pos,14);return g?(l||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+g)+s*4),this.bb):null}childrenLength(){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__vector_len(this.bb_pos+s):0}customMetadata(s,l){let g=this.bb.__offset(this.bb_pos,16);return g?(l||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+g)+s*4),this.bb):null}customMetadataLength(){let s=this.bb.__offset(this.bb_pos,16);return s?this.bb.__vector_len(this.bb_pos+s):0}static startField(s){s.startObject(7)}static addName(s,l){s.addFieldOffset(0,l,0)}static addNullable(s,l){s.addFieldInt8(1,+l,0)}static addTypeType(s,l){s.addFieldInt8(2,l,t.apache.arrow.flatbuf.Type.NONE)}static addType(s,l){s.addFieldOffset(3,l,0)}static addDictionary(s,l){s.addFieldOffset(4,l,0)}static addChildren(s,l){s.addFieldOffset(5,l,0)}static createChildrenVector(s,l){s.startVector(4,l.length,4);for(let g=l.length-1;g>=0;g--)s.addOffset(l[g]);return s.endVector()}static startChildrenVector(s,l){s.startVector(4,l,4)}static addCustomMetadata(s,l){s.addFieldOffset(6,l,0)}static createCustomMetadataVector(s,l){s.startVector(4,l.length,4);for(let g=l.length-1;g>=0;g--)s.addOffset(l[g]);return s.endVector()}static startCustomMetadataVector(s,l){s.startVector(4,l,4)}static endField(s){return s.endObject()}static createField(s,l,g,L,ae,Ye,Wt,Xe){return a.startField(s),a.addName(s,l),a.addNullable(s,g),a.addTypeType(s,L),a.addType(s,ae),a.addDictionary(s,Ye),a.addChildren(s,Wt),a.addCustomMetadata(s,Xe),a.endField(s)}}u.Field=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(s,l,g){return s.prep(8,16),s.writeInt64(g),s.writeInt64(l),s.offset()}}u.Buffer=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsSchema(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}endianness(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):t.apache.arrow.flatbuf.Endianness.Little}fields(s,l){let g=this.bb.__offset(this.bb_pos,6);return g?(l||new t.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+g)+s*4),this.bb):null}fieldsLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}customMetadata(s,l){let g=this.bb.__offset(this.bb_pos,8);return g?(l||new t.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+g)+s*4),this.bb):null}customMetadataLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}static startSchema(s){s.startObject(3)}static addEndianness(s,l){s.addFieldInt16(0,l,t.apache.arrow.flatbuf.Endianness.Little)}static addFields(s,l){s.addFieldOffset(1,l,0)}static createFieldsVector(s,l){s.startVector(4,l.length,4);for(let g=l.length-1;g>=0;g--)s.addOffset(l[g]);return s.endVector()}static startFieldsVector(s,l){s.startVector(4,l,4)}static addCustomMetadata(s,l){s.addFieldOffset(2,l,0)}static createCustomMetadataVector(s,l){s.startVector(4,l.length,4);for(let g=l.length-1;g>=0;g--)s.addOffset(l[g]);return s.endVector()}static startCustomMetadataVector(s,l){s.startVector(4,l,4)}static endSchema(s){return s.endObject()}static finishSchemaBuffer(s,l){s.finish(l)}static createSchema(s,l,g,L){return a.startSchema(s),a.addEndianness(s,l),a.addFields(s,g),a.addCustomMetadata(s,L),a.endSchema(s)}}u.Schema=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(se=U.org||(U.org={}))});var _u=T(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.org=void 0;var Hi=Vn(),kn;(function(t){var e;(function(r){var n;(function(i){var o;(function(u){u.Schema=Hi.org.apache.arrow.flatbuf.Schema})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(kn=st.org||(st.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){let a;(function(p){p[p.NONE=0]="NONE",p[p.Schema=1]="Schema",p[p.DictionaryBatch=2]="DictionaryBatch",p[p.RecordBatch=3]="RecordBatch",p[p.Tensor=4]="Tensor",p[p.SparseTensor=5]="SparseTensor"})(a=u.MessageHeader||(u.MessageHeader={}))})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(kn=st.org||(st.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(s,l,g){return s.prep(8,16),s.writeInt64(g),s.writeInt64(l),s.offset()}}u.FieldNode=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(kn=st.org||(st.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsRecordBatch(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}length(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}nodes(s,l){let g=this.bb.__offset(this.bb_pos,6);return g?(l||new t.apache.arrow.flatbuf.FieldNode).__init(this.bb.__vector(this.bb_pos+g)+s*16,this.bb):null}nodesLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}buffers(s,l){let g=this.bb.__offset(this.bb_pos,8);return g?(l||new Hi.org.apache.arrow.flatbuf.Buffer).__init(this.bb.__vector(this.bb_pos+g)+s*16,this.bb):null}buffersLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}static startRecordBatch(s){s.startObject(3)}static addLength(s,l){s.addFieldInt64(0,l,s.createLong(0,0))}static addNodes(s,l){s.addFieldOffset(1,l,0)}static startNodesVector(s,l){s.startVector(16,l,8)}static addBuffers(s,l){s.addFieldOffset(2,l,0)}static startBuffersVector(s,l){s.startVector(16,l,8)}static endRecordBatch(s){return s.endObject()}static createRecordBatch(s,l,g,L){return a.startRecordBatch(s),a.addLength(s,l),a.addNodes(s,g),a.addBuffers(s,L),a.endRecordBatch(s)}}u.RecordBatch=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(kn=st.org||(st.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsDictionaryBatch(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}id(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}data(s){let l=this.bb.__offset(this.bb_pos,6);return l?(s||new t.apache.arrow.flatbuf.RecordBatch).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}isDelta(){let s=this.bb.__offset(this.bb_pos,8);return s?!!this.bb.readInt8(this.bb_pos+s):!1}static startDictionaryBatch(s){s.startObject(3)}static addId(s,l){s.addFieldInt64(0,l,s.createLong(0,0))}static addData(s,l){s.addFieldOffset(1,l,0)}static addIsDelta(s,l){s.addFieldInt8(2,+l,0)}static endDictionaryBatch(s){return s.endObject()}static createDictionaryBatch(s,l,g,L){return a.startDictionaryBatch(s),a.addId(s,l),a.addData(s,g),a.addIsDelta(s,L),a.endDictionaryBatch(s)}}u.DictionaryBatch=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(kn=st.org||(st.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsMessage(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}version(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):Hi.org.apache.arrow.flatbuf.MetadataVersion.V1}headerType(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readUint8(this.bb_pos+s):t.apache.arrow.flatbuf.MessageHeader.NONE}header(s){let l=this.bb.__offset(this.bb_pos,8);return l?this.bb.__union(s,this.bb_pos+l):null}bodyLength(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}customMetadata(s,l){let g=this.bb.__offset(this.bb_pos,12);return g?(l||new Hi.org.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+g)+s*4),this.bb):null}customMetadataLength(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.__vector_len(this.bb_pos+s):0}static startMessage(s){s.startObject(5)}static addVersion(s,l){s.addFieldInt16(0,l,Hi.org.apache.arrow.flatbuf.MetadataVersion.V1)}static addHeaderType(s,l){s.addFieldInt8(1,l,t.apache.arrow.flatbuf.MessageHeader.NONE)}static addHeader(s,l){s.addFieldOffset(2,l,0)}static addBodyLength(s,l){s.addFieldInt64(3,l,s.createLong(0,0))}static addCustomMetadata(s,l){s.addFieldOffset(4,l,0)}static createCustomMetadataVector(s,l){s.startVector(4,l.length,4);for(let g=l.length-1;g>=0;g--)s.addOffset(l[g]);return s.endVector()}static startCustomMetadataVector(s,l){s.startVector(4,l,4)}static endMessage(s){return s.endObject()}static finishMessageBuffer(s,l){s.finish(l)}static createMessage(s,l,g,L,ae,Ye){return a.startMessage(s),a.addVersion(s,l),a.addHeaderType(s,g),a.addHeader(s,L),a.addBodyLength(s,ae),a.addCustomMetadata(s,Ye),a.endMessage(s)}}u.Message=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(kn=st.org||(st.org={}))});var pe=T(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.BufferType=be.Type=be.MetadataVersion=be.MessageHeader=be.IntervalUnit=be.UnionMode=be.Precision=be.TimeUnit=be.DateUnit=be.ArrowType=void 0;var fn=Vn(),cv=_u();be.ArrowType=fn.org.apache.arrow.flatbuf.Type;be.DateUnit=fn.org.apache.arrow.flatbuf.DateUnit;be.TimeUnit=fn.org.apache.arrow.flatbuf.TimeUnit;be.Precision=fn.org.apache.arrow.flatbuf.Precision;be.UnionMode=fn.org.apache.arrow.flatbuf.UnionMode;be.IntervalUnit=fn.org.apache.arrow.flatbuf.IntervalUnit;be.MessageHeader=cv.org.apache.arrow.flatbuf.MessageHeader;be.MetadataVersion=fn.org.apache.arrow.flatbuf.MetadataVersion;var lv;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"})(lv=be.Type||(be.Type={}));var dv;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(dv=be.BufferType||(be.BufferType={}))});var Jt=T(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.popcnt_uint32=Ue.popcnt_array=Ue.popcnt_bit_range=Ue.iterateBits=Ue.packBools=Ue.truncateBitmap=Ue.setBool=Ue.getBit=Ue.getBool=void 0;function uh(t,e,r,n){return(r&1<<n)!=0}Ue.getBool=uh;function ch(t,e,r,n){return(r&1<<n)>>n}Ue.getBit=ch;function fv(t,e,r){return r?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}Ue.setBool=fv;function hv(t,e,r){let n=r.byteLength+7&~7;if(t>0||r.byteLength<n){let i=new Uint8Array(n);return i.set(t%8==0?r.subarray(t>>3):lh(gu(r,t,e,null,uh)).subarray(0,n)),i}return r}Ue.truncateBitmap=hv;function lh(t){let e=[],r=0,n=0,i=0;for(let u of t)u&&(i|=1<<n),++n==8&&(e[r++]=i,i=n=0);(r===0||n>0)&&(e[r++]=i);let o=new Uint8Array(e.length+7&~7);return o.set(e),o}Ue.packBools=lh;function*gu(t,e,r,n,i){let o=e%8,u=e>>3,a=0,p=r;for(;p>0;o=0){let s=t[u++];do yield i(n,a++,s,o);while(--p>0&&++o<8)}}Ue.iterateBits=gu;function wu(t,e,r){if(r-e<=0)return 0;if(r-e<8){let o=0;for(let u of gu(t,e,r-e,t,ch))o+=u;return o}let n=r>>3<<3,i=e+(e%8==0?0:8-e%8);return wu(t,e,i)+wu(t,n,r)+dh(t,i>>3,n-i>>3)}Ue.popcnt_bit_range=wu;function dh(t,e,r){let n=0,i=e|0,o=new DataView(t.buffer,t.byteOffset,t.byteLength),u=r===void 0?t.byteLength:i+r;for(;u-i>=4;)n+=so(o.getUint32(i)),i+=4;for(;u-i>=2;)n+=so(o.getUint16(i)),i+=2;for(;u-i>=1;)n+=so(o.getUint8(i)),i+=1;return n}Ue.popcnt_array=dh;function so(t){let e=t|0;return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}Ue.popcnt_uint32=so});var Je=T(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.Visitor=void 0;var pv=kt(),yv=Ae(),w=pe(),mv=ce(),fe=class{visitMany(e,...r){return e.map((n,i)=>this.visit(n,...r.map(o=>o[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,r=!0){return bv(this,e,r)}visitNull(e,...r){return null}visitBool(e,...r){return null}visitInt(e,...r){return null}visitFloat(e,...r){return null}visitUtf8(e,...r){return null}visitBinary(e,...r){return null}visitFixedSizeBinary(e,...r){return null}visitDate(e,...r){return null}visitTimestamp(e,...r){return null}visitTime(e,...r){return null}visitDecimal(e,...r){return null}visitList(e,...r){return null}visitStruct(e,...r){return null}visitUnion(e,...r){return null}visitDictionary(e,...r){return null}visitInterval(e,...r){return null}visitFixedSizeList(e,...r){return null}visitMap(e,...r){return null}};oo.Visitor=fe;function bv(t,e,r=!0){let n=null,i=w.Type.NONE;switch(e instanceof pv.Data||e instanceof yv.Vector?i=vu(e.type):e instanceof mv.DataType?i=vu(e):typeof(i=e)!="number"&&(i=w.Type[e]),i){case w.Type.Null:n=t.visitNull;break;case w.Type.Bool:n=t.visitBool;break;case w.Type.Int:n=t.visitInt;break;case w.Type.Int8:n=t.visitInt8||t.visitInt;break;case w.Type.Int16:n=t.visitInt16||t.visitInt;break;case w.Type.Int32:n=t.visitInt32||t.visitInt;break;case w.Type.Int64:n=t.visitInt64||t.visitInt;break;case w.Type.Uint8:n=t.visitUint8||t.visitInt;break;case w.Type.Uint16:n=t.visitUint16||t.visitInt;break;case w.Type.Uint32:n=t.visitUint32||t.visitInt;break;case w.Type.Uint64:n=t.visitUint64||t.visitInt;break;case w.Type.Float:n=t.visitFloat;break;case w.Type.Float16:n=t.visitFloat16||t.visitFloat;break;case w.Type.Float32:n=t.visitFloat32||t.visitFloat;break;case w.Type.Float64:n=t.visitFloat64||t.visitFloat;break;case w.Type.Utf8:n=t.visitUtf8;break;case w.Type.Binary:n=t.visitBinary;break;case w.Type.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case w.Type.Date:n=t.visitDate;break;case w.Type.DateDay:n=t.visitDateDay||t.visitDate;break;case w.Type.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case w.Type.Timestamp:n=t.visitTimestamp;break;case w.Type.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case w.Type.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case w.Type.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case w.Type.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case w.Type.Time:n=t.visitTime;break;case w.Type.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case w.Type.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case w.Type.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case w.Type.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case w.Type.Decimal:n=t.visitDecimal;break;case w.Type.List:n=t.visitList;break;case w.Type.Struct:n=t.visitStruct;break;case w.Type.Union:n=t.visitUnion;break;case w.Type.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case w.Type.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case w.Type.Dictionary:n=t.visitDictionary;break;case w.Type.Interval:n=t.visitInterval;break;case w.Type.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case w.Type.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case w.Type.FixedSizeList:n=t.visitFixedSizeList;break;case w.Type.Map:n=t.visitMap;break}if(typeof n=="function")return n;if(!r)return()=>null;throw new Error(`Unrecognized type '${w.Type[i]}'`)}function vu(t){switch(t.typeId){case w.Type.Null:return w.Type.Null;case w.Type.Int:let{bitWidth:e,isSigned:r}=t;switch(e){case 8:return r?w.Type.Int8:w.Type.Uint8;case 16:return r?w.Type.Int16:w.Type.Uint16;case 32:return r?w.Type.Int32:w.Type.Uint32;case 64:return r?w.Type.Int64:w.Type.Uint64}return w.Type.Int;case w.Type.Float:switch(t.precision){case w.Precision.HALF:return w.Type.Float16;case w.Precision.SINGLE:return w.Type.Float32;case w.Precision.DOUBLE:return w.Type.Float64}return w.Type.Float;case w.Type.Binary:return w.Type.Binary;case w.Type.Utf8:return w.Type.Utf8;case w.Type.Bool:return w.Type.Bool;case w.Type.Decimal:return w.Type.Decimal;case w.Type.Time:switch(t.unit){case w.TimeUnit.SECOND:return w.Type.TimeSecond;case w.TimeUnit.MILLISECOND:return w.Type.TimeMillisecond;case w.TimeUnit.MICROSECOND:return w.Type.TimeMicrosecond;case w.TimeUnit.NANOSECOND:return w.Type.TimeNanosecond}return w.Type.Time;case w.Type.Timestamp:switch(t.unit){case w.TimeUnit.SECOND:return w.Type.TimestampSecond;case w.TimeUnit.MILLISECOND:return w.Type.TimestampMillisecond;case w.TimeUnit.MICROSECOND:return w.Type.TimestampMicrosecond;case w.TimeUnit.NANOSECOND:return w.Type.TimestampNanosecond}return w.Type.Timestamp;case w.Type.Date:switch(t.unit){case w.DateUnit.DAY:return w.Type.DateDay;case w.DateUnit.MILLISECOND:return w.Type.DateMillisecond}return w.Type.Date;case w.Type.Interval:switch(t.unit){case w.IntervalUnit.DAY_TIME:return w.Type.IntervalDayTime;case w.IntervalUnit.YEAR_MONTH:return w.Type.IntervalYearMonth}return w.Type.Interval;case w.Type.Map:return w.Type.Map;case w.Type.List:return w.Type.List;case w.Type.Struct:return w.Type.Struct;case w.Type.Union:switch(t.mode){case w.UnionMode.Dense:return w.Type.DenseUnion;case w.UnionMode.Sparse:return w.Type.SparseUnion}return w.Type.Union;case w.Type.FixedSizeBinary:return w.Type.FixedSizeBinary;case w.Type.FixedSizeList:return w.Type.FixedSizeList;case w.Type.Dictionary:return w.Type.Dictionary}throw new Error(`Unrecognized type '${w.Type[t.typeId]}'`)}fe.prototype.visitInt8=null;fe.prototype.visitInt16=null;fe.prototype.visitInt32=null;fe.prototype.visitInt64=null;fe.prototype.visitUint8=null;fe.prototype.visitUint16=null;fe.prototype.visitUint32=null;fe.prototype.visitUint64=null;fe.prototype.visitFloat16=null;fe.prototype.visitFloat32=null;fe.prototype.visitFloat64=null;fe.prototype.visitDateDay=null;fe.prototype.visitDateMillisecond=null;fe.prototype.visitTimestampSecond=null;fe.prototype.visitTimestampMillisecond=null;fe.prototype.visitTimestampMicrosecond=null;fe.prototype.visitTimestampNanosecond=null;fe.prototype.visitTimeSecond=null;fe.prototype.visitTimeMillisecond=null;fe.prototype.visitTimeMicrosecond=null;fe.prototype.visitTimeNanosecond=null;fe.prototype.visitDenseUnion=null;fe.prototype.visitSparseUnion=null;fe.prototype.visitIntervalDayTime=null;fe.prototype.visitIntervalYearMonth=null});var Su=T(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.instance=tt.TypeComparator=void 0;var _v=Je(),C=class extends _v.Visitor{compareSchemas(e,r){return e===r||r instanceof e.constructor&&tt.instance.compareFields(e.fields,r.fields)}compareFields(e,r){return e===r||Array.isArray(e)&&Array.isArray(r)&&e.length===r.length&&e.every((n,i)=>tt.instance.compareField(n,r[i]))}compareField(e,r){return e===r||r instanceof e.constructor&&e.name===r.name&&e.nullable===r.nullable&&tt.instance.visit(e.type,r.type)}};tt.TypeComparator=C;function ct(t,e){return e instanceof t.constructor}function Yi(t,e){return t===e||ct(t,e)}function mr(t,e){return t===e||ct(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function ao(t,e){return t===e||ct(t,e)&&t.precision===e.precision}function gv(t,e){return t===e||ct(t,e)&&t.byteWidth===e.byteWidth}function Tu(t,e){return t===e||ct(t,e)&&t.unit===e.unit}function Gi(t,e){return t===e||ct(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function $i(t,e){return t===e||ct(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function wv(t,e){return t===e||ct(t,e)&&t.children.length===e.children.length&&tt.instance.compareFields(t.children,e.children)}function vv(t,e){return t===e||ct(t,e)&&t.children.length===e.children.length&&tt.instance.compareFields(t.children,e.children)}function Bu(t,e){return t===e||ct(t,e)&&t.mode===e.mode&&t.typeIds.every((r,n)=>r===e.typeIds[n])&&tt.instance.compareFields(t.children,e.children)}function Tv(t,e){return t===e||ct(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&tt.instance.visit(t.indices,e.indices)&&tt.instance.visit(t.dictionary,e.dictionary)}function Iu(t,e){return t===e||ct(t,e)&&t.unit===e.unit}function Bv(t,e){return t===e||ct(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&tt.instance.compareFields(t.children,e.children)}function Iv(t,e){return t===e||ct(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&tt.instance.compareFields(t.children,e.children)}C.prototype.visitNull=Yi;C.prototype.visitBool=Yi;C.prototype.visitInt=mr;C.prototype.visitInt8=mr;C.prototype.visitInt16=mr;C.prototype.visitInt32=mr;C.prototype.visitInt64=mr;C.prototype.visitUint8=mr;C.prototype.visitUint16=mr;C.prototype.visitUint32=mr;C.prototype.visitUint64=mr;C.prototype.visitFloat=ao;C.prototype.visitFloat16=ao;C.prototype.visitFloat32=ao;C.prototype.visitFloat64=ao;C.prototype.visitUtf8=Yi;C.prototype.visitBinary=Yi;C.prototype.visitFixedSizeBinary=gv;C.prototype.visitDate=Tu;C.prototype.visitDateDay=Tu;C.prototype.visitDateMillisecond=Tu;C.prototype.visitTimestamp=Gi;C.prototype.visitTimestampSecond=Gi;C.prototype.visitTimestampMillisecond=Gi;C.prototype.visitTimestampMicrosecond=Gi;C.prototype.visitTimestampNanosecond=Gi;C.prototype.visitTime=$i;C.prototype.visitTimeSecond=$i;C.prototype.visitTimeMillisecond=$i;C.prototype.visitTimeMicrosecond=$i;C.prototype.visitTimeNanosecond=$i;C.prototype.visitDecimal=Yi;C.prototype.visitList=wv;C.prototype.visitStruct=vv;C.prototype.visitUnion=Bu;C.prototype.visitDenseUnion=Bu;C.prototype.visitSparseUnion=Bu;C.prototype.visitDictionary=Tv;C.prototype.visitInterval=Iu;C.prototype.visitIntervalDayTime=Iu;C.prototype.visitIntervalYearMonth=Iu;C.prototype.visitFixedSizeList=Bv;C.prototype.visitMap=Iv;tt.instance=new C});var ce=T(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.strideForType=S.Dictionary=S.Map_=S.FixedSizeList=S.FixedSizeBinary=S.SparseUnion=S.DenseUnion=S.Union=S.Struct=S.List=S.IntervalYearMonth=S.IntervalDayTime=S.Interval=S.TimestampNanosecond=S.TimestampMicrosecond=S.TimestampMillisecond=S.TimestampSecond=S.Timestamp=S.TimeNanosecond=S.TimeMicrosecond=S.TimeMillisecond=S.TimeSecond=S.Time=S.DateMillisecond=S.DateDay=S.Date_=S.Decimal=S.Bool=S.Utf8=S.Binary=S.Float64=S.Float32=S.Float16=S.Float=S.Uint64=S.Uint32=S.Uint16=S.Uint8=S.Int64=S.Int32=S.Int16=S.Int8=S.Int=S.Null=S.DataType=void 0;var Sv=Su(),M=pe(),Te=class{static isNull(e){return e&&e.typeId===M.Type.Null}static isInt(e){return e&&e.typeId===M.Type.Int}static isFloat(e){return e&&e.typeId===M.Type.Float}static isBinary(e){return e&&e.typeId===M.Type.Binary}static isUtf8(e){return e&&e.typeId===M.Type.Utf8}static isBool(e){return e&&e.typeId===M.Type.Bool}static isDecimal(e){return e&&e.typeId===M.Type.Decimal}static isDate(e){return e&&e.typeId===M.Type.Date}static isTime(e){return e&&e.typeId===M.Type.Time}static isTimestamp(e){return e&&e.typeId===M.Type.Timestamp}static isInterval(e){return e&&e.typeId===M.Type.Interval}static isList(e){return e&&e.typeId===M.Type.List}static isStruct(e){return e&&e.typeId===M.Type.Struct}static isUnion(e){return e&&e.typeId===M.Type.Union}static isFixedSizeBinary(e){return e&&e.typeId===M.Type.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===M.Type.FixedSizeList}static isMap(e){return e&&e.typeId===M.Type.Map}static isDictionary(e){return e&&e.typeId===M.Type.Dictionary}get typeId(){return M.Type.NONE}compareTo(e){return Sv.instance.visit(this,e)}};S.DataType=Te;Te[Symbol.toStringTag]=(t=>(t.children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType"))(Te.prototype);var uo=class extends Te{toString(){return"Null"}get typeId(){return M.Type.Null}};S.Null=uo;uo[Symbol.toStringTag]=(t=>t[Symbol.toStringTag]="Null")(uo.prototype);var wt=class extends Te{constructor(e,r){super();this.isSigned=e,this.bitWidth=r}get typeId(){return M.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};S.Int=wt;wt[Symbol.toStringTag]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(wt.prototype);var Ou=class extends wt{constructor(){super(!0,8)}};S.Int8=Ou;var Au=class extends wt{constructor(){super(!0,16)}};S.Int16=Au;var Du=class extends wt{constructor(){super(!0,32)}};S.Int32=Du;var Fu=class extends wt{constructor(){super(!0,64)}};S.Int64=Fu;var Eu=class extends wt{constructor(){super(!1,8)}};S.Uint8=Eu;var Ru=class extends wt{constructor(){super(!1,16)}};S.Uint16=Ru;var Uu=class extends wt{constructor(){super(!1,32)}};S.Uint32=Uu;var Mu=class extends wt{constructor(){super(!1,64)}};S.Uint64=Mu;Object.defineProperty(Ou.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Au.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Du.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Fu.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Eu.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Ru.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Uu.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(Mu.prototype,"ArrayType",{value:Uint32Array});var hn=class extends Te{constructor(e){super();this.precision=e}get typeId(){return M.Type.Float}get ArrayType(){switch(this.precision){case M.Precision.HALF:return Uint16Array;case M.Precision.SINGLE:return Float32Array;case M.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};S.Float=hn;hn[Symbol.toStringTag]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(hn.prototype);var Pu=class extends hn{constructor(){super(M.Precision.HALF)}};S.Float16=Pu;var Vu=class extends hn{constructor(){super(M.Precision.SINGLE)}};S.Float32=Vu;var ku=class extends hn{constructor(){super(M.Precision.DOUBLE)}};S.Float64=ku;Object.defineProperty(Pu.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Vu.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(ku.prototype,"ArrayType",{value:Float64Array});var co=class extends Te{constructor(){super()}get typeId(){return M.Type.Binary}toString(){return"Binary"}};S.Binary=co;co[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(co.prototype);var lo=class extends Te{constructor(){super()}get typeId(){return M.Type.Utf8}toString(){return"Utf8"}};S.Utf8=lo;lo[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(lo.prototype);var fo=class extends Te{constructor(){super()}get typeId(){return M.Type.Bool}toString(){return"Bool"}};S.Bool=fo;fo[Symbol.toStringTag]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(fo.prototype);var ho=class extends Te{constructor(e,r){super();this.scale=e,this.precision=r}get typeId(){return M.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};S.Decimal=ho;ho[Symbol.toStringTag]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(ho.prototype);var Nn=class extends Te{constructor(e){super();this.unit=e}get typeId(){return M.Type.Date}toString(){return`Date${(this.unit+1)*32}<${M.DateUnit[this.unit]}>`}};S.Date_=Nn;Nn[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Nn.prototype);var fh=class extends Nn{constructor(){super(M.DateUnit.DAY)}};S.DateDay=fh;var hh=class extends Nn{constructor(){super(M.DateUnit.MILLISECOND)}};S.DateMillisecond=hh;var Dr=class extends Te{constructor(e,r){super();this.unit=e,this.bitWidth=r}get typeId(){return M.Type.Time}toString(){return`Time${this.bitWidth}<${M.TimeUnit[this.unit]}>`}};S.Time=Dr;Dr[Symbol.toStringTag]=(t=>(t.unit=null,t.bitWidth=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Time"))(Dr.prototype);var ph=class extends Dr{constructor(){super(M.TimeUnit.SECOND,32)}};S.TimeSecond=ph;var yh=class extends Dr{constructor(){super(M.TimeUnit.MILLISECOND,32)}};S.TimeMillisecond=yh;var mh=class extends Dr{constructor(){super(M.TimeUnit.MICROSECOND,64)}};S.TimeMicrosecond=mh;var bh=class extends Dr{constructor(){super(M.TimeUnit.NANOSECOND,64)}};S.TimeNanosecond=bh;var Fr=class extends Te{constructor(e,r){super();this.unit=e,this.timezone=r}get typeId(){return M.Type.Timestamp}toString(){return`Timestamp<${M.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};S.Timestamp=Fr;Fr[Symbol.toStringTag]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Fr.prototype);var _h=class extends Fr{constructor(e){super(M.TimeUnit.SECOND,e)}};S.TimestampSecond=_h;var gh=class extends Fr{constructor(e){super(M.TimeUnit.MILLISECOND,e)}};S.TimestampMillisecond=gh;var wh=class extends Fr{constructor(e){super(M.TimeUnit.MICROSECOND,e)}};S.TimestampMicrosecond=wh;var vh=class extends Fr{constructor(e){super(M.TimeUnit.NANOSECOND,e)}};S.TimestampNanosecond=vh;var Ln=class extends Te{constructor(e){super();this.unit=e}get typeId(){return M.Type.Interval}toString(){return`Interval<${M.IntervalUnit[this.unit]}>`}};S.Interval=Ln;Ln[Symbol.toStringTag]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Ln.prototype);var Th=class extends Ln{constructor(){super(M.IntervalUnit.DAY_TIME)}};S.IntervalDayTime=Th;var Bh=class extends Ln{constructor(){super(M.IntervalUnit.YEAR_MONTH)}};S.IntervalYearMonth=Bh;var po=class extends Te{constructor(e){super();this.children=[e]}get typeId(){return M.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};S.List=po;po[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(po.prototype);var yo=class extends Te{constructor(e){super();this.children=e}get typeId(){return M.Type.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};S.Struct=yo;yo[Symbol.toStringTag]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(yo.prototype);var xn=class extends Te{constructor(e,r,n){super();this.mode=e,this.children=n,this.typeIds=r=Int32Array.from(r),this.typeIdToChildIndex=r.reduce((i,o,u)=>(i[o]=u)&&i||i,Object.create(null))}get typeId(){return M.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}};S.Union=xn;xn[Symbol.toStringTag]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(xn.prototype);var Ih=class extends xn{constructor(e,r){super(M.UnionMode.Dense,e,r)}};S.DenseUnion=Ih;var Sh=class extends xn{constructor(e,r){super(M.UnionMode.Sparse,e,r)}};S.SparseUnion=Sh;var mo=class extends Te{constructor(e){super();this.byteWidth=e}get typeId(){return M.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};S.FixedSizeBinary=mo;mo[Symbol.toStringTag]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(mo.prototype);var bo=class extends Te{constructor(e,r){super();this.listSize=e,this.children=[r]}get typeId(){return M.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};S.FixedSizeList=bo;bo[Symbol.toStringTag]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(bo.prototype);var _o=class extends Te{constructor(e,r=!1){super();this.children=[e],this.keysSorted=r}get typeId(){return M.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}};S.Map_=_o;_o[Symbol.toStringTag]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(_o.prototype);var Ov=(t=>()=>++t)(-1),go=class extends Te{constructor(e,r,n,i){super();this.indices=r,this.dictionary=e,this.isOrdered=i||!1,this.id=n==null?Ov():typeof n=="number"?n:n.low}get typeId(){return M.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};S.Dictionary=go;go[Symbol.toStringTag]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(go.prototype);function Av(t){let e=t;switch(t.typeId){case M.Type.Decimal:return 4;case M.Type.Timestamp:return 2;case M.Type.Date:return 1+e.unit;case M.Type.Interval:return 1+e.unit;case M.Type.Int:return 1+ +(e.bitWidth>32);case M.Type.Time:return 1+ +(e.bitWidth>32);case M.Type.FixedSizeList:return e.listSize;case M.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}S.strideForType=Av});var kt=T(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.Data=pn.kUnknownNullCount=void 0;var Dv=Jt(),Fv=Jt(),V=pe(),Ev=ce(),re=Re();pn.kUnknownNullCount=-1;var Y=class{constructor(e,r,n,i,o,u,a){this.type=e,this.dictionary=a,this.offset=Math.floor(Math.max(r||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),this.childData=(u||[]).map(s=>s instanceof Y?s:s.data);let p;o instanceof Y?(this.stride=o.stride,this.values=o.values,this.typeIds=o.typeIds,this.nullBitmap=o.nullBitmap,this.valueOffsets=o.valueOffsets):(this.stride=Ev.strideForType(e),o&&((p=o[0])&&(this.valueOffsets=p),(p=o[1])&&(this.values=p),(p=o[2])&&(this.nullBitmap=p),(p=o[3])&&(this.typeIds=p)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:r,values:n,nullBitmap:i,typeIds:o}=this;return r&&(e+=r.byteLength),n&&(e+=n.byteLength),i&&(e+=i.byteLength),o&&(e+=o.byteLength),this.childData.reduce((u,a)=>u+a.byteLength,e)}get nullCount(){let e=this._nullCount,r;return e<=pn.kUnknownNullCount&&(r=this.nullBitmap)&&(this._nullCount=e=this.length-Fv.popcnt_bit_range(r,this.offset,this.offset+this.length)),e}clone(e,r=this.offset,n=this.length,i=this._nullCount,o=this,u=this.childData){return new Y(e,r,n,i,o,u,this.dictionary)}slice(e,r){let{stride:n,typeId:i,childData:o}=this,u=+(this._nullCount===0)-1,a=i===16?n:1,p=this._sliceBuffers(e,r,n,i);return this.clone(this.type,this.offset+e,r,u,p,!o.length||this.valueOffsets?o:this._sliceChildren(o,a*e,a*r))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===V.Type.Null)return this.clone(this.type,0,e,0);let{length:r,nullCount:n}=this,i=new Uint8Array((e+63&~63)>>3).fill(255,0,r>>3);i[r>>3]=(1<<r-(r&~7))-1,n>0&&i.set(Dv.truncateBitmap(this.offset,r,this.nullBitmap),0);let o=this.buffers;return o[V.BufferType.VALIDITY]=i,this.clone(this.type,0,e,n+(e-r),o)}_sliceBuffers(e,r,n,i){let o,{buffers:u}=this;return(o=u[V.BufferType.TYPE])&&(u[V.BufferType.TYPE]=o.subarray(e,e+r)),(o=u[V.BufferType.OFFSET])&&(u[V.BufferType.OFFSET]=o.subarray(e,e+r+1))||(o=u[V.BufferType.DATA])&&(u[V.BufferType.DATA]=i===6?o:o.subarray(n*e,n*(e+r))),u}_sliceChildren(e,r,n){return e.map(i=>i.slice(r,n))}static new(e,r,n,i,o,u,a){switch(o instanceof Y?o=o.buffers:o||(o=[]),e.typeId){case V.Type.Null:return Y.Null(e,r,n);case V.Type.Int:return Y.Int(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Dictionary:return Y.Dictionary(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[],a);case V.Type.Float:return Y.Float(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Bool:return Y.Bool(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Decimal:return Y.Decimal(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Date:return Y.Date(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Time:return Y.Time(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Timestamp:return Y.Timestamp(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Interval:return Y.Interval(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.FixedSizeBinary:return Y.FixedSizeBinary(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.DATA]||[]);case V.Type.Binary:return Y.Binary(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.OFFSET]||[],o[V.BufferType.DATA]||[]);case V.Type.Utf8:return Y.Utf8(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.OFFSET]||[],o[V.BufferType.DATA]||[]);case V.Type.List:return Y.List(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.OFFSET]||[],(u||[])[0]);case V.Type.FixedSizeList:return Y.FixedSizeList(e,r,n,i||0,o[V.BufferType.VALIDITY],(u||[])[0]);case V.Type.Struct:return Y.Struct(e,r,n,i||0,o[V.BufferType.VALIDITY],u||[]);case V.Type.Map:return Y.Map(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.OFFSET]||[],(u||[])[0]);case V.Type.Union:return Y.Union(e,r,n,i||0,o[V.BufferType.VALIDITY],o[V.BufferType.TYPE]||[],o[V.BufferType.OFFSET]||u,u)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,r,n){return new Y(e,r,n,0)}static Int(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Dictionary(e,r,n,i,o,u,a){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.indices.ArrayType,u),re.toUint8Array(o)],[],a)}static Float(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Bool(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Decimal(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Date(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Time(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Timestamp(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Interval(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static FixedSizeBinary(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,re.toArrayBufferView(e.ArrayType,u),re.toUint8Array(o)])}static Binary(e,r,n,i,o,u,a){return new Y(e,r,n,i,[re.toInt32Array(u),re.toUint8Array(a),re.toUint8Array(o)])}static Utf8(e,r,n,i,o,u,a){return new Y(e,r,n,i,[re.toInt32Array(u),re.toUint8Array(a),re.toUint8Array(o)])}static List(e,r,n,i,o,u,a){return new Y(e,r,n,i,[re.toInt32Array(u),void 0,re.toUint8Array(o)],a?[a]:[])}static FixedSizeList(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,void 0,re.toUint8Array(o)],u?[u]:[])}static Struct(e,r,n,i,o,u){return new Y(e,r,n,i,[void 0,void 0,re.toUint8Array(o)],u)}static Map(e,r,n,i,o,u,a){return new Y(e,r,n,i,[re.toInt32Array(u),void 0,re.toUint8Array(o)],a?[a]:[])}static Union(e,r,n,i,o,u,a,p){let s=[void 0,void 0,re.toUint8Array(o),re.toArrayBufferView(e.ArrayType,u)];return e.mode===V.UnionMode.Sparse?new Y(e,r,n,i,s,a):(s[V.BufferType.OFFSET]=re.toInt32Array(a),new Y(e,r,n,i,s,p))}};pn.Data=Y;Y.prototype.childData=Object.freeze([])});var Nu=T(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.valueToString=void 0;var Rv=void 0;function Uv(t){if(t===null)return"null";if(t===Rv)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t)}wo.valueToString=Uv});var Oh=T(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.createIsValidFunction=void 0;var Lu=Nu(),Mv=et();function Pv(t){if(!t||t.length<=0)return function(i){return!0};let e="",r=t.filter(n=>n===n);return r.length>0&&(e=`
    switch (x) {${r.map(n=>`
        case ${Vv(n)}:`).join("")}
            return false;
    }`),t.length!==r.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}vo.createIsValidFunction=Pv;function Vv(t){return typeof t!="bigint"?Lu.valueToString(t):Mv.BigIntAvailable?`${Lu.valueToString(t)}n`:`"${Lu.valueToString(t)}"`}});var Er=T(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.WideBufferBuilder=vt.OffsetsBufferBuilder=vt.BitmapBufferBuilder=vt.DataBufferBuilder=vt.BufferBuilder=void 0;var Ah=Re(),xu=et(),Cu=(t,e)=>(t*e+63&~63||64)/e,kv=(t,e=0)=>t.length>=e?t.subarray(0,e):Ah.memcpy(new t.constructor(e),t,0),Ji=class{constructor(e,r=1){this.buffer=e,this.stride=r,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/r|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,r){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let r=this.stride,n=this.length*r,i=this.buffer.length;n>=i&&this._resize(i===0?Cu(n*1,this.BYTES_PER_ELEMENT):Cu(n*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=Cu(e*this.stride,this.BYTES_PER_ELEMENT);let r=kv(this.buffer,e);return this.clear(),r}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=Ah.memcpy(new this.ArrayType(e),this.buffer)}};vt.BufferBuilder=Ji;Ji.prototype.offset=0;var To=class extends Ji{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,r){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=r,this}};vt.DataBufferBuilder=To;var Dh=class extends To{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,r){let{buffer:n}=this.reserve(e-this.length+1),i=e>>3,o=e%8,u=n[i]>>o&1;return r?u===0&&(n[i]|=1<<o,++this.numValid):u===1&&(n[i]&=~(1<<o),--this.numValid),this}clear(){return this.numValid=0,super.clear()}};vt.BitmapBufferBuilder=Dh;var Fh=class extends To{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,r){let n=this.length-1,i=this.reserve(e-n+1).buffer;return n<e++&&i.fill(i[n],n,e),i[e]=i[e-1]+r,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}};vt.OffsetsBufferBuilder=Fh;var Eh=class extends Ji{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?xu.BigInt64Array:xu.BigUint64Array)}set(e,r){switch(this.reserve(e-this.length+1),typeof r){case"bigint":this.buffer64[e]=r;break;case"number":this.buffer[e*this.stride]=r;break;default:this.buffer.set(r,e*this.stride)}return this}_resize(e){let r=super._resize(e),n=r.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return xu.BigIntAvailable&&(this.buffer64=new this.ArrayType64(r.buffer,r.byteOffset,n)),r}};vt.WideBufferBuilder=Eh});var Be=T(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.VariableWidthBuilder=Rr.FixedWidthBuilder=Rr.Builder=void 0;var Nv=Ae(),Cn=pe(),Lv=kt(),xv=Oh(),ju=Er(),Cv=ce(),Tt=class{constructor({type:e,nullValues:r}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=r,this.stride=Cv.strideForType(e),this._nulls=new ju.BitmapBufferBuilder,r&&r.length>0&&(this._isValid=xv.createIsValidFunction(r))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return jv(e)}static throughAsyncIterable(e){return qv(e)}toVector(){return Nv.Vector.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((r,n)=>r+n.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((r,n)=>r+n.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,r){return this.setValid(e,this.isValid(r))&&this.setValue(e,r),this}setValue(e,r){this._setValue(this,e,r)}setValid(e,r){return this.length=this._nulls.set(e,+r).length,r}addChild(e,r=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],r=this._values,n=this._offsets,i=this._typeIds,{length:o,nullCount:u}=this;i?(e[Cn.BufferType.TYPE]=i.flush(o),n&&(e[Cn.BufferType.OFFSET]=n.flush(o))):n?(r&&(e[Cn.BufferType.DATA]=r.flush(n.last())),e[Cn.BufferType.OFFSET]=n.flush(o)):r&&(e[Cn.BufferType.DATA]=r.flush(o)),u>0&&(e[Cn.BufferType.VALIDITY]=this._nulls.flush(o));let a=Lv.Data.new(this.type,0,o,u,e,this.children.map(p=>p.flush()));return this.clear(),a}finish(){return this.finished=!0,this.children.forEach(e=>e.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(e=>e.clear()),this}};Rr.Builder=Tt;Tt.prototype.length=1;Tt.prototype.stride=1;Tt.prototype.children=null;Tt.prototype.finished=!1;Tt.prototype.nullValues=null;Tt.prototype._isValid=()=>!0;var Rh=class extends Tt{constructor(e){super(e);this._values=new ju.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,r){let n=this._values;return n.reserve(e-n.length+1),super.setValue(e,r)}};Rr.FixedWidthBuilder=Rh;var Uh=class extends Tt{constructor(e){super(e);this._pendingLength=0,this._offsets=new ju.OffsetsBufferBuilder}setValue(e,r){let n=this._pending||(this._pending=new Map),i=n.get(e);i&&(this._pendingLength-=i.length),this._pendingLength+=r.length,n.set(e,r)}setValid(e,r){return super.setValid(e,r)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,r=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,r),this}};Rr.VariableWidthBuilder=Uh;function jv(t){let{["queueingStrategy"]:e="count"}=t,{["highWaterMark"]:r=e!=="bytes"?1e3:2**14}=t,n=e!=="bytes"?"length":"byteLength";return function*(i){let o=0,u=Tt.new(t);for(let a of i)u.append(a)[n]>=r&&++o&&(yield u.toVector());(u.finish().length>0||o===0)&&(yield u.toVector())}}function qv(t){let{["queueingStrategy"]:e="count"}=t,{["highWaterMark"]:r=e!=="bytes"?1e3:2**14}=t,n=e!=="bytes"?"length":"byteLength";return async function*(i){let o=0,u=Tt.new(t);for await(let a of i)u.append(a)[n]>=r&&++o&&(yield u.toVector());(u.finish().length>0||o===0)&&(yield u.toVector())}}});var qu=T(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.BoolBuilder=void 0;var Wv=Er(),zv=Be(),Mh=class extends zv.Builder{constructor(e){super(e);this._values=new Wv.BitmapBufferBuilder}setValue(e,r){this._values.set(e,+r)}};Bo.BoolBuilder=Mh});var Wu=T(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.NullBuilder=void 0;var Hv=Be(),Ph=class extends Hv.Builder{setValue(e,r){}setValid(e,r){return this.length=Math.max(e+1,this.length),r}};Io.NullBuilder=Ph});var zu=T(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.DateMillisecondBuilder=Ur.DateDayBuilder=Ur.DateBuilder=void 0;var Yv=Be(),So=class extends Yv.FixedWidthBuilder{};Ur.DateBuilder=So;var Vh=class extends So{};Ur.DateDayBuilder=Vh;var kh=class extends So{};Ur.DateMillisecondBuilder=kh});var Hu=T(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.DecimalBuilder=void 0;var Gv=Be(),Nh=class extends Gv.FixedWidthBuilder{};Oo.DecimalBuilder=Nh});var Gu=T(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.DictionaryBuilder=void 0;var $v=ce(),Yu=Be(),Lh=class extends Yu.Builder{constructor({type:e,nullValues:r,dictionaryHashFunction:n}){super({type:new $v.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Yu.Builder.new({type:this.type.indices,nullValues:r}),this.dictionary=Yu.Builder.new({type:this.type.dictionary,nullValues:null}),typeof n=="function"&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,r){let n=this.indices;return r=n.setValid(e,r),this.length=n.length,r}setValue(e,r){let n=this._keysToIndices,i=this.valueToKey(r),o=n[i];return o===void 0&&(n[i]=o=this._dictionaryOffset+this.dictionary.append(r).length-1),this.indices.setValue(e,o)}flush(){let e=this.type,r=this._dictionary,n=this.dictionary.toVector(),i=this.indices.flush().clone(e);return i.dictionary=r?r.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=i.dictionary,this.clear(),i}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};Ao.DictionaryBuilder=Lh});var $u=T(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.FixedSizeBinaryBuilder=void 0;var Jv=Be(),xh=class extends Jv.FixedWidthBuilder{};Do.FixedSizeBinaryBuilder=xh});var Ki=T(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.float64ToUint16=qn.uint16ToFloat64=void 0;var Ch=new Float64Array(1),jn=new Uint32Array(Ch.buffer);function Kv(t){let e=(t&31744)>>10,r=(t&1023)/1024,n=(-1)**((t&32768)>>15);switch(e){case 31:return n*(r?NaN:1/0);case 0:return n*(r?6103515625e-14*r:0)}return n*2**(e-15)*(1+r)}qn.uint16ToFloat64=Kv;function Qv(t){if(t!==t)return 32256;Ch[0]=t;let e=(jn[1]&2147483648)>>16&65535,r=jn[1]&2146435072,n=0;return r>=1089470464?jn[0]>0?r=31744:(r=(r&2080374784)>>16,n=(jn[1]&1048575)>>10):r<=1056964608?(n=1048576+(jn[1]&1048575),n=1048576+(n<<(r>>20)-998)>>21,r=0):(r=r-1056964608>>10,n=(jn[1]&1048575)+512>>10),e|r|n&65535}qn.float64ToUint16=Qv});var Ju=T(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.Float64Builder=Kt.Float32Builder=Kt.Float16Builder=Kt.FloatBuilder=void 0;var Xv=Ki(),Zv=Be(),Qi=class extends Zv.FixedWidthBuilder{};Kt.FloatBuilder=Qi;var jh=class extends Qi{setValue(e,r){this._values.set(e,Xv.float64ToUint16(r))}};Kt.Float16Builder=jh;var qh=class extends Qi{setValue(e,r){this._values.set(e,r)}};Kt.Float32Builder=qh;var Wh=class extends Qi{setValue(e,r){this._values.set(e,r)}};Kt.Float64Builder=Wh});var es=T(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.BN=Le.bignumToBigInt=Le.bignumToString=Le.isArrowBigNumSymbol=void 0;var eT=Re(),Xi=et();Le.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function Nt(t,...e){return e.length===0?Object.setPrototypeOf(eT.toArrayBufferView(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}Nt.prototype[Le.isArrowBigNumSymbol]=!0;Nt.prototype.toJSON=function(){return`"${Le.bignumToString(this)}"`};Nt.prototype.valueOf=function(){return zh(this)};Nt.prototype.toString=function(){return Le.bignumToString(this)};Nt.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return zh(this);case"string":return Le.bignumToString(this);case"default":return Le.bignumToBigInt(this)}return Le.bignumToString(this)};function Wn(...t){return Nt.apply(this,t)}function zn(...t){return Nt.apply(this,t)}function Zi(...t){return Nt.apply(this,t)}Object.setPrototypeOf(Wn.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(zn.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Zi.prototype,Object.create(Uint32Array.prototype));Object.assign(Wn.prototype,Nt.prototype,{constructor:Wn,signed:!0,TypedArray:Int32Array,BigIntArray:Xi.BigInt64Array});Object.assign(zn.prototype,Nt.prototype,{constructor:zn,signed:!1,TypedArray:Uint32Array,BigIntArray:Xi.BigUint64Array});Object.assign(Zi.prototype,Nt.prototype,{constructor:Zi,signed:!0,TypedArray:Uint32Array,BigIntArray:Xi.BigUint64Array});function zh(t){let{buffer:e,byteOffset:r,length:n,signed:i}=t,o=new Int32Array(e,r,n),u=0,a=0,p=o.length,s,l;for(;a<p;)l=o[a++],s=o[a++],i||(s=s>>>0),u+=(l>>>0)+s*a**32;return u}Xi.BigIntAvailable?(Le.bignumToBigInt=t=>t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:Ku(t),Le.bignumToString=t=>t.byteLength===8?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:Ku(t)):(Le.bignumToString=Ku,Le.bignumToBigInt=Le.bignumToString);function Ku(t){let e="",r=new Uint32Array(2),n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),i=new Uint32Array((n=new Uint16Array(n).reverse()).buffer),o=-1,u=n.length-1;do{for(r[0]=n[o=0];o<u;)n[o++]=r[1]=r[0]/10,r[0]=(r[0]-r[1]*10<<16)+n[o];n[o]=r[1]=r[0]/10,r[0]=r[0]-r[1]*10,e=`${r[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e||"0"}var Fo=class{static new(e,r){switch(r){case!0:return new Wn(e);case!1:return new zn(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case Xi.BigInt64Array:return new Wn(e)}return e.byteLength===16?new Zi(e):new zn(e)}static signed(e){return new Wn(e)}static unsigned(e){return new zn(e)}static decimal(e){return new Zi(e)}constructor(e,r){return Fo.new(e,r)}};Le.BN=Fo});var Qu=T(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.Uint64Builder=Me.Uint32Builder=Me.Uint16Builder=Me.Uint8Builder=Me.Int64Builder=Me.Int32Builder=Me.Int16Builder=Me.Int8Builder=Me.IntBuilder=void 0;var tT=es(),Hh=Er(),rT=et(),nT=Be(),Qt=class extends nT.FixedWidthBuilder{setValue(e,r){this._values.set(e,r)}};Me.IntBuilder=Qt;var Yh=class extends Qt{};Me.Int8Builder=Yh;var Gh=class extends Qt{};Me.Int16Builder=Gh;var $h=class extends Qt{};Me.Int32Builder=$h;var Jh=class extends Qt{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(Eo));super(e);this._values=new Hh.WideBufferBuilder(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(Eo(e))}};Me.Int64Builder=Jh;var Kh=class extends Qt{};Me.Uint8Builder=Kh;var Qh=class extends Qt{};Me.Uint16Builder=Qh;var Xh=class extends Qt{};Me.Uint32Builder=Xh;var Zh=class extends Qt{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(Eo));super(e);this._values=new Hh.WideBufferBuilder(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(Eo(e))}};Me.Uint64Builder=Zh;var Eo=(t=>e=>(ArrayBuffer.isView(e)&&(t.buffer=e.buffer,t.byteOffset=e.byteOffset,t.byteLength=e.byteLength,e=tT.bignumToBigInt(t),t.buffer=null),e))({BigIntArray:rT.BigInt64Array})});var Xu=T(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.TimeNanosecondBuilder=Bt.TimeMicrosecondBuilder=Bt.TimeMillisecondBuilder=Bt.TimeSecondBuilder=Bt.TimeBuilder=void 0;var iT=Be(),Hn=class extends iT.FixedWidthBuilder{};Bt.TimeBuilder=Hn;var ep=class extends Hn{};Bt.TimeSecondBuilder=ep;var tp=class extends Hn{};Bt.TimeMillisecondBuilder=tp;var rp=class extends Hn{};Bt.TimeMicrosecondBuilder=rp;var np=class extends Hn{};Bt.TimeNanosecondBuilder=np});var Zu=T(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.TimestampNanosecondBuilder=It.TimestampMicrosecondBuilder=It.TimestampMillisecondBuilder=It.TimestampSecondBuilder=It.TimestampBuilder=void 0;var sT=Be(),Yn=class extends sT.FixedWidthBuilder{};It.TimestampBuilder=Yn;var ip=class extends Yn{};It.TimestampSecondBuilder=ip;var sp=class extends Yn{};It.TimestampMillisecondBuilder=sp;var op=class extends Yn{};It.TimestampMicrosecondBuilder=op;var ap=class extends Yn{};It.TimestampNanosecondBuilder=ap});var ec=T(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.IntervalYearMonthBuilder=Mr.IntervalDayTimeBuilder=Mr.IntervalBuilder=void 0;var oT=Be(),Ro=class extends oT.FixedWidthBuilder{};Mr.IntervalBuilder=Ro;var up=class extends Ro{};Mr.IntervalDayTimeBuilder=up;var cp=class extends Ro{};Mr.IntervalYearMonthBuilder=cp});var Mo=T(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.BinaryBuilder=void 0;var aT=Re(),uT=Er(),cT=Be(),lp=class extends cT.VariableWidthBuilder{constructor(e){super(e);this._values=new uT.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,aT.toUint8Array(r))}_flushPending(e,r){let n=this._offsets,i=this._values.reserve(r).buffer,o=0,u=0,a=0,p;for([o,p]of e)p===void 0?n.set(o,0):(u=p.length,i.set(p,a),n.set(o,u),a+=u)}};Uo.BinaryBuilder=lp});var Vo=T(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.Utf8Builder=void 0;var lT=ln(),dT=Mo(),fT=Er(),hT=Be(),tc=class extends hT.VariableWidthBuilder{constructor(e){super(e);this._values=new fT.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,lT.encodeUtf8(r))}_flushPending(e,r){}};Po.Utf8Builder=tc;tc.prototype._flushPending=dT.BinaryBuilder.prototype._flushPending});var rc=T(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.Run=void 0;var pT=Ae(),dp=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof pT.Vector?e:(this._values=e,this)}};ko.Run=dp});var ts=T($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.StructRow=$n.MapRow=void 0;var fp=Nu(),Ke=Symbol.for("parent"),Gn=Symbol.for("rowIndex"),ft=Symbol.for("keyToIdx"),ht=Symbol.for("idxToVal"),nc=Symbol.for("nodejs.util.inspect.custom"),Xt=class{constructor(e,r){this[Ke]=e,this.size=r}entries(){return this[Symbol.iterator]()}has(e){return this.get(e)!==void 0}get(e){let r;if(e!=null){let n=this[ft]||(this[ft]=new Map),i=n.get(e);if(i!==void 0){let o=this[ht]||(this[ht]=new Array(this.size));(r=o[i])!==void 0||(o[i]=r=this.getValue(i))}else if((i=this.getIndex(e))>-1){n.set(e,i);let o=this[ht]||(this[ht]=new Array(this.size));(r=o[i])!==void 0||(o[i]=r=this.getValue(i))}}return r}set(e,r){if(e!=null){let n=this[ft]||(this[ft]=new Map),i=n.get(e);if(i===void 0&&n.set(e,i=this.getIndex(e)),i>-1){let o=this[ht]||(this[ht]=new Array(this.size));o[i]=this.setValue(i,r)}}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){let e=this.keys(),r=this.values(),n=this[ft]||(this[ft]=new Map),i=this[ht]||(this[ht]=new Array(this.size));for(let o,u,a=0,p,s;!((p=e.next()).done||(s=r.next()).done);++a)o=p.value,u=s.value,i[a]=u,n.has(o)||n.set(o,a),yield[o,u]}forEach(e,r){let n=this.keys(),i=this.values(),o=r===void 0?e:(p,s,l)=>e.call(r,p,s,l),u=this[ft]||(this[ft]=new Map),a=this[ht]||(this[ht]=new Array(this.size));for(let p,s,l=0,g,L;!((g=n.next()).done||(L=i.next()).done);++l)p=g.value,s=L.value,a[l]=s,u.has(p)||u.set(p,l),o(s,p,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach((r,n)=>e[n]=r),e}inspect(){return this.toString()}[nc](){return this.toString()}toString(){let e=[];return this.forEach((r,n)=>{n=fp.valueToString(n),r=fp.valueToString(r),e.push(`${n}: ${r}`)}),`{ ${e.join(", ")} }`}};Xt[Symbol.toStringTag]=(t=>(Object.defineProperties(t,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[Ke]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Gn]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),t[Symbol.toStringTag]="Row"))(Xt.prototype);var hp=class extends Xt{constructor(e){super(e,e.length);return yT(this)}keys(){return this[Ke].getChildAt(0)[Symbol.iterator]()}values(){return this[Ke].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[Ke].getChildAt(0).get(e)}getIndex(e){return this[Ke].getChildAt(0).indexOf(e)}getValue(e){return this[Ke].getChildAt(1).get(e)}setValue(e,r){this[Ke].getChildAt(1).set(e,r)}};$n.MapRow=hp;var pp=class extends Xt{constructor(e){super(e,e.type.children.length);return yp(this)}*keys(){for(let e of this[Ke].type.children)yield e.name}*values(){for(let e of this[Ke].type.children)yield this[e.name]}getKey(e){return this[Ke].type.children[e].name}getIndex(e){return this[Ke].type.children.findIndex(r=>r.name===e)}getValue(e){return this[Ke].getChildAt(e).get(this[Gn])}setValue(e,r){return this[Ke].getChildAt(e).set(this[Gn],r)}};$n.StructRow=pp;Object.setPrototypeOf(Xt.prototype,Map.prototype);var yp=(()=>{let t={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let r=-1,n=e[ft]||(e[ft]=new Map),i=u=>function(){return this.get(u)},o=u=>function(a){return this.set(u,a)};for(let u of e.keys())n.set(u,++r),t.get=i(u),t.set=o(u),e.hasOwnProperty(u)||(t.enumerable=!0,Object.defineProperty(e,u,t)),e.hasOwnProperty(r)||(t.enumerable=!1,Object.defineProperty(e,r,t));return t.get=t.set=null,e}})(),yT=(()=>{if(typeof Proxy=="undefined")return yp;let t=Xt.prototype.has,e=Xt.prototype.get,r=Xt.prototype.set,n=Xt.prototype.getKey,i={isExtensible(){return!1},deleteProperty(){return!1},preventExtensions(){return!0},ownKeys(o){return[...o.keys()].map(u=>`${u}`)},has(o,u){switch(u){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Ke:case Gn:case ht:case ft:case nc:return!0}return typeof u=="number"&&!o.has(u)&&(u=o.getKey(u)),o.has(u)},get(o,u,a){switch(u){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case Ke:case Gn:case ht:case ft:case nc:return Reflect.get(o,u,a)}return typeof u=="number"&&!t.call(a,u)&&(u=n.call(a,u)),e.call(a,u)},set(o,u,a,p){switch(u){case Ke:case Gn:case ht:case ft:return Reflect.set(o,u,a,p);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return typeof u=="number"&&!t.call(p,u)&&(u=n.call(p,u)),t.call(p,u)?!!r.call(p,u,a):!1}};return o=>new Proxy(o,i)})()});var ns=T(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.createElementComparator=Pr.clampRange=Pr.clampIndex=void 0;var mp=Ae(),bp=ts(),mT=Re(),_p=et();function bT(t,e,r){let n=t.length,i=e>-1?e:n+e%n;return r?r(t,i):i}Pr.clampIndex=bT;var gp;function _T(t,e,r,n){let{length:i=0}=t,o=typeof e!="number"?0:e,u=typeof r!="number"?i:r;return o<0&&(o=(o%i+i)%i),u<0&&(u=(u%i+i)%i),u<o&&(gp=o,o=u,u=gp),u>i&&(u=i),n?n(t,o,u):[o,u]}Pr.clampRange=_T;var gT=_p.BigIntAvailable?_p.BigInt(0):0,wp=t=>t!==t;function rs(t){let e=typeof t;if(e!=="object"||t===null)return wp(t)?wp:e!=="bigint"?r=>r===t:r=>gT+r===t;if(t instanceof Date){let r=t.valueOf();return n=>n instanceof Date?n.valueOf()===r:!1}return ArrayBuffer.isView(t)?r=>r?mT.compareArrayLike(t,r):!1:t instanceof Map?vT(t):Array.isArray(t)?wT(t):t instanceof mp.Vector?TT(t):BT(t)}Pr.createElementComparator=rs;function wT(t){let e=[];for(let r=-1,n=t.length;++r<n;)e[r]=rs(t[r]);return No(e)}function vT(t){let e=-1,r=[];return t.forEach(n=>r[++e]=rs(n)),No(r)}function TT(t){let e=[];for(let r=-1,n=t.length;++r<n;)e[r]=rs(t.get(r));return No(e)}function BT(t){let e=Object.keys(t);if(e.length===0)return()=>!1;let r=[];for(let n=-1,i=e.length;++n<i;)r[n]=rs(t[e[n]]);return No(r,e)}function No(t,e){return r=>{if(!r||typeof r!="object")return!1;switch(r.constructor){case Array:return IT(t,r);case Map:case bp.MapRow:case bp.StructRow:return vp(t,r,r.keys());case Object:case void 0:return vp(t,r,e||Object.keys(r))}return r instanceof mp.Vector?ST(t,r):!1}}function IT(t,e){let r=t.length;if(e.length!==r)return!1;for(let n=-1;++n<r;)if(!t[n](e[n]))return!1;return!0}function ST(t,e){let r=t.length;if(e.length!==r)return!1;for(let n=-1;++n<r;)if(!t[n](e.get(n)))return!1;return!0}function vp(t,e,r){let n=r[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),o=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),u=0,a=t.length,p=o.next(),s=n.next(),l=i.next();for(;u<a&&!s.done&&!l.done&&!p.done&&!(s.value!==l.value||!t[u](p.value));++u,s=n.next(),l=i.next(),p=o.next());return u===a&&s.done&&l.done&&p.done?!0:(n.return&&n.return(),i.return&&i.return(),o.return&&o.return(),!1)}});var Vr=T(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.Chunked=void 0;var OT=ns(),Tp=ce(),AT=kr(),Bp=Ae(),br=class extends Bp.AbstractVector{constructor(e,r=[],n=DT(r)){super();this._nullCount=-1,this._type=e,this._chunks=r,this._chunkOffsets=n,this._length=n[n.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return AT.selectChunkArgs(Bp.Vector,e)}static concat(...e){let r=br.flatten(...e);return new br(r[0].type,r)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((e,r)=>e+r.byteLength,0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((r,{nullCount:n})=>r+n,0)),e}get indices(){if(Tp.DataType.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=e.length===1?e[0].indices:br.concat(...e.map(r=>r.indices))}return this._indices}return null}get dictionary(){return Tp.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}*[Symbol.iterator](){for(let e of this._chunks)yield*e}clone(e=this._chunks){return new br(this._type,e)}concat(...e){return this.clone(br.flatten(this,...e))}slice(e,r){return OT.clampRange(this,e,r,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let r=this._children||(this._children=[]),n,i,o;return(n=r[e])?n:(i=(this._type.children||[])[e])&&(o=this._chunks.map(u=>u.getChildAt(e)).filter(u=>u!=null),o.length>0)?r[e]=new br(i.type,o):null}search(e,r){let n=e,i=this._chunkOffsets,o=i.length-1;if(n<0||n>=i[o])return null;if(o<=1)return r?r(this,0,n):[0,n];let u=0,a=0,p=0;do{if(u+1===o)return r?r(this,u,n-a):[u,n-a];p=u+(o-u)/2|0,n>=i[p]?u=p:o=p}while(n<i[o]&&n>=(a=i[u]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,r){this.search(e,({chunks:n},i,o)=>n[i].set(o,r))}indexOf(e,r){return r&&typeof r=="number"?this.search(r,(n,i,o)=>this.indexOfInternal(n,i,o,e)):this.indexOfInternal(this,0,Math.max(0,r||0),e)}toArray(){let{chunks:e}=this,r=e.length,n=this._type.ArrayType;if(r<=0)return new n(0);if(r<=1)return e[0].toArray();let i=0,o=new Array(r);for(let p=-1;++p<r;)i+=(o[p]=e[p].toArray()).length;n!==o[0].constructor&&(n=o[0].constructor);let u=new n(i),a=n===Array?ET:FT;for(let p=-1,s=0;++p<r;)s=a(o[p],u,s);return u}getInternal({_chunks:e},r,n){return e[r].get(n)}isValidInternal({_chunks:e},r,n){return e[r].isValid(n)}indexOfInternal({_chunks:e},r,n,i){let o=r-1,u=e.length,a=n,p=0,s=-1;for(;++o<u;){if(~(s=e[o].indexOf(i,a)))return p+s;a=0,p+=e[o].length}return-1}_sliceInternal(e,r,n){let i=[],{chunks:o,_chunkOffsets:u}=e;for(let a=-1,p=o.length;++a<p;){let s=o[a],l=s.length,g=u[a];if(g>=n)break;if(r>=g+l)continue;if(g>=r&&g+l<=n){i.push(s);continue}let L=Math.max(0,r-g),ae=Math.min(n-g,l);i.push(s.slice(L,ae))}return e.clone(i)}};Lo.Chunked=br;function DT(t){let e=new Uint32Array((t||[]).length+1),r=e[0]=0,n=e.length;for(let i=0;++i<n;)e[i]=r+=t[i-1].length;return e}var FT=(t,e,r)=>(e.set(t,r),r+t.length),ET=(t,e,r)=>{let n=r;for(let i=-1,o=t.length;++i<o;)e[n++]=t[i];return n}});var Jn=T(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.Column=void 0;var Ip=qe(),Sp=Ae(),ic=Vr(),yn=class extends ic.Chunked{constructor(e,r=[],n){r=ic.Chunked.flatten(...r);super(e.type,r,n);if(this._field=e,r.length===1&&!(this instanceof sc))return new sc(e,r[0],this._chunkOffsets)}static new(...e){let[r,n,...i]=e;typeof r!="string"&&!(r instanceof Ip.Field)&&(n=r,r="");let o=ic.Chunked.flatten(Array.isArray(n)?[...n,...i]:n instanceof Sp.Vector?[n,...i]:[Sp.Vector.new(n,...i)]);if(typeof r=="string"){let u=o[0].data.type;r=new Ip.Field(r,u,!0)}else!r.nullable&&o.some(({nullCount:u})=>u>0)&&(r=r.clone({nullable:!0}));return new yn(r,o)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new yn(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let r=this._children||(this._children=[]),n,i,o;return(n=r[e])?n:(i=(this.type.children||[])[e])&&(o=this._chunks.map(u=>u.getChildAt(e)).filter(u=>u!=null),o.length>0)?r[e]=new yn(i,o):null}};xo.Column=yn;var sc=class extends yn{constructor(e,r,n){super(e,[r],n);this._chunk=r}search(e,r){return r?r(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,r){this._chunk.set(e,r)}indexOf(e,r){return this._chunk.indexOf(e,r)}}});var kr=T(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.selectColumnChildrenArgs=lt.selectVectorChildrenArgs=lt.selectChunkArgs=lt.selectFieldArgs=lt.selectColumnArgs=lt.selectArgs=void 0;var Op=kt(),Ap=qe(),Nr=Jn(),is=Ae(),Dp=ce(),RT=Vr(),Lr=Array.isArray;lt.selectArgs=(t,e)=>Co(t,e,[],0);lt.selectColumnArgs=t=>{let[e,r]=ac(t,[[],[]]);return r.map((n,i)=>n instanceof Nr.Column?Nr.Column.new(n.field.clone(e[i]),n):n instanceof is.Vector?Nr.Column.new(e[i],n):Nr.Column.new(e[i],[]))};lt.selectFieldArgs=t=>ac(t,[[],[]]);lt.selectChunkArgs=(t,e)=>oc(t,e,[],0);lt.selectVectorChildrenArgs=(t,e)=>Fp(t,e,[],0);lt.selectColumnChildrenArgs=(t,e)=>Ep(t,e,[],0);function Co(t,e,r,n){let i,o=n,u=-1,a=e.length;for(;++u<a;)Lr(i=e[u])?o=Co(t,i,r,o).length:i instanceof t&&(r[o++]=i);return r}function oc(t,e,r,n){let i,o=n,u=-1,a=e.length;for(;++u<a;)Lr(i=e[u])?o=oc(t,i,r,o).length:i instanceof RT.Chunked?o=oc(t,i.chunks,r,o).length:i instanceof t&&(r[o++]=i);return r}function Fp(t,e,r,n){let i,o=n,u=-1,a=e.length;for(;++u<a;)Lr(i=e[u])?o=Fp(t,i,r,o).length:i instanceof t?o=Co(is.Vector,i.schema.fields.map((p,s)=>i.getChildAt(s)),r,o).length:i instanceof is.Vector&&(r[o++]=i);return r}function Ep(t,e,r,n){let i,o=n,u=-1,a=e.length;for(;++u<a;)Lr(i=e[u])?o=Ep(t,i,r,o).length:i instanceof t?o=Co(Nr.Column,i.schema.fields.map((p,s)=>Nr.Column.new(p,i.getChildAt(s))),r,o).length:i instanceof Nr.Column&&(r[o++]=i);return r}var UT=(t,[e,r],n)=>(t[0][n]=e,t[1][n]=r,t);function ac(t,e){let r,n;switch(n=t.length){case 0:return e;case 1:if(r=e[0],!t[0])return e;if(Lr(t[0]))return ac(t[0],e);t[0]instanceof Op.Data||t[0]instanceof is.Vector||t[0]instanceof Dp.DataType||([r,t]=Object.entries(t[0]).reduce(UT,e));break;default:Lr(r=t[n-1])?t=Lr(t[0])?t[0]:t.slice(0,n-1):(t=Lr(t[0])?t[0]:t,r=[])}let i=-1,o=-1,u=-1,a=t.length,p,s,[l,g]=e;for(;++u<a;)s=t[u],s instanceof Nr.Column&&(g[++o]=s)?l[++i]=s.field.clone(r[u],s.type,!0):({[u]:p=u}=r,s instanceof Dp.DataType&&(g[++o]=s)?l[++i]=Ap.Field.new(p,s,!0):s&&s.type&&(g[++o]=s)&&(s instanceof Op.Data&&(g[o]=s=is.Vector.new(s)),l[++i]=Ap.Field.new(p,s.type,!0)));return e}});var qe=T(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.Field=Kn.Schema=void 0;var MT=ce(),PT=kr(),VT=kr(),Rp=Su(),pt=class{constructor(e=[],r,n){this.fields=e||[],this.metadata=r||new Map,n||(n=uc(e)),this.dictionaries=n}static from(...e){return pt.new(e[0],e[1])}static new(...e){return new pt(VT.selectFieldArgs(e)[0])}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map((e,r)=>`${r}: ${e}`).join(", ")} }>`}compareTo(e){return Rp.instance.compareSchemas(this,e)}select(...e){let r=e.reduce((n,i)=>(n[i]=!0)&&n,Object.create(null));return new pt(this.fields.filter(n=>r[n.name]),this.metadata)}selectAt(...e){return new pt(e.map(r=>this.fields[r]).filter(Boolean),this.metadata)}assign(...e){let r=e[0]instanceof pt?e[0]:new pt(PT.selectArgs(Zt,e)),n=[...this.fields],i=jo(jo(new Map,this.metadata),r.metadata),o=r.fields.filter(a=>{let p=n.findIndex(s=>s.name===a.name);return~p?(n[p]=a.clone({metadata:jo(jo(new Map,n[p].metadata),a.metadata)}))&&!1:!0}),u=uc(o,new Map);return new pt([...n,...o],i,new Map([...this.dictionaries,...u]))}};Kn.Schema=pt;var Zt=class{constructor(e,r,n=!1,i){this.name=e,this.type=r,this.nullable=n,this.metadata=i||new Map}static new(...e){let[r,n,i,o]=e;return e[0]&&typeof e[0]=="object"&&({name:r}=e[0],n===void 0&&(n=e[0].type),i===void 0&&(i=e[0].nullable),o===void 0&&(o=e[0].metadata)),new Zt(`${r}`,n,i,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}compareTo(e){return Rp.instance.compareField(this,e)}clone(...e){let[r,n,i,o]=e;return!e[0]||typeof e[0]!="object"?[r=this.name,n=this.type,i=this.nullable,o=this.metadata]=e:{name:r=this.name,type:n=this.type,nullable:i=this.nullable,metadata:o=this.metadata}=e[0],Zt.new(r,n,i,o)}};Kn.Field=Zt;function jo(t,e){return new Map([...t||new Map,...e||new Map])}function uc(t,e=new Map){for(let r=-1,n=t.length;++r<n;){let o=t[r].type;if(MT.DataType.isDictionary(o)){if(!e.has(o.id))e.set(o.id,o.dictionary);else if(e.get(o.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&uc(o.children,e)}return e}pt.prototype.fields=null;pt.prototype.metadata=null;pt.prototype.dictionaries=null;Zt.prototype.type=null;Zt.prototype.name=null;Zt.prototype.nullable=null;Zt.prototype.metadata=null});var cc=T(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.ListBuilder=void 0;var kT=rc(),NT=qe(),LT=ce(),xT=Er(),CT=Be(),Up=class extends CT.VariableWidthBuilder{constructor(e){super(e);this._run=new kT.Run,this._offsets=new xT.OffsetsBufferBuilder}addChild(e,r="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new LT.List(new NT.Field(r,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let r=this._run,n=this._offsets,i=this._setValue,o=0,u;for([o,u]of e)u===void 0?n.set(o,0):(n.set(o,u.length),i(this,o,r.bind(u)))}};qo.ListBuilder=Up});var lc=T(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.FixedSizeListBuilder=void 0;var jT=rc(),qT=qe(),WT=Be(),zT=ce(),Mp=class extends WT.Builder{constructor(){super(...arguments);this._run=new jT.Run}setValue(e,r){super.setValue(e,this._run.bind(r))}addChild(e,r="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let n=this.children.push(e);return this.type=new zT.FixedSizeList(this.type.listSize,new qT.Field(r,e.type,!0)),n}clear(){return this._run.clear(),super.clear()}};Wo.FixedSizeListBuilder=Mp});var dc=T(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.MapBuilder=void 0;var HT=qe(),YT=ce(),GT=Be(),Pp=class extends GT.VariableWidthBuilder{set(e,r){return super.set(e,r)}setValue(e,r){r=r instanceof Map?r:new Map(Object.entries(r));let n=this._pending||(this._pending=new Map),i=n.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=r.size,n.set(e,r)}addChild(e,r=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new YT.Map_(new HT.Field(r,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let r=this._offsets,n=this._setValue;e.forEach((i,o)=>{i===void 0?r.set(o,0):(r.set(o,i.size),n(this,o,i))})}};zo.MapBuilder=Pp});var fc=T(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.StructBuilder=void 0;var $T=qe(),JT=Be(),KT=ce(),Vp=class extends JT.Builder{addChild(e,r=`${this.numChildren}`){let n=this.children.push(e);return this.type=new KT.Struct([...this.type.children,new $T.Field(r,e.type,!0)]),n}};Ho.StructBuilder=Vp});var hc=T(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.DenseUnionBuilder=xr.SparseUnionBuilder=xr.UnionBuilder=void 0;var QT=qe(),kp=Er(),XT=Be(),ZT=ce(),Yo=class extends XT.Builder{constructor(e){super(e);this._typeIds=new kp.DataBufferBuilder(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,r){return this.set(this.length,e,r)}set(e,r,n){return n===void 0&&(n=this._valueToChildTypeId(this,r,e)),this.setValid(e,this.isValid(r))&&this.setValue(e,r,n),this}setValue(e,r,n){this._typeIds.set(e,n),super.setValue(e,r)}addChild(e,r=`${this.children.length}`){let n=this.children.push(e),{type:{children:i,mode:o,typeIds:u}}=this,a=[...i,new QT.Field(r,e.type)];return this.type=new ZT.Union(o,[...u,n],a),n}_valueToChildTypeId(e,r,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};xr.UnionBuilder=Yo;var Np=class extends Yo{};xr.SparseUnionBuilder=Np;var Lp=class extends Yo{constructor(e){super(e);this._offsets=new kp.DataBufferBuilder(new Int32Array(0))}setValue(e,r,n){let i=this.type.typeIdToChildIndex[n];return this._offsets.set(e,this.getChildAt(i).length),super.setValue(e,r,n)}};xr.DenseUnionBuilder=Lp});var mc=T(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.instance=Qn.SetVisitor=void 0;var eB=Ae(),tB=Je(),rB=ln(),nB=Ki(),iB=Re(),St=pe(),G=class extends tB.Visitor{};Qn.SetVisitor=G;var sB=(t,e,r)=>{t[e]=r/864e5|0},pc=(t,e,r)=>{t[e]=r%4294967296|0,t[e+1]=r/4294967296|0},oB=(t,e,r)=>{t[e]=r*1e3%4294967296|0,t[e+1]=r*1e3/4294967296|0},aB=(t,e,r)=>{t[e]=r*1e6%4294967296|0,t[e+1]=r*1e6/4294967296|0},xp=(t,e,r,n)=>{let{[r]:i,[r+1]:o}=e;i!=null&&o!=null&&t.set(n.subarray(0,o-i),i)},uB=({offset:t,values:e},r,n)=>{let i=t+r;n?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},Cp=({values:t},e,r)=>{sB(t,e,r.valueOf())},jp=({values:t},e,r)=>{pc(t,e*2,r.valueOf())},er=({stride:t,values:e},r,n)=>{e[t*r]=n},qp=({stride:t,values:e},r,n)=>{e[t*r]=nB.float64ToUint16(n)},yc=(t,e,r)=>{switch(typeof r){case"bigint":t.values64[e]=r;break;case"number":t.values[e*t.stride]=r;break;default:let n=r,{stride:i,ArrayType:o}=t,u=iB.toArrayBufferView(o,n);t.values.set(u.subarray(0,i),i*e)}},cB=({stride:t,values:e},r,n)=>{e.set(n.subarray(0,t),t*r)},lB=({values:t,valueOffsets:e},r,n)=>xp(t,e,r,n),dB=({values:t,valueOffsets:e},r,n)=>{xp(t,e,r,rB.encodeUtf8(n))},fB=(t,e,r)=>{t.type.bitWidth<64?er(t,e,r):yc(t,e,r)},hB=(t,e,r)=>{t.type.precision!==St.Precision.HALF?er(t,e,r):qp(t,e,r)},pB=(t,e,r)=>{t.type.unit===St.DateUnit.DAY?Cp(t,e,r):jp(t,e,r)},Wp=({values:t},e,r)=>pc(t,e*2,r/1e3),zp=({values:t},e,r)=>pc(t,e*2,r),Hp=({values:t},e,r)=>oB(t,e*2,r),Yp=({values:t},e,r)=>aB(t,e*2,r),yB=(t,e,r)=>{switch(t.type.unit){case St.TimeUnit.SECOND:return Wp(t,e,r);case St.TimeUnit.MILLISECOND:return zp(t,e,r);case St.TimeUnit.MICROSECOND:return Hp(t,e,r);case St.TimeUnit.NANOSECOND:return Yp(t,e,r)}},Gp=({values:t,stride:e},r,n)=>{t[e*r]=n},$p=({values:t,stride:e},r,n)=>{t[e*r]=n},Jp=({values:t},e,r)=>{t.set(r.subarray(0,2),2*e)},Kp=({values:t},e,r)=>{t.set(r.subarray(0,2),2*e)},mB=(t,e,r)=>{switch(t.type.unit){case St.TimeUnit.SECOND:return Gp(t,e,r);case St.TimeUnit.MILLISECOND:return $p(t,e,r);case St.TimeUnit.MICROSECOND:return Jp(t,e,r);case St.TimeUnit.NANOSECOND:return Kp(t,e,r)}},bB=({values:t},e,r)=>{t.set(r.subarray(0,4),4*e)},_B=(t,e,r)=>{let n=t.getChildAt(0),i=t.valueOffsets;for(let o=-1,u=i[e],a=i[e+1];u<a;)n.set(u++,r.get(++o))},gB=(t,e,r)=>{let n=t.getChildAt(0),i=t.valueOffsets,o=r instanceof Map?[...r]:Object.entries(r);for(let u=-1,a=i[e],p=i[e+1];a<p;)n.set(a++,o[++u])},wB=(t,e)=>(r,n,i)=>r&&r.set(t,e[i]),vB=(t,e)=>(r,n,i)=>r&&r.set(t,e.get(i)),TB=(t,e)=>(r,n,i)=>r&&r.set(t,e.get(n.name)),BB=(t,e)=>(r,n,i)=>r&&r.set(t,e[n.name]),IB=(t,e,r)=>{let n=r instanceof Map?TB(e,r):r instanceof eB.Vector?vB(e,r):Array.isArray(r)?wB(e,r):BB(e,r);t.type.children.forEach((i,o)=>n(t.getChildAt(o),i,o))},SB=(t,e,r)=>{t.type.mode===St.UnionMode.Dense?Qp(t,e,r):Xp(t,e,r)},Qp=(t,e,r)=>{let n=t.typeIdToChildIndex[t.typeIds[e]],i=t.getChildAt(n);i&&i.set(t.valueOffsets[e],r)},Xp=(t,e,r)=>{let n=t.typeIdToChildIndex[t.typeIds[e]],i=t.getChildAt(n);i&&i.set(e,r)},OB=(t,e,r)=>{let n=t.getKey(e);n!==null&&t.setValue(n,r)},AB=(t,e,r)=>{t.type.unit===St.IntervalUnit.DAY_TIME?Zp(t,e,r):ey(t,e,r)},Zp=({values:t},e,r)=>{t.set(r.subarray(0,2),2*e)},ey=({values:t},e,r)=>{t[e]=r[0]*12+r[1]%12},DB=(t,e,r)=>{let n=t.getChildAt(0),{stride:i}=t;for(let o=-1,u=e*i;++o<i;)n.set(u+o,r.get(o))};G.prototype.visitBool=uB;G.prototype.visitInt=fB;G.prototype.visitInt8=er;G.prototype.visitInt16=er;G.prototype.visitInt32=er;G.prototype.visitInt64=yc;G.prototype.visitUint8=er;G.prototype.visitUint16=er;G.prototype.visitUint32=er;G.prototype.visitUint64=yc;G.prototype.visitFloat=hB;G.prototype.visitFloat16=qp;G.prototype.visitFloat32=er;G.prototype.visitFloat64=er;G.prototype.visitUtf8=dB;G.prototype.visitBinary=lB;G.prototype.visitFixedSizeBinary=cB;G.prototype.visitDate=pB;G.prototype.visitDateDay=Cp;G.prototype.visitDateMillisecond=jp;G.prototype.visitTimestamp=yB;G.prototype.visitTimestampSecond=Wp;G.prototype.visitTimestampMillisecond=zp;G.prototype.visitTimestampMicrosecond=Hp;G.prototype.visitTimestampNanosecond=Yp;G.prototype.visitTime=mB;G.prototype.visitTimeSecond=Gp;G.prototype.visitTimeMillisecond=$p;G.prototype.visitTimeMicrosecond=Jp;G.prototype.visitTimeNanosecond=Kp;G.prototype.visitDecimal=bB;G.prototype.visitList=_B;G.prototype.visitStruct=IB;G.prototype.visitUnion=SB;G.prototype.visitDenseUnion=Qp;G.prototype.visitSparseUnion=Xp;G.prototype.visitDictionary=OB;G.prototype.visitInterval=AB;G.prototype.visitIntervalDayTime=Zp;G.prototype.visitIntervalYearMonth=ey;G.prototype.visitFixedSizeList=DB;G.prototype.visitMap=gB;Qn.instance=new G});var ty=T(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.instance=Xn.GetBuilderCtor=void 0;var FB=Je(),EB=Mo(),RB=qu(),bc=zu(),UB=Hu(),MB=Gu(),PB=$u(),VB=lc(),Go=Ju(),_c=ec(),_r=Qu(),kB=cc(),NB=dc(),LB=Wu(),xB=fc(),ss=Zu(),os=Xu(),gc=hc(),CB=Vo(),wc=class extends FB.Visitor{visitNull(){return LB.NullBuilder}visitBool(){return RB.BoolBuilder}visitInt(){return _r.IntBuilder}visitInt8(){return _r.Int8Builder}visitInt16(){return _r.Int16Builder}visitInt32(){return _r.Int32Builder}visitInt64(){return _r.Int64Builder}visitUint8(){return _r.Uint8Builder}visitUint16(){return _r.Uint16Builder}visitUint32(){return _r.Uint32Builder}visitUint64(){return _r.Uint64Builder}visitFloat(){return Go.FloatBuilder}visitFloat16(){return Go.Float16Builder}visitFloat32(){return Go.Float32Builder}visitFloat64(){return Go.Float64Builder}visitUtf8(){return CB.Utf8Builder}visitBinary(){return EB.BinaryBuilder}visitFixedSizeBinary(){return PB.FixedSizeBinaryBuilder}visitDate(){return bc.DateBuilder}visitDateDay(){return bc.DateDayBuilder}visitDateMillisecond(){return bc.DateMillisecondBuilder}visitTimestamp(){return ss.TimestampBuilder}visitTimestampSecond(){return ss.TimestampSecondBuilder}visitTimestampMillisecond(){return ss.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return ss.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return ss.TimestampNanosecondBuilder}visitTime(){return os.TimeBuilder}visitTimeSecond(){return os.TimeSecondBuilder}visitTimeMillisecond(){return os.TimeMillisecondBuilder}visitTimeMicrosecond(){return os.TimeMicrosecondBuilder}visitTimeNanosecond(){return os.TimeNanosecondBuilder}visitDecimal(){return UB.DecimalBuilder}visitList(){return kB.ListBuilder}visitStruct(){return xB.StructBuilder}visitUnion(){return gc.UnionBuilder}visitDenseUnion(){return gc.DenseUnionBuilder}visitSparseUnion(){return gc.SparseUnionBuilder}visitDictionary(){return MB.DictionaryBuilder}visitInterval(){return _c.IntervalBuilder}visitIntervalDayTime(){return _c.IntervalDayTimeBuilder}visitIntervalYearMonth(){return _c.IntervalYearMonthBuilder}visitFixedSizeList(){return VB.FixedSizeListBuilder}visitMap(){return NB.MapBuilder}};Xn.GetBuilderCtor=wc;Xn.instance=new wc});var Jo=T(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.DenseUnionBuilder=A.SparseUnionBuilder=A.UnionBuilder=A.StructBuilder=A.MapBuilder=A.FixedSizeListBuilder=A.ListBuilder=A.BinaryBuilder=A.Utf8Builder=A.IntervalYearMonthBuilder=A.IntervalDayTimeBuilder=A.IntervalBuilder=A.TimestampNanosecondBuilder=A.TimestampMicrosecondBuilder=A.TimestampMillisecondBuilder=A.TimestampSecondBuilder=A.TimestampBuilder=A.TimeNanosecondBuilder=A.TimeMicrosecondBuilder=A.TimeMillisecondBuilder=A.TimeSecondBuilder=A.TimeBuilder=A.Uint64Builder=A.Uint32Builder=A.Uint16Builder=A.Uint8Builder=A.Int64Builder=A.Int32Builder=A.Int16Builder=A.Int8Builder=A.IntBuilder=A.Float64Builder=A.Float32Builder=A.Float16Builder=A.FloatBuilder=A.FixedSizeBinaryBuilder=A.DictionaryBuilder=A.DecimalBuilder=A.DateMillisecondBuilder=A.DateDayBuilder=A.DateBuilder=A.NullBuilder=A.BoolBuilder=A.Builder=void 0;var jB=Be();Object.defineProperty(A,"Builder",{enumerable:!0,get:function(){return jB.Builder}});var qB=qu();Object.defineProperty(A,"BoolBuilder",{enumerable:!0,get:function(){return qB.BoolBuilder}});var WB=Wu();Object.defineProperty(A,"NullBuilder",{enumerable:!0,get:function(){return WB.NullBuilder}});var vc=zu();Object.defineProperty(A,"DateBuilder",{enumerable:!0,get:function(){return vc.DateBuilder}});Object.defineProperty(A,"DateDayBuilder",{enumerable:!0,get:function(){return vc.DateDayBuilder}});Object.defineProperty(A,"DateMillisecondBuilder",{enumerable:!0,get:function(){return vc.DateMillisecondBuilder}});var zB=Hu();Object.defineProperty(A,"DecimalBuilder",{enumerable:!0,get:function(){return zB.DecimalBuilder}});var HB=Gu();Object.defineProperty(A,"DictionaryBuilder",{enumerable:!0,get:function(){return HB.DictionaryBuilder}});var YB=$u();Object.defineProperty(A,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return YB.FixedSizeBinaryBuilder}});var $o=Ju();Object.defineProperty(A,"FloatBuilder",{enumerable:!0,get:function(){return $o.FloatBuilder}});Object.defineProperty(A,"Float16Builder",{enumerable:!0,get:function(){return $o.Float16Builder}});Object.defineProperty(A,"Float32Builder",{enumerable:!0,get:function(){return $o.Float32Builder}});Object.defineProperty(A,"Float64Builder",{enumerable:!0,get:function(){return $o.Float64Builder}});var gr=Qu();Object.defineProperty(A,"IntBuilder",{enumerable:!0,get:function(){return gr.IntBuilder}});Object.defineProperty(A,"Int8Builder",{enumerable:!0,get:function(){return gr.Int8Builder}});Object.defineProperty(A,"Int16Builder",{enumerable:!0,get:function(){return gr.Int16Builder}});Object.defineProperty(A,"Int32Builder",{enumerable:!0,get:function(){return gr.Int32Builder}});Object.defineProperty(A,"Int64Builder",{enumerable:!0,get:function(){return gr.Int64Builder}});Object.defineProperty(A,"Uint8Builder",{enumerable:!0,get:function(){return gr.Uint8Builder}});Object.defineProperty(A,"Uint16Builder",{enumerable:!0,get:function(){return gr.Uint16Builder}});Object.defineProperty(A,"Uint32Builder",{enumerable:!0,get:function(){return gr.Uint32Builder}});Object.defineProperty(A,"Uint64Builder",{enumerable:!0,get:function(){return gr.Uint64Builder}});var as=Xu();Object.defineProperty(A,"TimeBuilder",{enumerable:!0,get:function(){return as.TimeBuilder}});Object.defineProperty(A,"TimeSecondBuilder",{enumerable:!0,get:function(){return as.TimeSecondBuilder}});Object.defineProperty(A,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return as.TimeMillisecondBuilder}});Object.defineProperty(A,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return as.TimeMicrosecondBuilder}});Object.defineProperty(A,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return as.TimeNanosecondBuilder}});var us=Zu();Object.defineProperty(A,"TimestampBuilder",{enumerable:!0,get:function(){return us.TimestampBuilder}});Object.defineProperty(A,"TimestampSecondBuilder",{enumerable:!0,get:function(){return us.TimestampSecondBuilder}});Object.defineProperty(A,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return us.TimestampMillisecondBuilder}});Object.defineProperty(A,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return us.TimestampMicrosecondBuilder}});Object.defineProperty(A,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return us.TimestampNanosecondBuilder}});var Tc=ec();Object.defineProperty(A,"IntervalBuilder",{enumerable:!0,get:function(){return Tc.IntervalBuilder}});Object.defineProperty(A,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return Tc.IntervalDayTimeBuilder}});Object.defineProperty(A,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return Tc.IntervalYearMonthBuilder}});var GB=Vo();Object.defineProperty(A,"Utf8Builder",{enumerable:!0,get:function(){return GB.Utf8Builder}});var $B=Mo();Object.defineProperty(A,"BinaryBuilder",{enumerable:!0,get:function(){return $B.BinaryBuilder}});var JB=cc();Object.defineProperty(A,"ListBuilder",{enumerable:!0,get:function(){return JB.ListBuilder}});var KB=lc();Object.defineProperty(A,"FixedSizeListBuilder",{enumerable:!0,get:function(){return KB.FixedSizeListBuilder}});var QB=dc();Object.defineProperty(A,"MapBuilder",{enumerable:!0,get:function(){return QB.MapBuilder}});var XB=fc();Object.defineProperty(A,"StructBuilder",{enumerable:!0,get:function(){return XB.StructBuilder}});var Bc=hc();Object.defineProperty(A,"UnionBuilder",{enumerable:!0,get:function(){return Bc.UnionBuilder}});Object.defineProperty(A,"SparseUnionBuilder",{enumerable:!0,get:function(){return Bc.SparseUnionBuilder}});Object.defineProperty(A,"DenseUnionBuilder",{enumerable:!0,get:function(){return Bc.DenseUnionBuilder}});var Ic=pe(),ZB=Vo(),eI=Be(),ry=mc(),ny=ty();eI.Builder.new=iy;function iy(t){let e=t.type,r=new(ny.instance.getVisitFn(e)())(t);if(e.children&&e.children.length>0){let n=t.children||[],i={nullValues:t.nullValues},o=Array.isArray(n)?(u,a)=>n[a]||i:({name:u})=>n[u]||i;e.children.forEach((u,a)=>{let{type:p}=u,s=o(u,a);r.children.push(iy({...s,type:p}))})}return r}Object.keys(Ic.Type).map(t=>Ic.Type[t]).filter(t=>typeof t=="number"&&t!==Ic.Type.NONE).forEach(t=>{let e=ny.instance.visit(t);e.prototype._setValue=ry.instance.getVisitFn(t)});ZB.Utf8Builder.prototype._setValue=ry.instance.visitBinary});var oy=T(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.org=void 0;var Sc=Vn(),sy;(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}static getRootAsFooter(s,l){return(l||new a).__init(s.readInt32(s.position())+s.position(),s)}version(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt16(this.bb_pos+s):Sc.org.apache.arrow.flatbuf.MetadataVersion.V1}schema(s){let l=this.bb.__offset(this.bb_pos,6);return l?(s||new Sc.org.apache.arrow.flatbuf.Schema).__init(this.bb.__indirect(this.bb_pos+l),this.bb):null}dictionaries(s,l){let g=this.bb.__offset(this.bb_pos,8);return g?(l||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+g)+s*24,this.bb):null}dictionariesLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}recordBatches(s,l){let g=this.bb.__offset(this.bb_pos,10);return g?(l||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+g)+s*24,this.bb):null}recordBatchesLength(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.__vector_len(this.bb_pos+s):0}static startFooter(s){s.startObject(4)}static addVersion(s,l){s.addFieldInt16(0,l,Sc.org.apache.arrow.flatbuf.MetadataVersion.V1)}static addSchema(s,l){s.addFieldOffset(1,l,0)}static addDictionaries(s,l){s.addFieldOffset(2,l,0)}static startDictionariesVector(s,l){s.startVector(24,l,8)}static addRecordBatches(s,l){s.addFieldOffset(3,l,0)}static startRecordBatchesVector(s,l){s.startVector(24,l,8)}static endFooter(s){return s.endObject()}static finishFooterBuffer(s,l){s.finish(l)}static createFooter(s,l,g,L,ae){return a.startFooter(s),a.addVersion(s,l),a.addSchema(s,g),a.addDictionaries(s,L),a.addRecordBatches(s,ae),a.endFooter(s)}}u.Footer=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(sy=mn.org||(mn.org={}));(function(t){var e;(function(r){var n;(function(i){var o;(function(u){class a{constructor(){this.bb=null,this.bb_pos=0}__init(s,l){return this.bb_pos=s,this.bb=l,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(s,l,g,L){return s.prep(8,24),s.writeInt64(L),s.pad(4),s.writeInt32(g),s.writeInt64(l),s.offset()}}u.Block=a})(o=i.flatbuf||(i.flatbuf={}))})(n=r.arrow||(r.arrow={}))})(e=t.apache||(t.apache={}))})(sy=mn.org||(mn.org={}))});var Dc=T(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.FileBlock=Zn.Footer=void 0;var ay=oy(),Oc=En(),uy=Oc.flatbuffers.Long,tI=Oc.flatbuffers.Builder,rI=Oc.flatbuffers.ByteBuffer,nI=ay.org.apache.arrow.flatbuf.Block,tr=ay.org.apache.arrow.flatbuf.Footer,cy=qe(),ly=pe(),iI=Re(),Ac=class{constructor(e,r=ly.MetadataVersion.V4,n,i){this.schema=e,this.version=r,n&&(this._recordBatches=n),i&&(this._dictionaryBatches=i)}static decode(e){e=new rI(iI.toUint8Array(e));let r=tr.getRootAsFooter(e),n=cy.Schema.decode(r.schema());return new dy(n,r)}static encode(e){let r=new tI,n=cy.Schema.encode(r,e.schema);tr.startRecordBatchesVector(r,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach(u=>Cr.encode(r,u));let i=r.endVector();tr.startDictionariesVector(r,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach(u=>Cr.encode(r,u));let o=r.endVector();return tr.startFooter(r),tr.addSchema(r,n),tr.addVersion(r,ly.MetadataVersion.V4),tr.addRecordBatches(r,i),tr.addDictionaries(r,o),tr.finishFooterBuffer(r,tr.endFooter(r)),r.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,r=-1,n=this.numRecordBatches;++r<n;)(e=this.getRecordBatch(r))&&(yield e)}*dictionaryBatches(){for(let e,r=-1,n=this.numDictionaries;++r<n;)(e=this.getDictionaryBatch(r))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};Zn.Footer=Ac;var dy=class extends Ac{constructor(e,r){super(e,r.version());this._footer=r}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let r=this._footer.recordBatches(e);if(r)return Cr.decode(r)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let r=this._footer.dictionaries(e);if(r)return Cr.decode(r)}return null}},Cr=class{constructor(e,r,n){this.metaDataLength=e,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof r=="number"?r:r.low}static decode(e){return new Cr(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,r){let{metaDataLength:n}=r,i=new uy(r.offset,0),o=new uy(r.bodyLength,0);return nI.createBlock(e,i,n,o)}};Zn.FileBlock=Cr});var zr=T(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.AsyncByteStream=Wr.ByteStream=Wr.AsyncByteQueue=void 0;var jr=zi(),fy=ln(),cs=Mn(),Fc=Re(),ei=et(),Ec=class extends cs.AsyncQueue{write(e){if((e=Fc.toUint8Array(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?fy.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(fy.decodeUtf8)}toUint8Array(e=!1){return e?Fc.joinUint8Arrays(this._values)[0]:(async()=>{let r=[],n=0;for await(let i of this)r.push(i),n+=i.byteLength;return Fc.joinUint8Arrays(r,n)[0]})()}};Wr.AsyncByteQueue=Ec;var hy=class{constructor(e){e&&(this.source=new py(jr.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Wr.ByteStream=hy;var Ko=class{constructor(e){e instanceof Ko?this.source=e.source:e instanceof Ec?this.source=new qr(jr.default.fromAsyncIterable(e)):ei.isReadableNodeStream(e)?this.source=new qr(jr.default.fromNodeStream(e)):ei.isReadableDOMStream(e)?this.source=new qr(jr.default.fromDOMStream(e)):ei.isFetchResponse(e)?this.source=new qr(jr.default.fromDOMStream(e.body)):ei.isIterable(e)?this.source=new qr(jr.default.fromIterable(e)):ei.isPromise(e)?this.source=new qr(jr.default.fromAsyncIterable(e)):ei.isAsyncIterable(e)&&(this.source=new qr(jr.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};Wr.AsyncByteStream=Ko;var py=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,r="read"){return this.source.next({cmd:r,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||cs.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||cs.ITERATOR_DONE)}},qr=class{constructor(e){this.source=e,this._closedPromise=new Promise(r=>this._closedPromiseResolve=r)}async cancel(e){await this.return(e)}get closed(){return this._closedPromise}async read(e){return(await this.next(e,"read")).value}async peek(e){return(await this.next(e,"peek")).value}async next(e,r="read"){return await this.source.next({cmd:r,size:e})}async throw(e){let r=this.source.throw&&await this.source.throw(e)||cs.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(r)}async return(e){let r=this.source.return&&await this.source.return(e)||cs.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(r)}}});var Rc=T(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.AsyncRandomAccessFile=ti.RandomAccessFile=void 0;var yy=zr(),sI=Re(),my=class extends yy.ByteStream{constructor(e,r){super();this.position=0,this.buffer=sI.toUint8Array(e),this.size=typeof r=="undefined"?this.buffer.byteLength:r}readInt32(e){let{buffer:r,byteOffset:n}=this.readAt(e,4);return new DataView(r,n).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:r,size:n,position:i}=this;return r&&i<n?(typeof e!="number"&&(e=1/0),this.position=Math.min(n,i+Math.min(n-i,e)),r.subarray(i,this.position)):null}readAt(e,r){let n=this.buffer,i=Math.min(this.size,e+r);return n?n.subarray(e,i):new Uint8Array(r)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};ti.RandomAccessFile=my;var by=class extends yy.AsyncByteStream{constructor(e,r){super();this.position=0,this._handle=e,typeof r=="number"?this.size=r:this._pending=(async()=>{this.size=(await e.stat()).size,delete this._pending})()}async readInt32(e){let{buffer:r,byteOffset:n}=await this.readAt(e,4);return new DataView(r,n).getInt32(0,!0)}async seek(e){return this._pending&&await this._pending,this.position=Math.min(e,this.size),e<this.size}async read(e){this._pending&&await this._pending;let{_handle:r,size:n,position:i}=this;if(r&&i<n){typeof e!="number"&&(e=1/0);let o=i,u=0,a=0,p=Math.min(n,o+Math.min(n-o,e)),s=new Uint8Array(Math.max(0,(this.position=p)-o));for(;(o+=a)<p&&(u+=a)<s.byteLength;)({bytesRead:a}=await r.read(s,u,s.byteLength-u,o));return s}return null}async readAt(e,r){this._pending&&await this._pending;let{_handle:n,size:i}=this;if(n&&e+r<i){let o=Math.min(i,e+r),u=new Uint8Array(o-e);return(await n.read(u,0,r,e)).buffer}return new Uint8Array(r)}async close(){let e=this._handle;this._handle=null,e&&await e.close()}async throw(e){return await this.close(),{done:!0,value:e}}async return(e){return await this.close(),{done:!0,value:e}}};ti.AsyncRandomAccessFile=by});var Mc=T(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.Int128=rr.Int64=rr.Uint64=rr.BaseInt64=void 0;var oI=1<<16;function ri(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}var ni=8,Uc=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],Qo=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let r=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),i=r[3]*n[3];this.buffer[0]=i&65535;let o=i>>>16;return i=r[2]*n[3],o+=i,i=r[3]*n[2]>>>0,o+=i,this.buffer[0]+=o<<16,this.buffer[1]=o>>>0<i?oI:0,this.buffer[1]+=o>>>16,this.buffer[1]+=r[1]*n[3]+r[2]*n[2]+r[3]*n[1],this.buffer[1]+=r[0]*n[3]+r[1]*n[2]+r[2]*n[1]+r[3]*n[0]<<16,this}_plus(e){let r=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],r<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=r}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${ri(this.buffer[1])} ${ri(this.buffer[0])}`}};rr.BaseInt64=Qo;var le=class extends Qo{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,r=new Uint32Array(2)){return le.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(2)){return le.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(2)){let n=e.length,i=new le(r);for(let o=0;o<n;){let u=ni<n-o?ni:n-o,a=new le(new Uint32Array([parseInt(e.substr(o,u),10),0])),p=new le(new Uint32Array([Uc[u],0]));i.times(p),i.plus(a),o+=u}return i}static convertArray(e){let r=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)le.from(e[n],new Uint32Array(r.buffer,r.byteOffset+2*n*4,2));return r}static multiply(e,r){return new le(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new le(new Uint32Array(e.buffer)).plus(r)}};rr.Uint64=le;var yt=class extends Qo{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let r=this.buffer[1]<<0,n=e.buffer[1]<<0;return r<n||r===n&&this.buffer[0]<e.buffer[0]}static from(e,r=new Uint32Array(2)){return yt.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(2)){return yt.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(2)){let n=e.startsWith("-"),i=e.length,o=new yt(r);for(let u=n?1:0;u<i;){let a=ni<i-u?ni:i-u,p=new yt(new Uint32Array([parseInt(e.substr(u,a),10),0])),s=new yt(new Uint32Array([Uc[a],0]));o.times(s),o.plus(p),u+=a}return n?o.negate():o}static convertArray(e){let r=new Uint32Array(e.length*2);for(let n=-1,i=e.length;++n<i;)yt.from(e[n],new Uint32Array(r.buffer,r.byteOffset+2*n*4,2));return r}static multiply(e,r){return new yt(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new yt(new Uint32Array(e.buffer)).plus(r)}};rr.Int64=yt;var Lt=class{constructor(e){this.buffer=e}high(){return new yt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new yt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let r=new le(new Uint32Array([this.buffer[3],0])),n=new le(new Uint32Array([this.buffer[2],0])),i=new le(new Uint32Array([this.buffer[1],0])),o=new le(new Uint32Array([this.buffer[0],0])),u=new le(new Uint32Array([e.buffer[3],0])),a=new le(new Uint32Array([e.buffer[2],0])),p=new le(new Uint32Array([e.buffer[1],0])),s=new le(new Uint32Array([e.buffer[0],0])),l=le.multiply(o,s);this.buffer[0]=l.low();let g=new le(new Uint32Array([l.high(),0]));return l=le.multiply(i,s),g.plus(l),l=le.multiply(o,p),g.plus(l),this.buffer[1]=g.low(),this.buffer[3]=g.lessThan(l)?1:0,this.buffer[2]=g.high(),new le(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(le.multiply(n,s)).plus(le.multiply(i,p)).plus(le.multiply(o,a)),this.buffer[3]+=le.multiply(r,s).plus(le.multiply(n,p)).plus(le.multiply(i,a)).plus(le.multiply(o,u)).low(),this}plus(e){let r=new Uint32Array(4);return r[3]=this.buffer[3]+e.buffer[3]>>>0,r[2]=this.buffer[2]+e.buffer[2]>>>0,r[1]=this.buffer[1]+e.buffer[1]>>>0,r[0]=this.buffer[0]+e.buffer[0]>>>0,r[0]<this.buffer[0]>>>0&&++r[1],r[1]<this.buffer[1]>>>0&&++r[2],r[2]<this.buffer[2]>>>0&&++r[3],this.buffer[3]=r[3],this.buffer[2]=r[2],this.buffer[1]=r[1],this.buffer[0]=r[0],this}hex(){return`${ri(this.buffer[3])} ${ri(this.buffer[2])} ${ri(this.buffer[1])} ${ri(this.buffer[0])}`}static multiply(e,r){return new Lt(new Uint32Array(e.buffer)).times(r)}static add(e,r){return new Lt(new Uint32Array(e.buffer)).plus(r)}static from(e,r=new Uint32Array(4)){return Lt.fromString(typeof e=="string"?e:e.toString(),r)}static fromNumber(e,r=new Uint32Array(4)){return Lt.fromString(e.toString(),r)}static fromString(e,r=new Uint32Array(4)){let n=e.startsWith("-"),i=e.length,o=new Lt(r);for(let u=n?1:0;u<i;){let a=ni<i-u?ni:i-u,p=new Lt(new Uint32Array([parseInt(e.substr(u,a),10),0,0,0])),s=new Lt(new Uint32Array([Uc[a],0,0,0]));o.times(s),o.plus(p),u+=a}return n?o.negate():o}static convertArray(e){let r=new Uint32Array(e.length*4);for(let n=-1,i=e.length;++n<i;)Lt.from(e[n],new Uint32Array(r.buffer,r.byteOffset+4*4*n,4));return r}};rr.Int128=Lt});var vy=T(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.JSONVectorLoader=ii.VectorLoader=void 0;var xe=kt(),aI=qe(),wr=ce(),uI=Je(),_y=Jt(),cI=ln(),Xo=Mc(),gy=pe(),nr=Re(),Pc=class extends uI.Visitor{constructor(e,r,n,i){super();this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=r,this.buffers=n,this.dictionaries=i}visit(e){return super.visit(e instanceof aI.Field?e.type:e)}visitNull(e,{length:r}=this.nextFieldNode()){return xe.Data.Null(e,0,r)}visitBool(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Bool(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitInt(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Int(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitFloat(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Float(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitUtf8(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Utf8(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Binary(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.FixedSizeBinary(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitDate(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Date(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitTimestamp(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Timestamp(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitTime(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Time(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitDecimal(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Decimal(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitList(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.List(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Struct(e,0,r,n,this.readNullBitmap(e,n),this.visitMany(e.children))}visitUnion(e){return e.mode===gy.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Union(e,0,r,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Union(e,0,r,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Dictionary(e,0,r,n,this.readNullBitmap(e,n),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Interval(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitFixedSizeList(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.FixedSizeList(e,0,r,n,this.readNullBitmap(e,n),this.visit(e.children[0]))}visitMap(e,{length:r,nullCount:n}=this.nextFieldNode()){return xe.Data.Map(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,r,n=this.nextBufferRange()){return r>0&&this.readData(e,n)||new Uint8Array(0)}readOffsets(e,r){return this.readData(e,r)}readTypeIds(e,r){return this.readData(e,r)}readData(e,{length:r,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+r)}readDictionary(e){return this.dictionaries.get(e.id)}};ii.VectorLoader=Pc;var wy=class extends Pc{constructor(e,r,n,i){super(new Uint8Array(0),r,n,i);this.sources=e}readNullBitmap(e,r,{offset:n}=this.nextBufferRange()){return r<=0?new Uint8Array(0):_y.packBools(this.sources[n])}readOffsets(e,{offset:r}=this.nextBufferRange()){return nr.toArrayBufferView(Uint8Array,nr.toArrayBufferView(Int32Array,this.sources[r]))}readTypeIds(e,{offset:r}=this.nextBufferRange()){return nr.toArrayBufferView(Uint8Array,nr.toArrayBufferView(e.ArrayType,this.sources[r]))}readData(e,{offset:r}=this.nextBufferRange()){let{sources:n}=this;return wr.DataType.isTimestamp(e)||(wr.DataType.isInt(e)||wr.DataType.isTime(e))&&e.bitWidth===64||wr.DataType.isDate(e)&&e.unit===gy.DateUnit.MILLISECOND?nr.toArrayBufferView(Uint8Array,Xo.Int64.convertArray(n[r])):wr.DataType.isDecimal(e)?nr.toArrayBufferView(Uint8Array,Xo.Int128.convertArray(n[r])):wr.DataType.isBinary(e)||wr.DataType.isFixedSizeBinary(e)?lI(n[r]):wr.DataType.isBool(e)?_y.packBools(n[r]):wr.DataType.isUtf8(e)?cI.encodeUtf8(n[r].join("")):nr.toArrayBufferView(Uint8Array,nr.toArrayBufferView(e.ArrayType,n[r].map(i=>+i)))}};ii.JSONVectorLoader=wy;function lI(t){let e=t.join(""),r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n>>1]=parseInt(e.substr(n,2),16);return r}});var Dy=T(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.instance=oi.TypeAssembler=void 0;var dI=En(),fI=dI.flatbuffers.Long,We=Vn(),hI=Je(),Ty=We.org.apache.arrow.flatbuf.Null,Zo=We.org.apache.arrow.flatbuf.Int,Vc=We.org.apache.arrow.flatbuf.FloatingPoint,By=We.org.apache.arrow.flatbuf.Binary,Iy=We.org.apache.arrow.flatbuf.Bool,Sy=We.org.apache.arrow.flatbuf.Utf8,ea=We.org.apache.arrow.flatbuf.Decimal,kc=We.org.apache.arrow.flatbuf.Date,ta=We.org.apache.arrow.flatbuf.Time,ra=We.org.apache.arrow.flatbuf.Timestamp,Nc=We.org.apache.arrow.flatbuf.Interval,Oy=We.org.apache.arrow.flatbuf.List,Ay=We.org.apache.arrow.flatbuf.Struct_,si=We.org.apache.arrow.flatbuf.Union,ls=We.org.apache.arrow.flatbuf.DictionaryEncoding,Lc=We.org.apache.arrow.flatbuf.FixedSizeBinary,xc=We.org.apache.arrow.flatbuf.FixedSizeList,Cc=We.org.apache.arrow.flatbuf.Map,jc=class extends hI.Visitor{visit(e,r){return e==null||r==null?void 0:super.visit(e,r)}visitNull(e,r){return Ty.startNull(r),Ty.endNull(r)}visitInt(e,r){return Zo.startInt(r),Zo.addBitWidth(r,e.bitWidth),Zo.addIsSigned(r,e.isSigned),Zo.endInt(r)}visitFloat(e,r){return Vc.startFloatingPoint(r),Vc.addPrecision(r,e.precision),Vc.endFloatingPoint(r)}visitBinary(e,r){return By.startBinary(r),By.endBinary(r)}visitBool(e,r){return Iy.startBool(r),Iy.endBool(r)}visitUtf8(e,r){return Sy.startUtf8(r),Sy.endUtf8(r)}visitDecimal(e,r){return ea.startDecimal(r),ea.addScale(r,e.scale),ea.addPrecision(r,e.precision),ea.endDecimal(r)}visitDate(e,r){return kc.startDate(r),kc.addUnit(r,e.unit),kc.endDate(r)}visitTime(e,r){return ta.startTime(r),ta.addUnit(r,e.unit),ta.addBitWidth(r,e.bitWidth),ta.endTime(r)}visitTimestamp(e,r){let n=e.timezone&&r.createString(e.timezone)||void 0;return ra.startTimestamp(r),ra.addUnit(r,e.unit),n!==void 0&&ra.addTimezone(r,n),ra.endTimestamp(r)}visitInterval(e,r){return Nc.startInterval(r),Nc.addUnit(r,e.unit),Nc.endInterval(r)}visitList(e,r){return Oy.startList(r),Oy.endList(r)}visitStruct(e,r){return Ay.startStruct_(r),Ay.endStruct_(r)}visitUnion(e,r){si.startTypeIdsVector(r,e.typeIds.length);let n=si.createTypeIdsVector(r,e.typeIds);return si.startUnion(r),si.addMode(r,e.mode),si.addTypeIds(r,n),si.endUnion(r)}visitDictionary(e,r){let n=this.visit(e.indices,r);return ls.startDictionaryEncoding(r),ls.addId(r,new fI(e.id,0)),ls.addIsOrdered(r,e.isOrdered),n!==void 0&&ls.addIndexType(r,n),ls.endDictionaryEncoding(r)}visitFixedSizeBinary(e,r){return Lc.startFixedSizeBinary(r),Lc.addByteWidth(r,e.byteWidth),Lc.endFixedSizeBinary(r)}visitFixedSizeList(e,r){return xc.startFixedSizeList(r),xc.addListSize(r,e.listSize),xc.endFixedSizeList(r)}visitMap(e,r){return Cc.startMap(r),Cc.addKeysSorted(r,e.keysSorted),Cc.endMap(r)}};oi.TypeAssembler=jc;oi.instance=new jc});var Vy=T(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.fieldFromJSON=ir.dictionaryBatchFromJSON=ir.recordBatchFromJSON=ir.schemaFromJSON=void 0;var ai=qe(),_e=ce(),bn=_n(),ui=pe();function pI(t,e=new Map){return new ai.Schema(mI(t,e),na(t.customMetadata),e)}ir.schemaFromJSON=pI;function Fy(t){return new bn.RecordBatch(t.count,Ry(t.columns),Uy(t.columns))}ir.recordBatchFromJSON=Fy;function yI(t){return new bn.DictionaryBatch(Fy(t.data),t.id,t.isDelta)}ir.dictionaryBatchFromJSON=yI;function mI(t,e){return(t.fields||[]).filter(Boolean).map(r=>ai.Field.fromJSON(r,e))}function Ey(t,e){return(t.children||[]).filter(Boolean).map(r=>ai.Field.fromJSON(r,e))}function Ry(t){return(t||[]).reduce((e,r)=>[...e,new bn.FieldNode(r.count,bI(r.VALIDITY)),...Ry(r.children)],[])}function Uy(t,e=[]){for(let r=-1,n=(t||[]).length;++r<n;){let i=t[r];i.VALIDITY&&e.push(new bn.BufferRegion(e.length,i.VALIDITY.length)),i.TYPE&&e.push(new bn.BufferRegion(e.length,i.TYPE.length)),i.OFFSET&&e.push(new bn.BufferRegion(e.length,i.OFFSET.length)),i.DATA&&e.push(new bn.BufferRegion(e.length,i.DATA.length)),e=Uy(i.children,e)}return e}function bI(t){return(t||[]).reduce((e,r)=>e+ +(r===0),0)}function _I(t,e){let r,n,i,o,u,a;return!e||!(o=t.dictionary)?(u=Py(t,Ey(t,e)),i=new ai.Field(t.name,u,t.nullable,na(t.customMetadata))):e.has(r=o.id)?(n=(n=o.indexType)?My(n):new _e.Int32,a=new _e.Dictionary(e.get(r),n,r,o.isOrdered),i=new ai.Field(t.name,a,t.nullable,na(t.customMetadata))):(n=(n=o.indexType)?My(n):new _e.Int32,e.set(r,u=Py(t,Ey(t,e))),a=new _e.Dictionary(u,n,r,o.isOrdered),i=new ai.Field(t.name,a,t.nullable,na(t.customMetadata))),i||null}ir.fieldFromJSON=_I;function na(t){return new Map(Object.entries(t||{}))}function My(t){return new _e.Int(t.isSigned,t.bitWidth)}function Py(t,e){let r=t.type.name;switch(r){case"NONE":return new _e.Null;case"null":return new _e.Null;case"binary":return new _e.Binary;case"utf8":return new _e.Utf8;case"bool":return new _e.Bool;case"list":return new _e.List((e||[])[0]);case"struct":return new _e.Struct(e||[]);case"struct_":return new _e.Struct(e||[])}switch(r){case"int":{let n=t.type;return new _e.Int(n.isSigned,n.bitWidth)}case"floatingpoint":{let n=t.type;return new _e.Float(ui.Precision[n.precision])}case"decimal":{let n=t.type;return new _e.Decimal(n.scale,n.precision)}case"date":{let n=t.type;return new _e.Date_(ui.DateUnit[n.unit])}case"time":{let n=t.type;return new _e.Time(ui.TimeUnit[n.unit],n.bitWidth)}case"timestamp":{let n=t.type;return new _e.Timestamp(ui.TimeUnit[n.unit],n.timezone)}case"interval":{let n=t.type;return new _e.Interval(ui.IntervalUnit[n.unit])}case"union":{let n=t.type;return new _e.Union(ui.UnionMode[n.mode],n.typeIds||[],e||[])}case"fixedsizebinary":{let n=t.type;return new _e.FixedSizeBinary(n.byteWidth)}case"fixedsizelist":{let n=t.type;return new _e.FixedSizeList(n.listSize,(e||[])[0])}case"map":{let n=t.type;return new _e.Map_((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${r}"`)}});var _n=T(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.FieldNode=At.BufferRegion=At.DictionaryBatch=At.RecordBatch=At.Message=void 0;var qc=En(),Qe=Vn(),ia=_u(),ze=qe(),gI=Re(),Ie=pe(),Wc=Dy(),sa=Vy(),gn=qc.flatbuffers.Long,wI=qc.flatbuffers.Builder,vI=qc.flatbuffers.ByteBuffer,Ce=Qe.org.apache.arrow.flatbuf.Type,xt=Qe.org.apache.arrow.flatbuf.Field,vr=Qe.org.apache.arrow.flatbuf.Schema,TI=Qe.org.apache.arrow.flatbuf.Buffer,Hr=ia.org.apache.arrow.flatbuf.Message,Yr=Qe.org.apache.arrow.flatbuf.KeyValue,BI=ia.org.apache.arrow.flatbuf.FieldNode,ky=Qe.org.apache.arrow.flatbuf.Endianness,Gr=ia.org.apache.arrow.flatbuf.RecordBatch,ci=ia.org.apache.arrow.flatbuf.DictionaryBatch,ge=ce(),$r=class{constructor(e,r,n,i){this._version=r,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,r){let n=new $r(0,Ie.MetadataVersion.V4,r);return n._createHeader=II(e,r),n}static decode(e){e=new vI(gI.toUint8Array(e));let r=Hr.getRootAsMessage(e),n=r.bodyLength(),i=r.version(),o=r.headerType(),u=new $r(n,i,o);return u._createHeader=SI(r,o),u}static encode(e){let r=new wI,n=-1;return e.isSchema()?n=ze.Schema.encode(r,e.header()):e.isRecordBatch()?n=Ot.encode(r,e.header()):e.isDictionaryBatch()&&(n=sr.encode(r,e.header())),Hr.startMessage(r),Hr.addVersion(r,Ie.MetadataVersion.V4),Hr.addHeader(r,n),Hr.addHeaderType(r,e.headerType),Hr.addBodyLength(r,new gn(e.bodyLength,0)),Hr.finishMessageBuffer(r,Hr.endMessage(r)),r.asUint8Array()}static from(e,r=0){if(e instanceof ze.Schema)return new $r(0,Ie.MetadataVersion.V4,Ie.MessageHeader.Schema,e);if(e instanceof Ot)return new $r(r,Ie.MetadataVersion.V4,Ie.MessageHeader.RecordBatch,e);if(e instanceof sr)return new $r(r,Ie.MetadataVersion.V4,Ie.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ie.MessageHeader.Schema}isRecordBatch(){return this.headerType===Ie.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===Ie.MessageHeader.DictionaryBatch}};At.Message=$r;var Ot=class{constructor(e,r,n){this._nodes=r,this._buffers=n,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};At.RecordBatch=Ot;var sr=class{constructor(e,r,n=!1){this._data=e,this._isDelta=n,this._id=typeof r=="number"?r:r.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};At.DictionaryBatch=sr;var wn=class{constructor(e,r){this.offset=typeof e=="number"?e:e.low,this.length=typeof r=="number"?r:r.low}};At.BufferRegion=wn;var vn=class{constructor(e,r){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof r=="number"?r:r.low}};At.FieldNode=vn;function II(t,e){return()=>{switch(e){case Ie.MessageHeader.Schema:return ze.Schema.fromJSON(t);case Ie.MessageHeader.RecordBatch:return Ot.fromJSON(t);case Ie.MessageHeader.DictionaryBatch:return sr.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${Ie.MessageHeader[e]}, type: ${e} }`)}}function SI(t,e){return()=>{switch(e){case Ie.MessageHeader.Schema:return ze.Schema.decode(t.header(new vr));case Ie.MessageHeader.RecordBatch:return Ot.decode(t.header(new Gr),t.version());case Ie.MessageHeader.DictionaryBatch:return sr.decode(t.header(new ci),t.version())}throw new Error(`Unrecognized Message type: { name: ${Ie.MessageHeader[e]}, type: ${e} }`)}}ze.Field.encode=kI;ze.Field.decode=PI;ze.Field.fromJSON=sa.fieldFromJSON;ze.Schema.encode=VI;ze.Schema.decode=OI;ze.Schema.fromJSON=sa.schemaFromJSON;Ot.encode=NI;Ot.decode=AI;Ot.fromJSON=sa.recordBatchFromJSON;sr.encode=LI;sr.decode=DI;sr.fromJSON=sa.dictionaryBatchFromJSON;vn.encode=xI;vn.decode=EI;wn.encode=CI;wn.decode=FI;function OI(t,e=new Map){let r=MI(t,e);return new ze.Schema(r,oa(t),e)}function AI(t,e=Ie.MetadataVersion.V4){return new Ot(t.length(),RI(t),UI(t,e))}function DI(t,e=Ie.MetadataVersion.V4){return new sr(Ot.decode(t.data(),e),t.id(),t.isDelta())}function FI(t){return new wn(t.offset(),t.length())}function EI(t){return new vn(t.length(),t.nullCount())}function RI(t){let e=[];for(let r,n=-1,i=-1,o=t.nodesLength();++n<o;)(r=t.nodes(n))&&(e[++i]=vn.decode(r));return e}function UI(t,e){let r=[];for(let n,i=-1,o=-1,u=t.buffersLength();++i<u;)(n=t.buffers(i))&&(e<Ie.MetadataVersion.V4&&(n.bb_pos+=8*(i+1)),r[++o]=wn.decode(n));return r}function MI(t,e){let r=[];for(let n,i=-1,o=-1,u=t.fieldsLength();++i<u;)(n=t.fields(i))&&(r[++o]=ze.Field.decode(n,e));return r}function Ny(t,e){let r=[];for(let n,i=-1,o=-1,u=t.childrenLength();++i<u;)(n=t.children(i))&&(r[++o]=ze.Field.decode(n,e));return r}function PI(t,e){let r,n,i,o,u,a;return!e||!(a=t.dictionary())?(i=xy(t,Ny(t,e)),n=new ze.Field(t.name(),i,t.nullable(),oa(t))):e.has(r=a.id().low)?(o=(o=a.indexType())?Ly(o):new ge.Int32,u=new ge.Dictionary(e.get(r),o,r,a.isOrdered()),n=new ze.Field(t.name(),u,t.nullable(),oa(t))):(o=(o=a.indexType())?Ly(o):new ge.Int32,e.set(r,i=xy(t,Ny(t,e))),u=new ge.Dictionary(i,o,r,a.isOrdered()),n=new ze.Field(t.name(),u,t.nullable(),oa(t))),n||null}function oa(t){let e=new Map;if(t)for(let r,n,i=-1,o=t.customMetadataLength()|0;++i<o;)(r=t.customMetadata(i))&&(n=r.key())!=null&&e.set(n,r.value());return e}function Ly(t){return new ge.Int(t.isSigned(),t.bitWidth())}function xy(t,e){let r=t.typeType();switch(r){case Ce.NONE:return new ge.Null;case Ce.Null:return new ge.Null;case Ce.Binary:return new ge.Binary;case Ce.Utf8:return new ge.Utf8;case Ce.Bool:return new ge.Bool;case Ce.List:return new ge.List((e||[])[0]);case Ce.Struct_:return new ge.Struct(e||[])}switch(r){case Ce.Int:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Int);return new ge.Int(n.isSigned(),n.bitWidth())}case Ce.FloatingPoint:{let n=t.type(new Qe.org.apache.arrow.flatbuf.FloatingPoint);return new ge.Float(n.precision())}case Ce.Decimal:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Decimal);return new ge.Decimal(n.scale(),n.precision())}case Ce.Date:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Date);return new ge.Date_(n.unit())}case Ce.Time:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Time);return new ge.Time(n.unit(),n.bitWidth())}case Ce.Timestamp:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Timestamp);return new ge.Timestamp(n.unit(),n.timezone())}case Ce.Interval:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Interval);return new ge.Interval(n.unit())}case Ce.Union:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Union);return new ge.Union(n.mode(),n.typeIdsArray()||[],e||[])}case Ce.FixedSizeBinary:{let n=t.type(new Qe.org.apache.arrow.flatbuf.FixedSizeBinary);return new ge.FixedSizeBinary(n.byteWidth())}case Ce.FixedSizeList:{let n=t.type(new Qe.org.apache.arrow.flatbuf.FixedSizeList);return new ge.FixedSizeList(n.listSize(),(e||[])[0])}case Ce.Map:{let n=t.type(new Qe.org.apache.arrow.flatbuf.Map);return new ge.Map_((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Ce[r]}" (${r})`)}function VI(t,e){let r=e.fields.map(o=>ze.Field.encode(t,o));vr.startFieldsVector(t,r.length);let n=vr.createFieldsVector(t,r),i=e.metadata&&e.metadata.size>0?vr.createCustomMetadataVector(t,[...e.metadata].map(([o,u])=>{let a=t.createString(`${o}`),p=t.createString(`${u}`);return Yr.startKeyValue(t),Yr.addKey(t,a),Yr.addValue(t,p),Yr.endKeyValue(t)})):-1;return vr.startSchema(t),vr.addFields(t,n),vr.addEndianness(t,jI?ky.Little:ky.Big),i!==-1&&vr.addCustomMetadata(t,i),vr.endSchema(t)}function kI(t,e){let r=-1,n=-1,i=-1,o=e.type,u=e.typeId;ge.DataType.isDictionary(o)?(u=o.dictionary.typeId,i=Wc.instance.visit(o,t),n=Wc.instance.visit(o.dictionary,t)):n=Wc.instance.visit(o,t);let a=(o.children||[]).map(l=>ze.Field.encode(t,l)),p=xt.createChildrenVector(t,a),s=e.metadata&&e.metadata.size>0?xt.createCustomMetadataVector(t,[...e.metadata].map(([l,g])=>{let L=t.createString(`${l}`),ae=t.createString(`${g}`);return Yr.startKeyValue(t),Yr.addKey(t,L),Yr.addValue(t,ae),Yr.endKeyValue(t)})):-1;return e.name&&(r=t.createString(e.name)),xt.startField(t),xt.addType(t,n),xt.addTypeType(t,u),xt.addChildren(t,p),xt.addNullable(t,!!e.nullable),r!==-1&&xt.addName(t,r),i!==-1&&xt.addDictionary(t,i),s!==-1&&xt.addCustomMetadata(t,s),xt.endField(t)}function NI(t,e){let r=e.nodes||[],n=e.buffers||[];Gr.startNodesVector(t,r.length),r.slice().reverse().forEach(u=>vn.encode(t,u));let i=t.endVector();Gr.startBuffersVector(t,n.length),n.slice().reverse().forEach(u=>wn.encode(t,u));let o=t.endVector();return Gr.startRecordBatch(t),Gr.addLength(t,new gn(e.length,0)),Gr.addNodes(t,i),Gr.addBuffers(t,o),Gr.endRecordBatch(t)}function LI(t,e){let r=Ot.encode(t,e.data);return ci.startDictionaryBatch(t),ci.addId(t,new gn(e.id,0)),ci.addIsDelta(t,e.isDelta),ci.addData(t,r),ci.endDictionaryBatch(t)}function xI(t,e){return BI.createFieldNode(t,new gn(e.length,0),new gn(e.nullCount,0))}function CI(t,e){return TI.createBuffer(t,new gn(e.offset,0),new gn(e.length,0))}var jI=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256}()});var ua=T(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.magicX2AndPadding=ne.magicAndPadding=ne.magicLength=ne.checkForMagicArrowString=ne.MAGIC=ne.MAGIC_STR=ne.PADDING=ne.JSONMessageReader=ne.AsyncMessageReader=ne.MessageReader=void 0;var Jr=pe(),qI=En(),Cy=qI.flatbuffers.ByteBuffer,ds=_n(),WI=et(),zI=Rc(),jy=Re(),aa=zr(),Ct=Mn(),zc=t=>`Expected ${Jr.MessageHeader[t]} Message in stream, but was null or length 0.`,Hc=t=>`Header pointer of flatbuffer-encoded ${Jr.MessageHeader[t]} Message is null or length 0.`,qy=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,Wy=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`,Yc=class{constructor(e){this.source=e instanceof aa.ByteStream?e:new aa.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Ct.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let r;if((r=this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error(zc(e));return r.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let r=jy.toUint8Array(this.source.read(e));if(r.byteLength<e)throw new Error(Wy(e,r.byteLength));return r.byteOffset%8==0&&r.byteOffset+r.byteLength<=r.buffer.byteLength?r:r.slice()}readSchema(e=!1){let r=Jr.MessageHeader.Schema,n=this.readMessage(r),i=n&&n.header();if(e&&!i)throw new Error(Hc(r));return i}readMetadataLength(){let e=this.source.read(ne.PADDING),r=e&&new Cy(e),n=r&&r.readInt32(0)||0;return{done:n===0,value:n}}readMetadata(e){let r=this.source.read(e);if(!r)return Ct.ITERATOR_DONE;if(r.byteLength<e)throw new Error(qy(e,r.byteLength));return{done:!1,value:ds.Message.decode(r)}}};ne.MessageReader=Yc;var zy=class{constructor(e,r){this.source=e instanceof aa.AsyncByteStream?e:WI.isFileHandle(e)?new zI.AsyncRandomAccessFile(e,r):new aa.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}async next(){let e;return(e=await this.readMetadataLength()).done||e.value===-1&&(e=await this.readMetadataLength()).done||(e=await this.readMetadata(e.value)).done?Ct.ITERATOR_DONE:e}async throw(e){return await this.source.throw(e)}async return(e){return await this.source.return(e)}async readMessage(e){let r;if((r=await this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error(zc(e));return r.value}async readMessageBody(e){if(e<=0)return new Uint8Array(0);let r=jy.toUint8Array(await this.source.read(e));if(r.byteLength<e)throw new Error(Wy(e,r.byteLength));return r.byteOffset%8==0&&r.byteOffset+r.byteLength<=r.buffer.byteLength?r:r.slice()}async readSchema(e=!1){let r=Jr.MessageHeader.Schema,n=await this.readMessage(r),i=n&&n.header();if(e&&!i)throw new Error(Hc(r));return i}async readMetadataLength(){let e=await this.source.read(ne.PADDING),r=e&&new Cy(e),n=r&&r.readInt32(0)||0;return{done:n===0,value:n}}async readMetadata(e){let r=await this.source.read(e);if(!r)return Ct.ITERATOR_DONE;if(r.byteLength<e)throw new Error(qy(e,r.byteLength));return{done:!1,value:ds.Message.decode(r)}}};ne.AsyncMessageReader=zy;var Hy=class extends Yc{constructor(e){super(new Uint8Array(0));this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof Ct.ArrowJSON?e:new Ct.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let r=ds.Message.fromJSON(e.schema,Jr.MessageHeader.Schema);return{done:!1,value:r}}if(this._dictionaryIndex<e.dictionaries.length){let r=e.dictionaries[this._dictionaryIndex++];this._body=r.data.columns;let n=ds.Message.fromJSON(r,Jr.MessageHeader.DictionaryBatch);return{done:!1,value:n}}if(this._batchIndex<e.batches.length){let r=e.batches[this._batchIndex++];this._body=r.columns;let n=ds.Message.fromJSON(r,Jr.MessageHeader.RecordBatch);return{done:!1,value:n}}return this._body=[],Ct.ITERATOR_DONE}readMessageBody(e){return r(this._body);function r(n){return(n||[]).reduce((i,o)=>[...i,...o.VALIDITY&&[o.VALIDITY]||[],...o.TYPE&&[o.TYPE]||[],...o.OFFSET&&[o.OFFSET]||[],...o.DATA&&[o.DATA]||[],...r(o.children)],[])}}readMessage(e){let r;if((r=this.next()).done)return null;if(e!=null&&r.value.headerType!==e)throw new Error(zc(e));return r.value}readSchema(){let e=Jr.MessageHeader.Schema,r=this.readMessage(e),n=r&&r.header();if(!r||!n)throw new Error(Hc(e));return n}};ne.JSONMessageReader=Hy;ne.PADDING=4;ne.MAGIC_STR="ARROW1";ne.MAGIC=new Uint8Array(ne.MAGIC_STR.length);for(let t=0;t<ne.MAGIC_STR.length;t+=1|0)ne.MAGIC[t]=ne.MAGIC_STR.charCodeAt(t);function HI(t,e=0){for(let r=-1,n=ne.MAGIC.length;++r<n;)if(ne.MAGIC[r]!==t[e+r])return!1;return!0}ne.checkForMagicArrowString=HI;ne.magicLength=ne.MAGIC.length;ne.magicAndPadding=ne.magicLength+ne.PADDING;ne.magicX2AndPadding=ne.magicLength*2+ne.PADDING});var Ky=T(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.VectorAssembler=void 0;var YI=Je(),Yy=pe(),GI=Tr(),Gc=Re(),$c=Jt(),$I=kr(),Gy=_n(),$y=ce(),Pe=class extends YI.Visitor{constructor(){super();this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let r=new Pe,n=$I.selectVectorChildrenArgs(GI.RecordBatch,e),[i=r]=r.visitMany(n);return i}visit(e){if(!$y.DataType.isDictionary(e.type)){let{data:r,length:n,nullCount:i}=e;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");$y.DataType.isNull(e.type)||jt.call(this,i<=0?new Uint8Array(0):$c.truncateBitmap(r.offset,n,r.nullBitmap)),this.nodes.push(new Gy.FieldNode(n,i))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};ca.VectorAssembler=Pe;function jt(t){let e=t.byteLength+7&~7;return this.buffers.push(t),this.bufferRegions.push(new Gy.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function JI(t){let{type:e,length:r,typeIds:n,valueOffsets:i}=t;if(jt.call(this,n),e.mode===Yy.UnionMode.Sparse)return Kc.call(this,t);if(e.mode===Yy.UnionMode.Dense){if(t.offset<=0)return jt.call(this,i),Kc.call(this,t);{let o=n.reduce((l,g)=>Math.max(l,g),n[0]),u=new Int32Array(o+1),a=new Int32Array(o+1).fill(-1),p=new Int32Array(r),s=Gc.rebaseValueOffsets(-i[0],r,i);for(let l,g,L=-1;++L<r;)(g=a[l=n[L]])===-1&&(g=a[l]=s[l]),p[L]=s[L]-g,++u[l];jt.call(this,p);for(let l,g=-1,L=e.children.length;++g<L;)if(l=t.getChildAt(g)){let ae=e.typeIds[g],Ye=Math.min(r,u[ae]);this.visit(l.slice(a[ae],Ye))}}}return this}function KI(t){let e;return t.nullCount>=t.length?jt.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?jt.call(this,$c.truncateBitmap(t.offset,t.length,e)):jt.call(this,$c.packBools(t))}function Kr(t){return jt.call(this,t.values.subarray(0,t.length*t.stride))}function Jy(t){let{length:e,values:r,valueOffsets:n}=t,i=n[0],o=n[e],u=Math.min(o-i,r.byteLength-i);return jt.call(this,Gc.rebaseValueOffsets(-n[0],e,n)),jt.call(this,r.subarray(i,i+u)),this}function Jc(t){let{length:e,valueOffsets:r}=t;return r&&jt.call(this,Gc.rebaseValueOffsets(r[0],e,r)),this.visit(t.getChildAt(0))}function Kc(t){return this.visitMany(t.type.children.map((e,r)=>t.getChildAt(r)).filter(Boolean))[0]}Pe.prototype.visitBool=KI;Pe.prototype.visitInt=Kr;Pe.prototype.visitFloat=Kr;Pe.prototype.visitUtf8=Jy;Pe.prototype.visitBinary=Jy;Pe.prototype.visitFixedSizeBinary=Kr;Pe.prototype.visitDate=Kr;Pe.prototype.visitTimestamp=Kr;Pe.prototype.visitTime=Kr;Pe.prototype.visitDecimal=Kr;Pe.prototype.visitList=Jc;Pe.prototype.visitStruct=Kc;Pe.prototype.visitUnion=JI;Pe.prototype.visitInterval=Kr;Pe.prototype.visitFixedSizeList=Jc;Pe.prototype.visitMap=Jc});var Xy=T(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.JSONTypeAssembler=void 0;var QI=Je(),we=pe(),Qy=class extends QI.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:we.ArrowType[e].toLowerCase()}}visitInt({typeId:e,bitWidth:r,isSigned:n}){return{name:we.ArrowType[e].toLowerCase(),bitWidth:r,isSigned:n}}visitFloat({typeId:e,precision:r}){return{name:we.ArrowType[e].toLowerCase(),precision:we.Precision[r]}}visitBinary({typeId:e}){return{name:we.ArrowType[e].toLowerCase()}}visitBool({typeId:e}){return{name:we.ArrowType[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:we.ArrowType[e].toLowerCase()}}visitDecimal({typeId:e,scale:r,precision:n}){return{name:we.ArrowType[e].toLowerCase(),scale:r,precision:n}}visitDate({typeId:e,unit:r}){return{name:we.ArrowType[e].toLowerCase(),unit:we.DateUnit[r]}}visitTime({typeId:e,unit:r,bitWidth:n}){return{name:we.ArrowType[e].toLowerCase(),unit:we.TimeUnit[r],bitWidth:n}}visitTimestamp({typeId:e,timezone:r,unit:n}){return{name:we.ArrowType[e].toLowerCase(),unit:we.TimeUnit[n],timezone:r}}visitInterval({typeId:e,unit:r}){return{name:we.ArrowType[e].toLowerCase(),unit:we.IntervalUnit[r]}}visitList({typeId:e}){return{name:we.ArrowType[e].toLowerCase()}}visitStruct({typeId:e}){return{name:we.ArrowType[e].toLowerCase()}}visitUnion({typeId:e,mode:r,typeIds:n}){return{name:we.ArrowType[e].toLowerCase(),mode:we.UnionMode[r],typeIds:[...n]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:r}){return{name:we.ArrowType[e].toLowerCase(),byteWidth:r}}visitFixedSizeList({typeId:e,listSize:r}){return{name:we.ArrowType[e].toLowerCase(),listSize:r}}visitMap({typeId:e,keysSorted:r}){return{name:we.ArrowType[e].toLowerCase(),keysSorted:r}}};la.JSONTypeAssembler=Qy});var tm=T(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.JSONVectorAssembler=void 0;var XI=es(),fs=Jn(),ZI=Ae(),eS=Je(),tS=pe(),rS=Tr(),Qc=pe(),da=Jt(),nS=kr(),Zy=ce(),fa=class extends eS.Visitor{static assemble(...e){return new fa().visitMany(nS.selectColumnChildrenArgs(rS.RecordBatch,e))}visit(e){let{data:r,name:n,length:i}=e,{offset:o,nullCount:u,nullBitmap:a}=r,p=Zy.DataType.isDictionary(e.type)?e.type.indices:e.type,s=Object.assign([],r.buffers,{[tS.BufferType.VALIDITY]:void 0});return{name:n,count:i,VALIDITY:Zy.DataType.isNull(p)?void 0:u<=0?Array.from({length:i},()=>1):[...da.iterateBits(a,o,i,null,da.getBit)],...super.visit(ZI.Vector.new(r.clone(p,o,i,0,s)))}}visitNull(){return{}}visitBool({values:e,offset:r,length:n}){return{DATA:[...da.iterateBits(e,r,n,null,da.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...hs(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...e],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...em(e)],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...em(e)]}}visitDate(e){return{DATA:e.type.unit===Qc.DateUnit.DAY?[...e.values]:[...hs(e.values,2)]}}visitTimestamp(e){return{DATA:[...hs(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<Qc.TimeUnit.MICROSECOND?[...e.values]:[...hs(e.values,2)]}}visitDecimal(e){return{DATA:[...hs(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((r,n)=>this.visit(new fs.Column(r,[e.getChildAt(n)])))}}visitStruct(e){return{children:e.type.children.map((r,n)=>this.visit(new fs.Column(r,[e.getChildAt(n)])))}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===Qc.UnionMode.Dense?[...e.valueOffsets]:void 0,children:e.type.children.map((r,n)=>this.visit(new fs.Column(r,[e.getChildAt(n)])))}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:e.type.children.map((r,n)=>this.visit(new fs.Column(r,[e.getChildAt(n)])))}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map((r,n)=>this.visit(new fs.Column(r,[e.getChildAt(n)])))}}};ha.JSONVectorAssembler=fa;function*em(t){for(let e of t)yield e.reduce((r,n)=>`${r}${("0"+(n&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*hs(t,e){for(let r=-1,n=t.length/e;++r<n;)yield`${XI.BN.new(t.subarray((r+0)*e,(r+1)*e),!1)}`}});var _a=T(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.RecordBatchJSONWriter=ar.RecordBatchFileWriter=ar.RecordBatchStreamWriter=ar.RecordBatchWriter=void 0;var Xc=ys(),iS=ua(),sS=Jn(),oS=ce(),aS=qe(),pa=_n(),Zc=_n(),li=Dc(),el=pe(),tl=zr(),rm=Ky(),uS=Xy(),nm=tm(),cS=Re(),rl=Tr(),lS=Mn(),or=et(),ps=class extends lS.ReadableInterop{constructor(e){super();this._position=0,this._started=!1,this._sink=new tl.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,or.isObject(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,r){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return or.isPromise(e)?e.then(r=>this.writeAll(r)):or.isAsyncIterable(e)?il(this,e):nl(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,r=null){return e===this._sink||e instanceof tl.AsyncByteQueue?this._sink=e:(this._sink=new tl.AsyncByteQueue,e&&or.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&or.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!r||!r.compareTo(this._schema))&&(r===null?(this._position=0,this._schema=null):(this._started=!0,this._schema=r,this._writeSchema(r))),this}write(e){let r=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Xc.Table&&!(r=e.schema))return this.finish()&&void 0;if(e instanceof rl.RecordBatch&&!(r=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(r&&!r.compareTo(this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,r)}e instanceof rl.RecordBatch?e instanceof rl._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof Xc.Table?this.writeAll(e.chunks):or.isIterable(e)&&this.writeAll(e)}_writeMessage(e,r=8){let n=r-1,i=pa.Message.encode(e),o=i.byteLength,u=this._writeLegacyIpcFormat?4:8,a=o+u+n&~n,p=a-o-u;return e.headerType===el.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new li.FileBlock(a,e.bodyLength,this._position)):e.headerType===el.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new li.FileBlock(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-u)),o>0&&this._write(i),this._writePadding(p)}_write(e){if(this._started){let r=cS.toUint8Array(e);r&&r.byteLength>0&&(this._sink.write(r),this._position+=r.byteLength)}return this}_writeSchema(e){return this._writeMessage(pa.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(iS.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:r,nodes:n,bufferRegions:i,buffers:o}=rm.VectorAssembler.assemble(e),u=new Zc.RecordBatch(e.length,n,i),a=pa.Message.from(u,r);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(o)}_writeDictionaryBatch(e,r,n=!1){this._dictionaryDeltaOffsets.set(r,e.length+(this._dictionaryDeltaOffsets.get(r)||0));let{byteLength:i,nodes:o,bufferRegions:u,buffers:a}=rm.VectorAssembler.assemble(e),p=new Zc.RecordBatch(e.length,o,u),s=new Zc.DictionaryBatch(p,r,n),l=pa.Message.from(s,i);return this._writeMessage(l)._writeBodyBuffers(a)}_writeBodyBuffers(e){let r,n,i;for(let o=-1,u=e.length;++o<u;)(r=e[o])&&(n=r.byteLength)>0&&(this._write(r),(i=(n+7&~7)-n)>0&&this._writePadding(i));return this}_writeDictionaries(e){for(let[r,n]of e.dictionaries){let i=this._dictionaryDeltaOffsets.get(r)||0;if(i===0||(n=n.slice(i)).length>0){let o="chunks"in n?n.chunks:[n];for(let u of o)this._writeDictionaryBatch(u,r,i>0),i+=u.length}}return this}};ar.RecordBatchWriter=ps;var ya=class extends ps{static writeAll(e,r){let n=new ya(r);return or.isPromise(e)?e.then(i=>n.writeAll(i)):or.isAsyncIterable(e)?il(n,e):nl(n,e)}};ar.RecordBatchStreamWriter=ya;var ma=class extends ps{static writeAll(e){let r=new ma;return or.isPromise(e)?e.then(n=>r.writeAll(n)):or.isAsyncIterable(e)?il(r,e):nl(r,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let r=li.Footer.encode(new li.Footer(e,el.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(r)._write(Int32Array.of(r.byteLength))._writeMagic()}};ar.RecordBatchFileWriter=ma;var ba=class extends ps{constructor(){super();this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return new ba().writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(im)},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,r,n=!1){return this._dictionaryDeltaOffsets.set(r,e.length+(this._dictionaryDeltaOffsets.get(r)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(`${dS(e,r,n)}`),this._dictionaryBlocks.push(new li.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(let e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,r=this._recordBatches.length;++e<r;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(`${fS(this._recordBatches[e])}`),this._recordBatchBlocks.push(new li.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}};ar.RecordBatchJSONWriter=ba;function nl(t,e){let r=e;e instanceof Xc.Table&&(r=e.chunks,t.reset(void 0,e.schema));for(let n of r)t.write(n);return t.finish()}async function il(t,e){for await(let r of e)t.write(r);return t.finish()}function im({name:t,type:e,nullable:r}){let n=new uS.JSONTypeAssembler;return{name:t,nullable:r,type:n.visit(e),children:(e.children||[]).map(im),dictionary:oS.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:n.visit(e.indices)}:void 0}}function dS(t,e,r=!1){let n=new aS.Field(`${e}`,t.type,t.nullCount>0),i=nm.JSONVectorAssembler.assemble(new sS.Column(n,[t]));return JSON.stringify({id:e,isDelta:r,data:{count:t.length,columns:i}},null,2)}function fS(t){return JSON.stringify({count:t.length,columns:nm.JSONVectorAssembler.assemble(t)},null,2)}});var al=T(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.distributeVectorsIntoRecordBatches=Qr.distributeColumnsIntoRecordBatches=Qr.ensureSameLengthData=void 0;var sm=kt(),sl=qe(),hS=Vr(),pS=Tr(),ol=new Uint8Array(0),om=t=>[ol,ol,new Uint8Array(t),ol];function yS(t,e,r=e.reduce((n,i)=>Math.max(n,i.length),0)){let n,i,o=-1,u=e.length,a=[...t.fields],p=[],s=(r+63&~63)>>3;for(;++o<u;)(n=e[o])&&n.length===r?p[o]=n:((i=a[o]).nullable||(a[o]=a[o].clone({nullable:!0})),p[o]=n?n._changeLengthAndBackfillNullBitmap(r):sm.Data.new(i.type,0,r,r,om(s)));return[new sl.Schema(a),r,p]}Qr.ensureSameLengthData=yS;function mS(t){return am(new sl.Schema(t.map(({field:e})=>e)),t)}Qr.distributeColumnsIntoRecordBatches=mS;function am(t,e){return bS(t,e.map(r=>r instanceof hS.Chunked?r.chunks.map(n=>n.data):[r.data]))}Qr.distributeVectorsIntoRecordBatches=am;function bS(t,e){let r=[...t.fields],n=[],i={numBatches:e.reduce((g,L)=>Math.max(g,L.length),0)},o=0,u=0,a=-1,p=e.length,s,l=[];for(;i.numBatches-- >0;){for(u=Number.POSITIVE_INFINITY,a=-1;++a<p;)l[a]=s=e[a].shift(),u=Math.min(u,s?s.length:u);isFinite(u)&&(l=_S(r,u,l,e,i),u>0&&(n[o++]=[u,l.slice()]))}return[t=new sl.Schema(r,t.metadata),n.map(g=>new pS.RecordBatch(t,...g))]}function _S(t,e,r,n,i){let o,u,a=0,p=-1,s=n.length,l=(e+63&~63)>>3;for(;++p<s;)(o=r[p])&&(a=o.length)>=e?a===e?r[p]=o:(r[p]=o.slice(0,e),o=o.slice(e,a-e),i.numBatches=Math.max(i.numBatches,n[p].unshift(o))):((u=t[p]).nullable||(t[p]=u.clone({nullable:!0})),r[p]=o?o._changeLengthAndBackfillNullBitmap(e):sm.Data.new(u.type,0,e,e,om(l)));return r}});var De=T(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.BaseVector=void 0;var gS=pe(),wS=Vr(),vS=ns(),ul=Ae(),cl=class extends ul.AbstractVector{constructor(e,r){super();this._children=r,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${gS.Type[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,r=this._children){return ul.Vector.new(e,r)}concat(...e){return wS.Chunked.concat(this,...e)}slice(e,r){return vS.clampRange(this,e,r,this._sliceInternal)}isValid(e){if(this.nullCount>0){let r=this.offset+e;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=ul.Vector.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,r,n){return e.clone(e.data.slice(r,n-r),null)}_bindDataAccessors(e){}};ga.BaseVector=cl;cl.prototype[Symbol.isConcatSpreadable]=!0});var ll=T(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.BinaryVector=void 0;var TS=Ae(),BS=De(),IS=ce(),um=class extends BS.BaseVector{asUtf8(){return TS.Vector.new(this.data.clone(new IS.Utf8))}};wa.BinaryVector=um});var dl=T(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.BoolVector=void 0;var SS=ce(),OS=De(),AS=ur(),cm=class extends OS.BaseVector{static from(e){return AS.vectorFromValuesWithType(()=>new SS.Bool,e)}};va.BoolVector=cm});var hl=T(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.DateMillisecondVector=Xr.DateDayVector=Xr.DateVector=void 0;var DS=pe(),FS=De(),lm=ur(),fl=ce(),Ta=class extends FS.BaseVector{static from(...e){return e.length===2?lm.vectorFromValuesWithType(()=>e[1]===DS.DateUnit.DAY?new fl.DateDay:new fl.DateMillisecond,e[0]):lm.vectorFromValuesWithType(()=>new fl.DateMillisecond,e[0])}};Xr.DateVector=Ta;var dm=class extends Ta{};Xr.DateDayVector=dm;var fm=class extends Ta{};Xr.DateMillisecondVector=fm});var pl=T(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.DecimalVector=void 0;var ES=De(),hm=class extends ES.BaseVector{};Ba.DecimalVector=hm});var Sa=T(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.DictionaryVector=void 0;var RS=kt(),pm=Ae(),US=De(),MS=ur(),PS=ce(),yl=class extends US.BaseVector{constructor(e){super(e);this.indices=pm.Vector.new(e.clone(this.type.indices))}static from(...e){if(e.length===3){let[r,n,i]=e,o=new PS.Dictionary(r.type,n,null,null);return pm.Vector.new(RS.Data.Dictionary(o,0,i.length,0,null,i,r))}return MS.vectorFromValuesWithType(()=>e[0].type,e[0])}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,r){return this.indices.set(e,r)}setValue(e,r){return this.dictionary.set(e,r)}};Ia.DictionaryVector=yl;yl.prototype.indices=null});var ml=T(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.FixedSizeBinaryVector=void 0;var VS=De(),ym=class extends VS.BaseVector{};Oa.FixedSizeBinaryVector=ym});var bl=T(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.FixedSizeListVector=void 0;var kS=De(),mm=class extends kS.BaseVector{};Aa.FixedSizeListVector=mm});var vl=T(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.Float64Vector=cr.Float32Vector=cr.Float16Vector=cr.FloatVector=void 0;var NS=kt(),LS=Ae(),xS=De(),CS=ur(),Tn=ce(),ms=class extends xS.BaseVector{static from(e){let r=WS(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let n=qS(e.constructor)||r;if(r===null&&(r=n),r&&r===n){let i=new r,o=e.byteLength/i.ArrayType.BYTES_PER_ELEMENT;if(!jS(r,e.constructor))return LS.Vector.new(NS.Data.Float(i,0,o,0,null,e))}}if(r)return CS.vectorFromValuesWithType(()=>new r,e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}};cr.FloatVector=ms;var _l=class extends ms{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}};cr.Float16Vector=_l;var gl=class extends ms{};cr.Float32Vector=gl;var wl=class extends ms{};cr.Float64Vector=wl;var jS=(t,e)=>t===Tn.Float16&&e!==Uint16Array,qS=t=>{switch(t){case Uint16Array:return Tn.Float16;case Float32Array:return Tn.Float32;case Float64Array:return Tn.Float64;default:return null}},WS=t=>{switch(t){case _l:return Tn.Float16;case gl:return Tn.Float32;case wl:return Tn.Float64;default:return null}}});var Tl=T(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.IntervalYearMonthVector=Zr.IntervalDayTimeVector=Zr.IntervalVector=void 0;var zS=De(),Da=class extends zS.BaseVector{};Zr.IntervalVector=Da;var bm=class extends Da{};Zr.IntervalDayTimeVector=bm;var _m=class extends Da{};Zr.IntervalYearMonthVector=_m});var Fa=T(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Uint64Vector=Ve.Uint32Vector=Ve.Uint16Vector=Ve.Uint8Vector=Ve.Int64Vector=Ve.Int32Vector=Ve.Int16Vector=Ve.Int8Vector=Ve.IntVector=void 0;var HS=kt(),YS=Ae(),GS=De(),$S=ur(),gm=et(),wm=Re(),Se=ce(),lr=class extends GS.BaseVector{static from(...e){let[r,n=!1]=e,i=QS(this,n);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)){let o=KS(r.constructor,n)||i;if(i===null&&(i=o),i&&i===o){let u=new i,a=r.byteLength/u.ArrayType.BYTES_PER_ELEMENT;return JS(i,r.constructor)&&(a*=.5),YS.Vector.new(HS.Data.Int(u,0,a,0,null,r))}}if(i)return $S.vectorFromValuesWithType(()=>new i,r);throw r instanceof DataView||r instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${r.constructor.name}`):new TypeError("Unrecognized IntVector input")}};Ve.IntVector=lr;var Bl=class extends lr{};Ve.Int8Vector=Bl;var Il=class extends lr{};Ve.Int16Vector=Il;var Sl=class extends lr{};Ve.Int32Vector=Sl;var Ol=class extends lr{toBigInt64Array(){return wm.toBigInt64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}};Ve.Int64Vector=Ol;var Al=class extends lr{};Ve.Uint8Vector=Al;var Dl=class extends lr{};Ve.Uint16Vector=Dl;var Fl=class extends lr{};Ve.Uint32Vector=Fl;var El=class extends lr{toBigUint64Array(){return wm.toBigUint64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}};Ve.Uint64Vector=El;var JS=(t,e)=>(t===Se.Int64||t===Se.Uint64)&&(e===Int32Array||e===Uint32Array),KS=(t,e)=>{switch(t){case Int8Array:return Se.Int8;case Int16Array:return Se.Int16;case Int32Array:return e?Se.Int64:Se.Int32;case gm.BigInt64Array:return Se.Int64;case Uint8Array:return Se.Uint8;case Uint16Array:return Se.Uint16;case Uint32Array:return e?Se.Uint64:Se.Uint32;case gm.BigUint64Array:return Se.Uint64;default:return null}},QS=(t,e)=>{switch(t){case Bl:return Se.Int8;case Il:return Se.Int16;case Sl:return e?Se.Int64:Se.Int32;case Ol:return Se.Int64;case Al:return Se.Uint8;case Dl:return Se.Uint16;case Fl:return e?Se.Uint64:Se.Uint32;case El:return Se.Uint64;default:return null}}});var Rl=T(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.ListVector=void 0;var XS=De(),vm=class extends XS.BaseVector{};Ea.ListVector=vm});var Ul=T(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.MapVector=void 0;var ZS=ts(),e0=Ae(),t0=De(),r0=ce(),Tm=class extends t0.BaseVector{asList(){let e=this.type.children[0];return e0.Vector.new(this.data.clone(new r0.List(e)))}bind(e){let r=this.getChildAt(0),{[e]:n,[e+1]:i}=this.valueOffsets;return new ZS.MapRow(r.slice(n,i))}};Ra.MapVector=Tm});var Ml=T(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.NullVector=void 0;var n0=De(),Bm=class extends n0.BaseVector{};Ua.NullVector=Bm});var Pl=T(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.StructVector=void 0;var i0=ts(),s0=De(),o0=Symbol.for("rowIndex"),Im=class extends s0.BaseVector{bind(e){let r=this._row||(this._row=new i0.StructRow(this)),n=Object.create(r);return n[o0]=e,n}};Ma.StructVector=Im});var Vl=T(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.TimestampNanosecondVector=Dt.TimestampMicrosecondVector=Dt.TimestampMillisecondVector=Dt.TimestampSecondVector=Dt.TimestampVector=void 0;var a0=De(),di=class extends a0.BaseVector{};Dt.TimestampVector=di;var Sm=class extends di{};Dt.TimestampSecondVector=Sm;var Om=class extends di{};Dt.TimestampMillisecondVector=Om;var Am=class extends di{};Dt.TimestampMicrosecondVector=Am;var Dm=class extends di{};Dt.TimestampNanosecondVector=Dm});var kl=T(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.TimeNanosecondVector=Ft.TimeMicrosecondVector=Ft.TimeMillisecondVector=Ft.TimeSecondVector=Ft.TimeVector=void 0;var u0=De(),fi=class extends u0.BaseVector{};Ft.TimeVector=fi;var Fm=class extends fi{};Ft.TimeSecondVector=Fm;var Em=class extends fi{};Ft.TimeMillisecondVector=Em;var Rm=class extends fi{};Ft.TimeMicrosecondVector=Rm;var Um=class extends fi{};Ft.TimeNanosecondVector=Um});var Nl=T(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.SparseUnionVector=en.DenseUnionVector=en.UnionVector=void 0;var c0=De(),Pa=class extends c0.BaseVector{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}};en.UnionVector=Pa;var Mm=class extends Pa{get valueOffsets(){return this.data.valueOffsets}};en.DenseUnionVector=Mm;var Pm=class extends Pa{};en.SparseUnionVector=Pm});var Ll=T(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.Utf8Vector=void 0;var l0=Ae(),d0=De(),Vm=ce(),f0=ur(),km=class extends d0.BaseVector{static from(e){return f0.vectorFromValuesWithType(()=>new Vm.Utf8,e)}asBinary(){return l0.Vector.new(this.data.clone(new Vm.Binary))}};Va.Utf8Vector=km});var Nm=T(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.partial2=tn.partial1=tn.partial0=void 0;function h0(t){return function(){return t(this)}}tn.partial0=h0;function p0(t){return function(e){return t(this,e)}}tn.partial1=p0;function y0(t){return function(e,r){return t(this,e,r)}}tn.partial2=y0});var jl=T(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.instance=hi.GetVisitor=void 0;var ka=es(),m0=Je(),b0=ln(),_0=Ki(),Et=pe(),j=class extends m0.Visitor{};hi.GetVisitor=j;var g0=(t,e)=>864e5*t[e],xl=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),w0=(t,e)=>4294967296*(t[e+1]/1e3)+(t[e]>>>0)/1e3,v0=(t,e)=>4294967296*(t[e+1]/1e6)+(t[e]>>>0)/1e6,Lm=t=>new Date(t),T0=(t,e)=>Lm(g0(t,e)),B0=(t,e)=>Lm(xl(t,e)),I0=(t,e)=>null,xm=(t,e,r)=>{let{[r]:n,[r+1]:i}=e;return n!=null&&i!=null?t.subarray(n,i):null},S0=({offset:t,values:e},r)=>{let n=t+r;return(e[n>>3]&1<<n%8)!=0},Cm=({values:t},e)=>T0(t,e),jm=({values:t},e)=>B0(t,e*2),dr=({stride:t,values:e},r)=>e[t*r],qm=({stride:t,values:e},r)=>_0.uint16ToFloat64(e[t*r]),Cl=({stride:t,values:e,type:r},n)=>ka.BN.new(e.subarray(t*n,t*(n+1)),r.isSigned),O0=({stride:t,values:e},r)=>e.subarray(t*r,t*(r+1)),A0=({values:t,valueOffsets:e},r)=>xm(t,e,r),D0=({values:t,valueOffsets:e},r)=>{let n=xm(t,e,r);return n!==null?b0.decodeUtf8(n):null},F0=(t,e)=>t.type.bitWidth<64?dr(t,e):Cl(t,e),E0=(t,e)=>t.type.precision!==Et.Precision.HALF?dr(t,e):qm(t,e),R0=(t,e)=>t.type.unit===Et.DateUnit.DAY?Cm(t,e):jm(t,e),Wm=({values:t},e)=>1e3*xl(t,e*2),zm=({values:t},e)=>xl(t,e*2),Hm=({values:t},e)=>w0(t,e*2),Ym=({values:t},e)=>v0(t,e*2),U0=(t,e)=>{switch(t.type.unit){case Et.TimeUnit.SECOND:return Wm(t,e);case Et.TimeUnit.MILLISECOND:return zm(t,e);case Et.TimeUnit.MICROSECOND:return Hm(t,e);case Et.TimeUnit.NANOSECOND:return Ym(t,e)}},Gm=({values:t,stride:e},r)=>t[e*r],$m=({values:t,stride:e},r)=>t[e*r],Jm=({values:t},e)=>ka.BN.signed(t.subarray(2*e,2*(e+1))),Km=({values:t},e)=>ka.BN.signed(t.subarray(2*e,2*(e+1))),M0=(t,e)=>{switch(t.type.unit){case Et.TimeUnit.SECOND:return Gm(t,e);case Et.TimeUnit.MILLISECOND:return $m(t,e);case Et.TimeUnit.MICROSECOND:return Jm(t,e);case Et.TimeUnit.NANOSECOND:return Km(t,e)}},P0=({values:t},e)=>ka.BN.decimal(t.subarray(4*e,4*(e+1))),V0=(t,e)=>{let r=t.getChildAt(0),{valueOffsets:n,stride:i}=t;return r.slice(n[e*i],n[e*i+1])},k0=(t,e)=>t.bind(e),N0=(t,e)=>t.bind(e),L0=(t,e)=>t.type.mode===Et.UnionMode.Dense?Qm(t,e):Xm(t,e),Qm=(t,e)=>{let r=t.typeIdToChildIndex[t.typeIds[e]],n=t.getChildAt(r);return n?n.get(t.valueOffsets[e]):null},Xm=(t,e)=>{let r=t.typeIdToChildIndex[t.typeIds[e]],n=t.getChildAt(r);return n?n.get(e):null},x0=(t,e)=>t.getValue(t.getKey(e)),C0=(t,e)=>t.type.unit===Et.IntervalUnit.DAY_TIME?Zm(t,e):eb(t,e),Zm=({values:t},e)=>t.subarray(2*e,2*(e+1)),eb=({values:t},e)=>{let r=t[e],n=new Int32Array(2);return n[0]=r/12|0,n[1]=r%12|0,n},j0=(t,e)=>{let r=t.getChildAt(0),{stride:n}=t;return r.slice(e*n,(e+1)*n)};j.prototype.visitNull=I0;j.prototype.visitBool=S0;j.prototype.visitInt=F0;j.prototype.visitInt8=dr;j.prototype.visitInt16=dr;j.prototype.visitInt32=dr;j.prototype.visitInt64=Cl;j.prototype.visitUint8=dr;j.prototype.visitUint16=dr;j.prototype.visitUint32=dr;j.prototype.visitUint64=Cl;j.prototype.visitFloat=E0;j.prototype.visitFloat16=qm;j.prototype.visitFloat32=dr;j.prototype.visitFloat64=dr;j.prototype.visitUtf8=D0;j.prototype.visitBinary=A0;j.prototype.visitFixedSizeBinary=O0;j.prototype.visitDate=R0;j.prototype.visitDateDay=Cm;j.prototype.visitDateMillisecond=jm;j.prototype.visitTimestamp=U0;j.prototype.visitTimestampSecond=Wm;j.prototype.visitTimestampMillisecond=zm;j.prototype.visitTimestampMicrosecond=Hm;j.prototype.visitTimestampNanosecond=Ym;j.prototype.visitTime=M0;j.prototype.visitTimeSecond=Gm;j.prototype.visitTimeMillisecond=$m;j.prototype.visitTimeMicrosecond=Jm;j.prototype.visitTimeNanosecond=Km;j.prototype.visitDecimal=P0;j.prototype.visitList=V0;j.prototype.visitStruct=N0;j.prototype.visitUnion=L0;j.prototype.visitDenseUnion=Qm;j.prototype.visitSparseUnion=Xm;j.prototype.visitDictionary=x0;j.prototype.visitInterval=C0;j.prototype.visitIntervalDayTime=Zm;j.prototype.visitIntervalYearMonth=eb;j.prototype.visitFixedSizeList=j0;j.prototype.visitMap=k0;hi.instance=new j});var ib=T(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.instance=pi.IndexOfVisitor=void 0;var q0=Je(),tb=Jt(),rb=ns(),q=class extends q0.Visitor{};pi.IndexOfVisitor=q;function W0(t,e){return e===null&&t.length>0?0:-1}function z0(t,e){let{nullBitmap:r}=t.data;if(!r||t.nullCount<=0)return-1;let n=0;for(let i of tb.iterateBits(r,t.data.offset+(e||0),t.length,r,tb.getBool)){if(!i)return n;++n}return-1}function X(t,e,r){if(e===void 0)return-1;if(e===null)return z0(t,r);let n=rb.createElementComparator(e);for(let i=(r||0)-1,o=t.length;++i<o;)if(n(t.get(i)))return i;return-1}function nb(t,e,r){let n=rb.createElementComparator(e);for(let i=(r||0)-1,o=t.length;++i<o;)if(n(t.get(i)))return i;return-1}q.prototype.visitNull=W0;q.prototype.visitBool=X;q.prototype.visitInt=X;q.prototype.visitInt8=X;q.prototype.visitInt16=X;q.prototype.visitInt32=X;q.prototype.visitInt64=X;q.prototype.visitUint8=X;q.prototype.visitUint16=X;q.prototype.visitUint32=X;q.prototype.visitUint64=X;q.prototype.visitFloat=X;q.prototype.visitFloat16=X;q.prototype.visitFloat32=X;q.prototype.visitFloat64=X;q.prototype.visitUtf8=X;q.prototype.visitBinary=X;q.prototype.visitFixedSizeBinary=X;q.prototype.visitDate=X;q.prototype.visitDateDay=X;q.prototype.visitDateMillisecond=X;q.prototype.visitTimestamp=X;q.prototype.visitTimestampSecond=X;q.prototype.visitTimestampMillisecond=X;q.prototype.visitTimestampMicrosecond=X;q.prototype.visitTimestampNanosecond=X;q.prototype.visitTime=X;q.prototype.visitTimeSecond=X;q.prototype.visitTimeMillisecond=X;q.prototype.visitTimeMicrosecond=X;q.prototype.visitTimeNanosecond=X;q.prototype.visitDecimal=X;q.prototype.visitList=X;q.prototype.visitStruct=X;q.prototype.visitUnion=X;q.prototype.visitDenseUnion=nb;q.prototype.visitSparseUnion=nb;q.prototype.visitDictionary=X;q.prototype.visitInterval=X;q.prototype.visitIntervalDayTime=X;q.prototype.visitIntervalYearMonth=X;q.prototype.visitFixedSizeList=X;q.prototype.visitMap=X;pi.instance=new q});var ql=T(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.instance=yi.IteratorVisitor=void 0;var Na=pe(),H0=Je(),Y0=Jt(),sb=jl(),W=class extends H0.Visitor{};yi.IteratorVisitor=W;function G0(t){let e=sb.instance.getVisitFn(t);return Y0.iterateBits(t.data.nullBitmap,t.data.offset,t.length,t,(r,n,i,o)=>(i&1<<o)!=0?e(r,n):null)}function K(t){if(t.nullCount>0)return G0(t);let{type:e,typeId:r,length:n}=t;return t.stride===1&&(r===Na.Type.Timestamp||r===Na.Type.Int&&e.bitWidth!==64||r===Na.Type.Time&&e.bitWidth!==64||r===Na.Type.Float&&e.precision>0)?t.data.values.subarray(0,n)[Symbol.iterator]():function*(i){for(let o=-1;++o<n;)yield i(t,o)}(sb.instance.getVisitFn(t))}W.prototype.visitNull=K;W.prototype.visitBool=K;W.prototype.visitInt=K;W.prototype.visitInt8=K;W.prototype.visitInt16=K;W.prototype.visitInt32=K;W.prototype.visitInt64=K;W.prototype.visitUint8=K;W.prototype.visitUint16=K;W.prototype.visitUint32=K;W.prototype.visitUint64=K;W.prototype.visitFloat=K;W.prototype.visitFloat16=K;W.prototype.visitFloat32=K;W.prototype.visitFloat64=K;W.prototype.visitUtf8=K;W.prototype.visitBinary=K;W.prototype.visitFixedSizeBinary=K;W.prototype.visitDate=K;W.prototype.visitDateDay=K;W.prototype.visitDateMillisecond=K;W.prototype.visitTimestamp=K;W.prototype.visitTimestampSecond=K;W.prototype.visitTimestampMillisecond=K;W.prototype.visitTimestampMicrosecond=K;W.prototype.visitTimestampNanosecond=K;W.prototype.visitTime=K;W.prototype.visitTimeSecond=K;W.prototype.visitTimeMillisecond=K;W.prototype.visitTimeMicrosecond=K;W.prototype.visitTimeNanosecond=K;W.prototype.visitDecimal=K;W.prototype.visitList=K;W.prototype.visitStruct=K;W.prototype.visitUnion=K;W.prototype.visitDenseUnion=K;W.prototype.visitSparseUnion=K;W.prototype.visitDictionary=K;W.prototype.visitInterval=K;W.prototype.visitIntervalDayTime=K;W.prototype.visitIntervalYearMonth=K;W.prototype.visitFixedSizeList=K;W.prototype.visitMap=K;yi.instance=new W});var ob=T(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.instance=mi.ToArrayVisitor=void 0;var bs=pe(),$0=Je(),J0=ql(),z=class extends $0.Visitor{};mi.ToArrayVisitor=z;function Q(t){let{type:e,length:r,stride:n}=t;switch(e.typeId){case bs.Type.Int:case bs.Type.Float:case bs.Type.Decimal:case bs.Type.Time:case bs.Type.Timestamp:return t.data.values.subarray(0,r*n)}return[...J0.instance.visit(t)]}z.prototype.visitNull=Q;z.prototype.visitBool=Q;z.prototype.visitInt=Q;z.prototype.visitInt8=Q;z.prototype.visitInt16=Q;z.prototype.visitInt32=Q;z.prototype.visitInt64=Q;z.prototype.visitUint8=Q;z.prototype.visitUint16=Q;z.prototype.visitUint32=Q;z.prototype.visitUint64=Q;z.prototype.visitFloat=Q;z.prototype.visitFloat16=Q;z.prototype.visitFloat32=Q;z.prototype.visitFloat64=Q;z.prototype.visitUtf8=Q;z.prototype.visitBinary=Q;z.prototype.visitFixedSizeBinary=Q;z.prototype.visitDate=Q;z.prototype.visitDateDay=Q;z.prototype.visitDateMillisecond=Q;z.prototype.visitTimestamp=Q;z.prototype.visitTimestampSecond=Q;z.prototype.visitTimestampMillisecond=Q;z.prototype.visitTimestampMicrosecond=Q;z.prototype.visitTimestampNanosecond=Q;z.prototype.visitTime=Q;z.prototype.visitTimeSecond=Q;z.prototype.visitTimeMillisecond=Q;z.prototype.visitTimeMicrosecond=Q;z.prototype.visitTimeNanosecond=Q;z.prototype.visitDecimal=Q;z.prototype.visitList=Q;z.prototype.visitStruct=Q;z.prototype.visitUnion=Q;z.prototype.visitDenseUnion=Q;z.prototype.visitSparseUnion=Q;z.prototype.visitDictionary=Q;z.prototype.visitInterval=Q;z.prototype.visitIntervalDayTime=Q;z.prototype.visitIntervalYearMonth=Q;z.prototype.visitFixedSizeList=Q;z.prototype.visitMap=Q;mi.instance=new z});var ab=T(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.instance=bi.ByteWidthVisitor=void 0;var K0=Je(),Q0=pe(),_s=(t,e)=>t+e,Wl=t=>`Cannot compute the byte width of variable-width column ${t}`,zl=class extends K0.Visitor{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(Wl(e))}visitUtf8(e){throw new Error(Wl(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return(e.unit+1)*4}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===Q0.TimeUnit.SECOND?4:8}visitInterval(e){return(e.unit+1)*4}visitList(e){throw new Error(Wl(e))}visitStruct(e){return this.visitFields(e.children).reduce(_s,0)}visitUnion(e){return this.visitFields(e.children).reduce(_s,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(_s,0)}visitMap(e){return this.visitFields(e.children).reduce(_s,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map(r=>this.visit(r.type))}visitSchema(e){return this.visitFields(e.fields).reduce(_s,0)}};bi.ByteWidthVisitor=zl;bi.instance=new zl});var ub=T(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.instance=_i.GetVectorConstructor=void 0;var X0=Je(),Z0=ll(),eO=dl(),Hl=hl(),tO=pl(),rO=Sa(),nO=ml(),iO=bl(),La=vl(),Yl=Tl(),Br=Fa(),sO=Rl(),oO=Ul(),aO=Ml(),uO=Pl(),gs=Vl(),ws=kl(),Gl=Nl(),cO=Ll(),$l=class extends X0.Visitor{visitNull(){return aO.NullVector}visitBool(){return eO.BoolVector}visitInt(){return Br.IntVector}visitInt8(){return Br.Int8Vector}visitInt16(){return Br.Int16Vector}visitInt32(){return Br.Int32Vector}visitInt64(){return Br.Int64Vector}visitUint8(){return Br.Uint8Vector}visitUint16(){return Br.Uint16Vector}visitUint32(){return Br.Uint32Vector}visitUint64(){return Br.Uint64Vector}visitFloat(){return La.FloatVector}visitFloat16(){return La.Float16Vector}visitFloat32(){return La.Float32Vector}visitFloat64(){return La.Float64Vector}visitUtf8(){return cO.Utf8Vector}visitBinary(){return Z0.BinaryVector}visitFixedSizeBinary(){return nO.FixedSizeBinaryVector}visitDate(){return Hl.DateVector}visitDateDay(){return Hl.DateDayVector}visitDateMillisecond(){return Hl.DateMillisecondVector}visitTimestamp(){return gs.TimestampVector}visitTimestampSecond(){return gs.TimestampSecondVector}visitTimestampMillisecond(){return gs.TimestampMillisecondVector}visitTimestampMicrosecond(){return gs.TimestampMicrosecondVector}visitTimestampNanosecond(){return gs.TimestampNanosecondVector}visitTime(){return ws.TimeVector}visitTimeSecond(){return ws.TimeSecondVector}visitTimeMillisecond(){return ws.TimeMillisecondVector}visitTimeMicrosecond(){return ws.TimeMicrosecondVector}visitTimeNanosecond(){return ws.TimeNanosecondVector}visitDecimal(){return tO.DecimalVector}visitList(){return sO.ListVector}visitStruct(){return uO.StructVector}visitUnion(){return Gl.UnionVector}visitDenseUnion(){return Gl.DenseUnionVector}visitSparseUnion(){return Gl.SparseUnionVector}visitDictionary(){return rO.DictionaryVector}visitInterval(){return Yl.IntervalVector}visitIntervalDayTime(){return Yl.IntervalDayTimeVector}visitIntervalYearMonth(){return Yl.IntervalYearMonthVector}visitFixedSizeList(){return iO.FixedSizeListVector}visitMap(){return oO.MapVector}};_i.GetVectorConstructor=$l;_i.instance=new $l});var ur=T(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.vectorFromValuesWithType=B.StructRow=B.MapRow=B.Utf8Vector=B.SparseUnionVector=B.DenseUnionVector=B.UnionVector=B.TimeNanosecondVector=B.TimeMicrosecondVector=B.TimeMillisecondVector=B.TimeSecondVector=B.TimeVector=B.TimestampNanosecondVector=B.TimestampMicrosecondVector=B.TimestampMillisecondVector=B.TimestampSecondVector=B.TimestampVector=B.StructVector=B.NullVector=B.MapVector=B.ListVector=B.Uint64Vector=B.Uint32Vector=B.Uint16Vector=B.Uint8Vector=B.Int64Vector=B.Int32Vector=B.Int16Vector=B.Int8Vector=B.IntVector=B.IntervalYearMonthVector=B.IntervalDayTimeVector=B.IntervalVector=B.Float64Vector=B.Float32Vector=B.Float16Vector=B.FloatVector=B.FixedSizeListVector=B.FixedSizeBinaryVector=B.DictionaryVector=B.DecimalVector=B.DateMillisecondVector=B.DateDayVector=B.DateVector=B.Chunked=B.BoolVector=B.BinaryVector=B.BaseVector=B.Vector=void 0;var lO=Ae();Object.defineProperty(B,"Vector",{enumerable:!0,get:function(){return lO.Vector}});var dO=De();Object.defineProperty(B,"BaseVector",{enumerable:!0,get:function(){return dO.BaseVector}});var fO=ll();Object.defineProperty(B,"BinaryVector",{enumerable:!0,get:function(){return fO.BinaryVector}});var hO=dl();Object.defineProperty(B,"BoolVector",{enumerable:!0,get:function(){return hO.BoolVector}});var pO=Vr();Object.defineProperty(B,"Chunked",{enumerable:!0,get:function(){return pO.Chunked}});var Jl=hl();Object.defineProperty(B,"DateVector",{enumerable:!0,get:function(){return Jl.DateVector}});Object.defineProperty(B,"DateDayVector",{enumerable:!0,get:function(){return Jl.DateDayVector}});Object.defineProperty(B,"DateMillisecondVector",{enumerable:!0,get:function(){return Jl.DateMillisecondVector}});var yO=pl();Object.defineProperty(B,"DecimalVector",{enumerable:!0,get:function(){return yO.DecimalVector}});var mO=Sa();Object.defineProperty(B,"DictionaryVector",{enumerable:!0,get:function(){return mO.DictionaryVector}});var bO=ml();Object.defineProperty(B,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return bO.FixedSizeBinaryVector}});var _O=bl();Object.defineProperty(B,"FixedSizeListVector",{enumerable:!0,get:function(){return _O.FixedSizeListVector}});var xa=vl();Object.defineProperty(B,"FloatVector",{enumerable:!0,get:function(){return xa.FloatVector}});Object.defineProperty(B,"Float16Vector",{enumerable:!0,get:function(){return xa.Float16Vector}});Object.defineProperty(B,"Float32Vector",{enumerable:!0,get:function(){return xa.Float32Vector}});Object.defineProperty(B,"Float64Vector",{enumerable:!0,get:function(){return xa.Float64Vector}});var Kl=Tl();Object.defineProperty(B,"IntervalVector",{enumerable:!0,get:function(){return Kl.IntervalVector}});Object.defineProperty(B,"IntervalDayTimeVector",{enumerable:!0,get:function(){return Kl.IntervalDayTimeVector}});Object.defineProperty(B,"IntervalYearMonthVector",{enumerable:!0,get:function(){return Kl.IntervalYearMonthVector}});var Ir=Fa();Object.defineProperty(B,"IntVector",{enumerable:!0,get:function(){return Ir.IntVector}});Object.defineProperty(B,"Int8Vector",{enumerable:!0,get:function(){return Ir.Int8Vector}});Object.defineProperty(B,"Int16Vector",{enumerable:!0,get:function(){return Ir.Int16Vector}});Object.defineProperty(B,"Int32Vector",{enumerable:!0,get:function(){return Ir.Int32Vector}});Object.defineProperty(B,"Int64Vector",{enumerable:!0,get:function(){return Ir.Int64Vector}});Object.defineProperty(B,"Uint8Vector",{enumerable:!0,get:function(){return Ir.Uint8Vector}});Object.defineProperty(B,"Uint16Vector",{enumerable:!0,get:function(){return Ir.Uint16Vector}});Object.defineProperty(B,"Uint32Vector",{enumerable:!0,get:function(){return Ir.Uint32Vector}});Object.defineProperty(B,"Uint64Vector",{enumerable:!0,get:function(){return Ir.Uint64Vector}});var gO=Rl();Object.defineProperty(B,"ListVector",{enumerable:!0,get:function(){return gO.ListVector}});var wO=Ul();Object.defineProperty(B,"MapVector",{enumerable:!0,get:function(){return wO.MapVector}});var vO=Ml();Object.defineProperty(B,"NullVector",{enumerable:!0,get:function(){return vO.NullVector}});var TO=Pl();Object.defineProperty(B,"StructVector",{enumerable:!0,get:function(){return TO.StructVector}});var vs=Vl();Object.defineProperty(B,"TimestampVector",{enumerable:!0,get:function(){return vs.TimestampVector}});Object.defineProperty(B,"TimestampSecondVector",{enumerable:!0,get:function(){return vs.TimestampSecondVector}});Object.defineProperty(B,"TimestampMillisecondVector",{enumerable:!0,get:function(){return vs.TimestampMillisecondVector}});Object.defineProperty(B,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return vs.TimestampMicrosecondVector}});Object.defineProperty(B,"TimestampNanosecondVector",{enumerable:!0,get:function(){return vs.TimestampNanosecondVector}});var Ts=kl();Object.defineProperty(B,"TimeVector",{enumerable:!0,get:function(){return Ts.TimeVector}});Object.defineProperty(B,"TimeSecondVector",{enumerable:!0,get:function(){return Ts.TimeSecondVector}});Object.defineProperty(B,"TimeMillisecondVector",{enumerable:!0,get:function(){return Ts.TimeMillisecondVector}});Object.defineProperty(B,"TimeMicrosecondVector",{enumerable:!0,get:function(){return Ts.TimeMicrosecondVector}});Object.defineProperty(B,"TimeNanosecondVector",{enumerable:!0,get:function(){return Ts.TimeNanosecondVector}});var Ql=Nl();Object.defineProperty(B,"UnionVector",{enumerable:!0,get:function(){return Ql.UnionVector}});Object.defineProperty(B,"DenseUnionVector",{enumerable:!0,get:function(){return Ql.DenseUnionVector}});Object.defineProperty(B,"SparseUnionVector",{enumerable:!0,get:function(){return Ql.SparseUnionVector}});var BO=Ll();Object.defineProperty(B,"Utf8Vector",{enumerable:!0,get:function(){return BO.Utf8Vector}});var cb=ts();Object.defineProperty(B,"MapRow",{enumerable:!0,get:function(){return cb.MapRow}});Object.defineProperty(B,"StructRow",{enumerable:!0,get:function(){return cb.StructRow}});var Bs=Nm(),Xl=pe(),gi=Ae(),lb=Vr(),Bn=De(),IO=Jt(),Ca=et(),db=Be(),fb=jl(),hb=mc(),pb=ib(),yb=ob(),mb=ql(),bb=ab(),_b=ub();gi.Vector.new=SO;gi.Vector.from=AO;function SO(t,...e){return new(_b.instance.getVisitFn(t)())(t,...e)}function OO(t,e){if(Ca.isIterable(e))return gi.Vector.from({nullValues:[null,void 0],type:t(),values:e});if(Ca.isAsyncIterable(e))return gi.Vector.from({nullValues:[null,void 0],type:t(),values:e});let{values:r=[],type:n=t(),nullValues:i=[null,void 0]}={...e};return Ca.isIterable(r)?gi.Vector.from({nullValues:i,...e,type:n}):gi.Vector.from({nullValues:i,...e,type:n})}B.vectorFromValuesWithType=OO;function AO(t){let{values:e=[],...r}={nullValues:[null,void 0],...t};if(Ca.isIterable(e)){let n=[...db.Builder.throughIterable(r)(e)];return n.length===1?n[0]:lb.Chunked.concat(n)}return(async n=>{let i=db.Builder.throughAsyncIterable(r);for await(let o of i(e))n.push(o);return n.length===1?n[0]:lb.Chunked.concat(n)})([])}Bn.BaseVector.prototype.get=function(e){return fb.instance.visit(this,e)};Bn.BaseVector.prototype.set=function(e,r){return hb.instance.visit(this,e,r)};Bn.BaseVector.prototype.indexOf=function(e,r){return pb.instance.visit(this,e,r)};Bn.BaseVector.prototype.toArray=function(){return yb.instance.visit(this)};Bn.BaseVector.prototype.getByteWidth=function(){return bb.instance.visit(this.type)};Bn.BaseVector.prototype[Symbol.iterator]=function(){return mb.instance.visit(this)};Bn.BaseVector.prototype._bindDataAccessors=RO;Object.keys(Xl.Type).map(t=>Xl.Type[t]).filter(t=>typeof t=="number").filter(t=>t!==Xl.Type.NONE).forEach(t=>{let e=_b.instance.visit(t);e.prototype.get=Bs.partial1(fb.instance.getVisitFn(t)),e.prototype.set=Bs.partial2(hb.instance.getVisitFn(t)),e.prototype.indexOf=Bs.partial2(pb.instance.getVisitFn(t)),e.prototype.toArray=Bs.partial0(yb.instance.getVisitFn(t)),e.prototype.getByteWidth=DO(bb.instance.getVisitFn(t)),e.prototype[Symbol.iterator]=Bs.partial0(mb.instance.getVisitFn(t))});function DO(t){return function(){return t(this.type)}}function FO(t){return function(e){return this.isValid(e)?t.call(this,e):null}}function EO(t){return function(e,r){IO.setBool(this.nullBitmap,this.offset+e,r!=null)&&t.call(this,e,r)}}function RO(){let t=this.nullBitmap;t&&t.byteLength>0&&(this.get=FO(this.get),this.set=EO(this.set))}});var ys=T(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.Table=void 0;var UO=Jn(),gb=qe(),Zl=Tr(),MO=Is(),ed=ce(),wb=kr(),td=et(),vb=_a(),Tb=al(),rd=ur(),He=class extends rd.Chunked{constructor(...e){let r=null;e[0]instanceof gb.Schema&&(r=e.shift());let n=wb.selectArgs(Zl.RecordBatch,e);if(!r&&!(r=n[0]&&n[0].schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");n[0]||(n[0]=new Zl._InternalEmptyPlaceholderRecordBatch(r));super(new ed.Struct(r.fields),n);this._schema=r,this._chunks=n}static empty(e=new gb.Schema([])){return new He(e,[])}static from(e){if(!e)return He.empty();if(typeof e=="object"){let n=td.isIterable(e.values)?PO(e):td.isAsyncIterable(e.values)?VO(e):null;if(n!==null)return n}let r=MO.RecordBatchReader.from(e);return td.isPromise(r)?(async()=>await He.from(await r))():r.isSync()&&(r=r.open())?r.schema?new He(r.schema,[...r]):He.empty():(async n=>{let i=await n,o=i.schema,u=[];if(o){for await(let a of i)u.push(a);return new He(o,u)}return He.empty()})(r.open())}static async fromAsync(e){return await He.from(e)}static fromStruct(e){return He.new(e.data.childData,e.type.children)}static new(...e){return new He(...Tb.distributeColumnsIntoRecordBatches(wb.selectColumnArgs(e)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new He(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex(r=>r.name===e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let r,n,i=this._schema.fields,o=this._children||(this._children=[]);if(n=o[e])return n;if(r=i[e]){let u=this._chunks.map(a=>a.getChildAt(e)).filter(a=>a!=null);if(u.length>0)return o[e]=new UO.Column(r,u)}return null}serialize(e="binary",r=!0){return(r?vb.RecordBatchStreamWriter:vb.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let r=this._schema.fields.reduce((n,i,o)=>n.set(i.name,o),new Map);return this.selectAt(...e.map(n=>r.get(n)).filter(n=>n>-1))}selectAt(...e){let r=this._schema.selectAt(...e);return new He(r,this._chunks.map(({length:n,data:{childData:i}})=>new Zl.RecordBatch(r,n,e.map(o=>i[o]).filter(Boolean))))}assign(e){let r=this._schema.fields,[n,i]=e.schema.fields.reduce((a,p,s)=>{let[l,g]=a,L=r.findIndex(ae=>ae.name===p.name);return~L?g[L]=s:l.push(s),a},[[],[]]),o=this._schema.assign(e.schema),u=[...r.map((a,p,s,l=i[p])=>l===void 0?this.getColumnAt(p):e.getColumnAt(l)),...n.map(a=>e.getColumnAt(a))].filter(Boolean);return new He(...Tb.distributeVectorsIntoRecordBatches(o,u))}};ja.Table=He;function PO(t){let{type:e}=t;return e instanceof ed.Struct?He.fromStruct(rd.StructVector.from(t)):null}function VO(t){let{type:e}=t;return e instanceof ed.Struct?rd.StructVector.from(t).then(r=>He.fromStruct(r)):null}});var Tr=T(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi._InternalEmptyPlaceholderRecordBatch=wi.RecordBatch=void 0;var nd=kt(),id=ys(),kO=Ae(),NO=Je(),LO=qe(),xO=et(),CO=Vr(),jO=kr(),sd=ce(),qO=al(),WO=ur(),rn=class extends WO.StructVector{constructor(...e){let r,n=e[0],i;if(e[1]instanceof nd.Data)[,r,i]=e;else{let o=n.fields,[,u,a]=e;r=nd.Data.Struct(new sd.Struct(o),0,u,0,null,a)}super(r,i);this._schema=n}static from(e){return xO.isIterable(e.values),id.Table.from(e)}static new(...e){let[r,n]=jO.selectFieldArgs(e),i=n.filter(o=>o instanceof kO.Vector);return new rn(...qO.ensureSameLengthData(new LO.Schema(r),i.map(o=>o.data)))}clone(e,r=this._children){return new rn(this._schema,e,r)}concat(...e){let r=this._schema,n=CO.Chunked.flatten(this,...e);return new id.Table(r,n.map(({data:i})=>new rn(r,i)))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=qa.collect(this))}select(...e){let r=this._schema.fields.reduce((n,i,o)=>n.set(i.name,o),new Map);return this.selectAt(...e.map(n=>r.get(n)).filter(n=>n>-1))}selectAt(...e){let r=this._schema.selectAt(...e),n=e.map(i=>this.data.childData[i]).filter(Boolean);return new rn(r,this.length,n)}};wi.RecordBatch=rn;var Bb=class extends rn{constructor(e){super(e,0,e.fields.map(r=>nd.Data.new(r.type,0,0,0)))}};wi._InternalEmptyPlaceholderRecordBatch=Bb;var qa=class extends NO.Visitor{constructor(){super(...arguments);this.dictionaries=new Map}static collect(e){return new qa().visit(e.data,new sd.Struct(e.schema.fields)).dictionaries}visit(e,r){return sd.DataType.isDictionary(r)?this.visitDictionary(e,r):(e.childData.forEach((n,i)=>this.visit(n,r.children[i].type)),this)}visitDictionary(e,r){let n=e.dictionary;return n&&n.length>0&&this.dictionaries.set(r.id,n),this}}});var Is=T(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.AsyncRecordBatchFileReader=Mt.RecordBatchFileReader=Mt.AsyncRecordBatchStreamReader=Mt.RecordBatchStreamReader=Mt.RecordBatchReader=void 0;var Ib=Ae(),Wa=pe(),Sb=Dc(),Ob=zi(),Ab=zr(),Ss=Rc(),Db=vy(),od=Tr(),In=Mn(),Rt=ua(),Ut=et(),fr=class extends In.ReadableInterop{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let r=this._impl.open(e);return Ut.isPromise(r)?r.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Ob.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Ob.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,r){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof fr?e:Ut.isArrowJSON(e)?zO(e):Ut.isFileHandle(e)?GO(e):Ut.isPromise(e)?(async()=>await fr.from(await e))():Ut.isFetchResponse(e)||Ut.isReadableDOMStream(e)||Ut.isReadableNodeStream(e)||Ut.isAsyncIterable(e)?YO(new Ab.AsyncByteStream(e)):HO(new Ab.ByteStream(e))}static readAll(e){return e instanceof fr?e.isSync()?Ub(e):Mb(e):Ut.isArrowJSON(e)||ArrayBuffer.isView(e)||Ut.isIterable(e)||Ut.isIteratorResult(e)?Ub(e):Mb(e)}};Mt.RecordBatchReader=fr;var vi=class extends fr{constructor(e){super(e);this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}async*[Symbol.asyncIterator](){yield*this[Symbol.iterator]()}};Mt.RecordBatchStreamReader=vi;var Ti=class extends fr{constructor(e){super(e);this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};Mt.AsyncRecordBatchStreamReader=Ti;var za=class extends vi{constructor(e){super(e);this._impl=e}};Mt.RecordBatchFileReader=za;var ad=class extends Ti{constructor(e){super(e);this._impl=e}};Mt.AsyncRecordBatchFileReader=ad;var ud=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,r){return new od.RecordBatch(this.schema,e.length,this._loadVectors(e,r,this.schema.fields))}_loadDictionaryBatch(e,r){let{id:n,isDelta:i,data:o}=e,{dictionaries:u,schema:a}=this,p=u.get(n);if(i||!p){let s=a.dictionaries.get(n);return p&&i?p.concat(Ib.Vector.new(this._loadVectors(o,r,[s])[0])):Ib.Vector.new(this._loadVectors(o,r,[s])[0])}return p}_loadVectors(e,r,n){return new Db.VectorLoader(r,e.nodes,e.buffers,this.dictionaries).visitMany(n)}},Os=class extends ud{constructor(e,r){super(r);this._reader=Ut.isArrowJSON(e)?new Rt.JSONMessageReader(this._handle=e):new Rt.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=Rb(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):In.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):In.ITERATOR_DONE}next(){if(this.closed)return In.ITERATOR_DONE;let e,{_reader:r}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),i=r.readMessageBody(e.bodyLength),o=this._loadRecordBatch(n,i);return{done:!1,value:o}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),i=r.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new od._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},As=class extends ud{constructor(e,r){super(r);this._reader=new Rt.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}async cancel(){!this.closed&&(this.closed=!0)&&(await this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}async open(e){return this.closed||(this.autoDestroy=Rb(this,e),this.schema||(this.schema=await this._reader.readSchema())||await this.cancel()),this}async throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.throw(e):In.ITERATOR_DONE}async return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.return(e):In.ITERATOR_DONE}async next(){if(this.closed)return In.ITERATOR_DONE;let e,{_reader:r}=this;for(;e=await this._readNextMessageAndValidate();)if(e.isSchema())await this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),i=await r.readMessageBody(e.bodyLength),o=this._loadRecordBatch(n,i);return{done:!1,value:o}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),i=await r.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,o)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new od._InternalEmptyPlaceholderRecordBatch(this.schema)}):await this.return()}async _readNextMessageAndValidate(e){return await this._reader.readMessage(e)}},cd=class extends Os{constructor(e,r){super(e instanceof Ss.RandomAccessFile?e:new Ss.RandomAccessFile(e),r)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let r=this._footer&&this._footer.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){let n=this._reader.readMessage(Wa.MessageHeader.RecordBatch);if(n&&n.isRecordBatch()){let i=n.header(),o=this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(i,o)}}return null}_readDictionaryBatch(e){let r=this._footer&&this._footer.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){let n=this._reader.readMessage(Wa.MessageHeader.DictionaryBatch);if(n&&n.isDictionaryBatch()){let i=n.header(),o=this._reader.readMessageBody(n.bodyLength),u=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,u)}}}_readFooter(){let{_handle:e}=this,r=e.size-Rt.magicAndPadding,n=e.readInt32(r),i=e.readAt(r-n,n);return Sb.Footer.decode(i)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}},Fb=class extends As{constructor(e,...r){let n=typeof r[0]!="number"?r.shift():void 0,i=r[0]instanceof Map?r.shift():void 0;super(e instanceof Ss.AsyncRandomAccessFile?e:new Ss.AsyncRandomAccessFile(e,n),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}async open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=await this._readFooter()).schema;for(let r of this._footer.dictionaryBatches())r&&await this._readDictionaryBatch(this._dictionaryIndex++)}return await super.open(e)}async readRecordBatch(e){if(this.closed)return null;this._footer||await this.open();let r=this._footer&&this._footer.getRecordBatch(e);if(r&&await this._handle.seek(r.offset)){let n=await this._reader.readMessage(Wa.MessageHeader.RecordBatch);if(n&&n.isRecordBatch()){let i=n.header(),o=await this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(i,o)}}return null}async _readDictionaryBatch(e){let r=this._footer&&this._footer.getDictionaryBatch(e);if(r&&await this._handle.seek(r.offset)){let n=await this._reader.readMessage(Wa.MessageHeader.DictionaryBatch);if(n&&n.isDictionaryBatch()){let i=n.header(),o=await this._reader.readMessageBody(n.bodyLength),u=this._loadDictionaryBatch(i,o);this.dictionaries.set(i.id,u)}}}async _readFooter(){let{_handle:e}=this;e._pending&&await e._pending;let r=e.size-Rt.magicAndPadding,n=await e.readInt32(r),i=await e.readAt(r-n,n);return Sb.Footer.decode(i)}async _readNextMessageAndValidate(e){if(this._footer||await this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let r=this._footer.getRecordBatch(this._recordBatchIndex);if(r&&await this._handle.seek(r.offset))return await this._reader.readMessage(e)}return null}},Eb=class extends Os{constructor(e,r){super(e,r)}_loadVectors(e,r,n){return new Db.JSONVectorLoader(r,e.nodes,e.buffers,this.dictionaries).visitMany(n)}};function Rb(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*Ub(t){let e=fr.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}async function*Mb(t){let e=await fr.from(t);try{if(!(await e.open({autoDestroy:!1})).closed)do yield e;while(!(await e.reset().open()).closed)}finally{await e.cancel()}}function zO(t){return new vi(new Eb(t))}function HO(t){let e=t.peek(Rt.magicLength+7&~7);return e&&e.byteLength>=4?Rt.checkForMagicArrowString(e)?new za(new cd(t.read())):new vi(new Os(t)):new vi(new Os(function*(){}()))}async function YO(t){let e=await t.peek(Rt.magicLength+7&~7);return e&&e.byteLength>=4?Rt.checkForMagicArrowString(e)?new za(new cd(await t.read())):new Ti(new As(t)):new Ti(new As(async function*(){}()))}async function GO(t){let{size:e}=await t.stat(),r=new Ss.AsyncRandomAccessFile(t,e);return e>=Rt.magicX2AndPadding&&Rt.checkForMagicArrowString(await r.readAt(0,Rt.magicLength+7&~7))?new ad(new Fb(r)):new Ti(new As(r))}});var kb=T(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.toDOMStream=void 0;var Pb=Re(),Vb=et();function $O(t,e){if(Vb.isAsyncIterable(t))return KO(t,e);if(Vb.isIterable(t))return JO(t,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}Ha.toDOMStream=$O;function JO(t,e){let r=null,n=e&&e.type==="bytes"||!1,i=e&&e.highWaterMark||2**24;return new ReadableStream({...e,start(u){o(u,r||(r=t[Symbol.iterator]()))},pull(u){r?o(u,r):u.close()},cancel(){(r&&r.return&&r.return()||!0)&&(r=null)}},{highWaterMark:n?i:void 0,...e});function o(u,a){let p,s=null,l=u.desiredSize||null;for(;!(s=a.next(n?l:null)).done;)if(ArrayBuffer.isView(s.value)&&(p=Pb.toUint8Array(s.value))&&(l!=null&&n&&(l=l-p.byteLength+1),s.value=p),u.enqueue(s.value),l!=null&&--l<=0)return;u.close()}}function KO(t,e){let r=null,n=e&&e.type==="bytes"||!1,i=e&&e.highWaterMark||2**24;return new ReadableStream({...e,async start(u){await o(u,r||(r=t[Symbol.asyncIterator]()))},async pull(u){r?await o(u,r):u.close()},async cancel(){(r&&r.return&&await r.return()||!0)&&(r=null)}},{highWaterMark:n?i:void 0,...e});async function o(u,a){let p,s=null,l=u.desiredSize||null;for(;!(s=await a.next(n?l:null)).done;)if(ArrayBuffer.isView(s.value)&&(p=Pb.toUint8Array(s.value))&&(l!=null&&n&&(l=l-p.byteLength+1),s.value=p),u.enqueue(s.value),l!=null&&--l<=0)return;u.close()}}});var xb=T(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.BuilderTransform=Bi.builderThroughDOMStream=void 0;var QO=Jo();function XO(t){return new ld(t)}Bi.builderThroughDOMStream=XO;var ld=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{["readableStrategy"]:r,["writableStrategy"]:n,["queueingStrategy"]:i="count",...o}=e;this._controller=null,this._builder=QO.Builder.new(o),this._getSize=i!=="bytes"?Nb:Lb;let{["highWaterMark"]:u=i==="bytes"?2**14:1e3}={...r},{["highWaterMark"]:a=i==="bytes"?2**14:1e3}={...n};this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:p=>{this._maybeFlush(this._builder,this._controller=p)},start:p=>{this._maybeFlush(this._builder,this._controller=p)}},{highWaterMark:u,size:i!=="bytes"?Nb:Lb}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:p=>this._writeValueAndReturnChunkSize(p)})}_writeValueAndReturnChunkSize(e){let r=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-r}_maybeFlush(e,r){r!==null&&(this._bufferedSize>=r.desiredSize&&++this._numChunks&&this._enqueue(r,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(r,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(r,null)))}_enqueue(e,r){this._bufferedSize=0,this._controller=null,r===null?e.close():e.enqueue(r)}};Bi.BuilderTransform=ld;var Nb=t=>t.length,Lb=t=>t.byteLength});var Cb=T(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.recordBatchReaderThroughDOMStream=void 0;var ZO=zr(),eA=Is();function tA(t,e){let r=new ZO.AsyncByteQueue,n=null,i=new ReadableStream({async cancel(){await r.close()},async start(a){await u(a,n||(n=await o()))},async pull(a){n?await u(a,n):a.close()}});return{writable:new WritableStream(r,{highWaterMark:2**14,...t}),readable:i};async function o(){return await(await eA.RecordBatchReader.from(r)).open(e)}async function u(a,p){let s=a.desiredSize,l=null;for(;!(l=await p.next()).done;)if(a.enqueue(l.value),s!=null&&--s<=0)return;a.close()}}Ya.recordBatchReaderThroughDOMStream=tA});var jb=T(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.recordBatchWriterThroughDOMStream=void 0;var rA=zr();function nA(t,e){let r=new this(t),n=new rA.AsyncByteStream(r),i=new ReadableStream({type:"bytes",async cancel(){await n.cancel()},async pull(u){await o(u)},async start(u){await o(u)}},{highWaterMark:2**14,...e});return{writable:new WritableStream(r,t),readable:i};async function o(u){let a=null,p=u.desiredSize;for(;a=await n.read(p||null);)if(u.enqueue(a),p!=null&&(p-=a.byteLength)<=0)return;u.close()}}Ga.recordBatchWriterThroughDOMStream=nA});var md=T(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.custom=ee.or=ee.and=ee.col=ee.lit=ee.CustomPredicate=ee.Not=ee.GTeq=ee.LTeq=ee.Equals=ee.Or=ee.And=ee.CombinationPredicate=ee.ComparisonPredicate=ee.Predicate=ee.Col=ee.Literal=ee.Value=void 0;var iA=Sa(),nn=class{eq(e){return e instanceof nn||(e=new Sr(e)),new fd(this,e)}le(e){return e instanceof nn||(e=new Sr(e)),new hd(this,e)}ge(e){return e instanceof nn||(e=new Sr(e)),new pd(this,e)}lt(e){return new Ai(this.ge(e))}gt(e){return new Ai(this.le(e))}ne(e){return new Ai(this.eq(e))}};ee.Value=nn;var Sr=class extends nn{constructor(e){super();this.v=e}};ee.Literal=Sr;var dd=class extends nn{constructor(e){super();this.name=e}bind(e){if(!this.colidx){this.colidx=-1;let n=e.schema.fields;for(let i=-1;++i<n.length;)if(n[i].name===this.name){this.colidx=i;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}let r=this.vector=e.getChildAt(this.colidx);return n=>r.get(n)}};ee.Col=dd;var Ii=class{and(...e){return new Si(this,...e)}or(...e){return new Oi(this,...e)}not(){return new Ai(this)}};ee.Predicate=Ii;var Ds=class extends Ii{constructor(e,r){super();this.left=e,this.right=r}bind(e){return this.left instanceof Sr?this.right instanceof Sr?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof Sr?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}};ee.ComparisonPredicate=Ds;var Fs=class extends Ii{constructor(...e){super();this.children=e}};ee.CombinationPredicate=Fs;Fs.prototype.children=Object.freeze([]);var Si=class extends Fs{constructor(...e){e=e.reduce((r,n)=>r.concat(n instanceof Si?n.children:n),[]);super(...e)}bind(e){let r=this.children.map(n=>n.bind(e));return(n,i)=>r.every(o=>o(n,i))}};ee.And=Si;var Oi=class extends Fs{constructor(...e){e=e.reduce((r,n)=>r.concat(n instanceof Oi?n.children:n),[]);super(...e)}bind(e){let r=this.children.map(n=>n.bind(e));return(n,i)=>r.some(o=>o(n,i))}};ee.Or=Oi;var fd=class extends Ds{_bindLitLit(e,r,n){let i=r.v==n.v;return()=>i}_bindColCol(e,r,n){let i=r.bind(e),o=n.bind(e);return(u,a)=>i(u,a)==o(u,a)}_bindColLit(e,r,n){let i=r.bind(e);if(r.vector instanceof iA.DictionaryVector){let o,u=r.vector;return u.dictionary!==this.lastDictionary?(o=u.reverseLookup(n.v),this.lastDictionary=u.dictionary,this.lastKey=o):o=this.lastKey,o===-1?()=>!1:a=>u.getKey(a)===o}else return(o,u)=>i(o,u)==n.v}_bindLitCol(e,r,n){return this._bindColLit(e,n,r)}};ee.Equals=fd;var hd=class extends Ds{_bindLitLit(e,r,n){let i=r.v<=n.v;return()=>i}_bindColCol(e,r,n){let i=r.bind(e),o=n.bind(e);return(u,a)=>i(u,a)<=o(u,a)}_bindColLit(e,r,n){let i=r.bind(e);return(o,u)=>i(o,u)<=n.v}_bindLitCol(e,r,n){let i=n.bind(e);return(o,u)=>r.v<=i(o,u)}};ee.LTeq=hd;var pd=class extends Ds{_bindLitLit(e,r,n){let i=r.v>=n.v;return()=>i}_bindColCol(e,r,n){let i=r.bind(e),o=n.bind(e);return(u,a)=>i(u,a)>=o(u,a)}_bindColLit(e,r,n){let i=r.bind(e);return(o,u)=>i(o,u)>=n.v}_bindLitCol(e,r,n){let i=n.bind(e);return(o,u)=>r.v>=i(o,u)}};ee.GTeq=pd;var Ai=class extends Ii{constructor(e){super();this.child=e}bind(e){let r=this.child.bind(e);return(n,i)=>!r(n,i)}};ee.Not=Ai;var yd=class extends Ii{constructor(e,r){super();this.next=e,this.bind_=r}bind(e){return this.bind_(e),this.next}};ee.CustomPredicate=yd;function sA(t){return new Sr(t)}ee.lit=sA;function oA(t){return new dd(t)}ee.col=oA;function aA(...t){return new Si(...t)}ee.and=aA;function uA(...t){return new Oi(...t)}ee.or=uA;function cA(t,e){return new yd(t,e)}ee.custom=cA});var Hb=T(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.FilteredDataFrame=sn.CountByResult=sn.DataFrame=void 0;var Di=ys(),qb=Fa(),bd=qe(),Wb=md(),lA=Tr(),zb=ce();Di.Table.prototype.countBy=function(t){return new Sn(this.chunks).countBy(t)};Di.Table.prototype.scan=function(t,e){return new Sn(this.chunks).scan(t,e)};Di.Table.prototype.scanReverse=function(t,e){return new Sn(this.chunks).scanReverse(t,e)};Di.Table.prototype.filter=function(t){return new Sn(this.chunks).filter(t)};var Sn=class extends Di.Table{filter(e){return new Es(this.chunks,e)}scan(e,r){let n=this.chunks,i=n.length;for(let o=-1;++o<i;){let u=n[o];r&&r(u);for(let a=-1,p=u.length;++a<p;)e(a,u)}}scanReverse(e,r){let n=this.chunks,i=n.length;for(let o=i;--o>=0;){let u=n[o];r&&r(u);for(let a=u.length;--a>=0;)e(a,u)}}countBy(e){let r=this.chunks,n=r.length,i=typeof e=="string"?new Wb.Col(e):e;i.bind(r[n-1]);let o=i.vector;if(!zb.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let u=Math.ceil(Math.log(o.length)/Math.log(256)),a=u==4?Uint32Array:u>=2?Uint16Array:Uint8Array,p=new a(o.dictionary.length);for(let s=-1;++s<n;){let l=r[s];i.bind(l);let g=i.vector.indices;for(let L=-1,ae=l.length;++L<ae;){let Ye=g.get(L);Ye!==null&&p[Ye]++}}return new $a(o.dictionary,qb.IntVector.from(p))}};sn.DataFrame=Sn;var $a=class extends Di.Table{constructor(e,r){let n=new bd.Schema([new bd.Field("values",e.type),new bd.Field("counts",r.type)]);super(new lA.RecordBatch(n,r.length,[e,r]))}toJSON(){let e=this.getColumnAt(0),r=this.getColumnAt(1),n={};for(let i=-1;++i<this.length;)n[e.get(i)]=r.get(i);return n}};sn.CountByResult=$a;var Es=class extends Sn{constructor(e,r){super(e);this._predicate=r}scan(e,r){let n=this._chunks,i=n.length;for(let o=-1;++o<i;){let u=n[o],a=this._predicate.bind(u),p=!1;for(let s=-1,l=u.length;++s<l;)a(s,u)&&(r&&!p&&(r(u),p=!0),e(s,u))}}scanReverse(e,r){let n=this._chunks,i=n.length;for(let o=i;--o>=0;){let u=n[o],a=this._predicate.bind(u),p=!1;for(let s=u.length;--s>=0;)a(s,u)&&(r&&!p&&(r(u),p=!0),e(s,u))}}count(){let e=0,r=this._chunks,n=r.length;for(let i=-1;++i<n;){let o=r[i],u=this._predicate.bind(o);for(let a=-1,p=o.length;++a<p;)u(a,o)&&++e}return e}*[Symbol.iterator](){let e=this._chunks,r=e.length;for(let n=-1;++n<r;){let i=e[n],o=this._predicate.bind(i);for(let u=-1,a=i.length;++u<a;)o(u,i)&&(yield i.get(u))}}filter(e){return new Es(this._chunks,this._predicate.and(e))}countBy(e){let r=this._chunks,n=r.length,i=typeof e=="string"?new Wb.Col(e):e;i.bind(r[n-1]);let o=i.vector;if(!zb.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let u=Math.ceil(Math.log(o.length)/Math.log(256)),a=u==4?Uint32Array:u>=2?Uint16Array:Uint8Array,p=new a(o.dictionary.length);for(let s=-1;++s<n;){let l=r[s],g=this._predicate.bind(l);i.bind(l);let L=i.vector.indices;for(let ae=-1,Ye=l.length;++ae<Ye;){let Wt=L.get(ae);Wt!==null&&g(ae,l)&&p[Wt]++}}return new $a(o.dictionary,qb.IntVector.from(p))}};sn.FilteredDataFrame=Es});var Gb=T(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.util=f.predicate=f.CountByResult=f.FilteredDataFrame=f.DataFrame=f.RecordBatch=f.Message=f.JSONMessageReader=f.AsyncMessageReader=f.MessageReader=f.RecordBatchJSONWriter=f.RecordBatchStreamWriter=f.RecordBatchFileWriter=f.RecordBatchWriter=f.AsyncRecordBatchStreamReader=f.AsyncRecordBatchFileReader=f.RecordBatchStreamReader=f.RecordBatchFileReader=f.RecordBatchReader=f.AsyncByteQueue=f.AsyncByteStream=f.ByteStream=f.Utf8Builder=f.SparseUnionBuilder=f.DenseUnionBuilder=f.UnionBuilder=f.TimeNanosecondBuilder=f.TimeMicrosecondBuilder=f.TimeMillisecondBuilder=f.TimeSecondBuilder=f.TimeBuilder=f.TimestampNanosecondBuilder=f.TimestampMicrosecondBuilder=f.TimestampMillisecondBuilder=f.TimestampSecondBuilder=f.TimestampBuilder=f.StructBuilder=f.NullBuilder=f.MapBuilder=f.ListBuilder=f.Uint64Builder=f.Uint32Builder=f.Uint16Builder=f.Uint8Builder=f.Int64Builder=f.Int32Builder=f.Int16Builder=f.Int8Builder=f.IntBuilder=f.IntervalYearMonthBuilder=f.IntervalDayTimeBuilder=f.IntervalBuilder=f.Float64Builder=f.Float32Builder=f.Float16Builder=f.FloatBuilder=f.FixedSizeListBuilder=f.FixedSizeBinaryBuilder=f.DictionaryBuilder=f.DecimalBuilder=f.DateMillisecondBuilder=f.DateDayBuilder=f.DateBuilder=f.BoolBuilder=f.BinaryBuilder=f.Builder=f.Utf8Vector=f.SparseUnionVector=f.DenseUnionVector=f.UnionVector=f.TimeNanosecondVector=f.TimeMicrosecondVector=f.TimeMillisecondVector=f.TimeSecondVector=f.TimeVector=f.TimestampNanosecondVector=f.TimestampMicrosecondVector=f.TimestampMillisecondVector=f.TimestampSecondVector=f.TimestampVector=f.StructVector=f.NullVector=f.MapVector=f.ListVector=f.Uint64Vector=f.Uint32Vector=f.Uint16Vector=f.Uint8Vector=f.Int64Vector=f.Int32Vector=f.Int16Vector=f.Int8Vector=f.IntVector=f.IntervalYearMonthVector=f.IntervalDayTimeVector=f.IntervalVector=f.Float64Vector=f.Float32Vector=f.Float16Vector=f.FloatVector=f.FixedSizeListVector=f.FixedSizeBinaryVector=f.DictionaryVector=f.DecimalVector=f.DateMillisecondVector=f.DateDayVector=f.DateVector=f.Chunked=f.BoolVector=f.BinaryVector=f.BaseVector=f.Vector=f.Field=f.Schema=f.Visitor=f.Column=f.Table=f.Map_=f.FixedSizeList=f.IntervalYearMonth=f.IntervalDayTime=f.Interval=f.Dictionary=f.SparseUnion=f.DenseUnion=f.Union=f.Struct=f.List=f.Decimal=f.TimeNanosecond=f.TimeMicrosecond=f.TimeMillisecond=f.TimeSecond=f.Time=f.TimestampNanosecond=f.TimestampMicrosecond=f.TimestampMillisecond=f.TimestampSecond=f.Timestamp=f.DateMillisecond=f.DateDay=f.Date_=f.FixedSizeBinary=f.Binary=f.Utf8=f.Float64=f.Float32=f.Float16=f.Float=f.Uint64=f.Uint32=f.Uint16=f.Uint8=f.Int64=f.Int32=f.Int16=f.Int8=f.Int=f.Bool=f.Null=f.DataType=f.Data=f.BufferType=f.UnionMode=f.Type=f.TimeUnit=f.Precision=f.MetadataVersion=f.MessageHeader=f.IntervalUnit=f.DateUnit=f.ArrowType=void 0;var hr=pe();Object.defineProperty(f,"ArrowType",{enumerable:!0,get:function(){return hr.ArrowType}});Object.defineProperty(f,"DateUnit",{enumerable:!0,get:function(){return hr.DateUnit}});Object.defineProperty(f,"IntervalUnit",{enumerable:!0,get:function(){return hr.IntervalUnit}});Object.defineProperty(f,"MessageHeader",{enumerable:!0,get:function(){return hr.MessageHeader}});Object.defineProperty(f,"MetadataVersion",{enumerable:!0,get:function(){return hr.MetadataVersion}});Object.defineProperty(f,"Precision",{enumerable:!0,get:function(){return hr.Precision}});Object.defineProperty(f,"TimeUnit",{enumerable:!0,get:function(){return hr.TimeUnit}});Object.defineProperty(f,"Type",{enumerable:!0,get:function(){return hr.Type}});Object.defineProperty(f,"UnionMode",{enumerable:!0,get:function(){return hr.UnionMode}});Object.defineProperty(f,"BufferType",{enumerable:!0,get:function(){return hr.BufferType}});var dA=kt();Object.defineProperty(f,"Data",{enumerable:!0,get:function(){return dA.Data}});var $=ce();Object.defineProperty(f,"DataType",{enumerable:!0,get:function(){return $.DataType}});Object.defineProperty(f,"Null",{enumerable:!0,get:function(){return $.Null}});Object.defineProperty(f,"Bool",{enumerable:!0,get:function(){return $.Bool}});Object.defineProperty(f,"Int",{enumerable:!0,get:function(){return $.Int}});Object.defineProperty(f,"Int8",{enumerable:!0,get:function(){return $.Int8}});Object.defineProperty(f,"Int16",{enumerable:!0,get:function(){return $.Int16}});Object.defineProperty(f,"Int32",{enumerable:!0,get:function(){return $.Int32}});Object.defineProperty(f,"Int64",{enumerable:!0,get:function(){return $.Int64}});Object.defineProperty(f,"Uint8",{enumerable:!0,get:function(){return $.Uint8}});Object.defineProperty(f,"Uint16",{enumerable:!0,get:function(){return $.Uint16}});Object.defineProperty(f,"Uint32",{enumerable:!0,get:function(){return $.Uint32}});Object.defineProperty(f,"Uint64",{enumerable:!0,get:function(){return $.Uint64}});Object.defineProperty(f,"Float",{enumerable:!0,get:function(){return $.Float}});Object.defineProperty(f,"Float16",{enumerable:!0,get:function(){return $.Float16}});Object.defineProperty(f,"Float32",{enumerable:!0,get:function(){return $.Float32}});Object.defineProperty(f,"Float64",{enumerable:!0,get:function(){return $.Float64}});Object.defineProperty(f,"Utf8",{enumerable:!0,get:function(){return $.Utf8}});Object.defineProperty(f,"Binary",{enumerable:!0,get:function(){return $.Binary}});Object.defineProperty(f,"FixedSizeBinary",{enumerable:!0,get:function(){return $.FixedSizeBinary}});Object.defineProperty(f,"Date_",{enumerable:!0,get:function(){return $.Date_}});Object.defineProperty(f,"DateDay",{enumerable:!0,get:function(){return $.DateDay}});Object.defineProperty(f,"DateMillisecond",{enumerable:!0,get:function(){return $.DateMillisecond}});Object.defineProperty(f,"Timestamp",{enumerable:!0,get:function(){return $.Timestamp}});Object.defineProperty(f,"TimestampSecond",{enumerable:!0,get:function(){return $.TimestampSecond}});Object.defineProperty(f,"TimestampMillisecond",{enumerable:!0,get:function(){return $.TimestampMillisecond}});Object.defineProperty(f,"TimestampMicrosecond",{enumerable:!0,get:function(){return $.TimestampMicrosecond}});Object.defineProperty(f,"TimestampNanosecond",{enumerable:!0,get:function(){return $.TimestampNanosecond}});Object.defineProperty(f,"Time",{enumerable:!0,get:function(){return $.Time}});Object.defineProperty(f,"TimeSecond",{enumerable:!0,get:function(){return $.TimeSecond}});Object.defineProperty(f,"TimeMillisecond",{enumerable:!0,get:function(){return $.TimeMillisecond}});Object.defineProperty(f,"TimeMicrosecond",{enumerable:!0,get:function(){return $.TimeMicrosecond}});Object.defineProperty(f,"TimeNanosecond",{enumerable:!0,get:function(){return $.TimeNanosecond}});Object.defineProperty(f,"Decimal",{enumerable:!0,get:function(){return $.Decimal}});Object.defineProperty(f,"List",{enumerable:!0,get:function(){return $.List}});Object.defineProperty(f,"Struct",{enumerable:!0,get:function(){return $.Struct}});Object.defineProperty(f,"Union",{enumerable:!0,get:function(){return $.Union}});Object.defineProperty(f,"DenseUnion",{enumerable:!0,get:function(){return $.DenseUnion}});Object.defineProperty(f,"SparseUnion",{enumerable:!0,get:function(){return $.SparseUnion}});Object.defineProperty(f,"Dictionary",{enumerable:!0,get:function(){return $.Dictionary}});Object.defineProperty(f,"Interval",{enumerable:!0,get:function(){return $.Interval}});Object.defineProperty(f,"IntervalDayTime",{enumerable:!0,get:function(){return $.IntervalDayTime}});Object.defineProperty(f,"IntervalYearMonth",{enumerable:!0,get:function(){return $.IntervalYearMonth}});Object.defineProperty(f,"FixedSizeList",{enumerable:!0,get:function(){return $.FixedSizeList}});Object.defineProperty(f,"Map_",{enumerable:!0,get:function(){return $.Map_}});var fA=ys();Object.defineProperty(f,"Table",{enumerable:!0,get:function(){return fA.Table}});var hA=Jn();Object.defineProperty(f,"Column",{enumerable:!0,get:function(){return hA.Column}});var pA=Je();Object.defineProperty(f,"Visitor",{enumerable:!0,get:function(){return pA.Visitor}});var Yb=qe();Object.defineProperty(f,"Schema",{enumerable:!0,get:function(){return Yb.Schema}});Object.defineProperty(f,"Field",{enumerable:!0,get:function(){return Yb.Field}});var H=ur();Object.defineProperty(f,"Vector",{enumerable:!0,get:function(){return H.Vector}});Object.defineProperty(f,"BaseVector",{enumerable:!0,get:function(){return H.BaseVector}});Object.defineProperty(f,"BinaryVector",{enumerable:!0,get:function(){return H.BinaryVector}});Object.defineProperty(f,"BoolVector",{enumerable:!0,get:function(){return H.BoolVector}});Object.defineProperty(f,"Chunked",{enumerable:!0,get:function(){return H.Chunked}});Object.defineProperty(f,"DateVector",{enumerable:!0,get:function(){return H.DateVector}});Object.defineProperty(f,"DateDayVector",{enumerable:!0,get:function(){return H.DateDayVector}});Object.defineProperty(f,"DateMillisecondVector",{enumerable:!0,get:function(){return H.DateMillisecondVector}});Object.defineProperty(f,"DecimalVector",{enumerable:!0,get:function(){return H.DecimalVector}});Object.defineProperty(f,"DictionaryVector",{enumerable:!0,get:function(){return H.DictionaryVector}});Object.defineProperty(f,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return H.FixedSizeBinaryVector}});Object.defineProperty(f,"FixedSizeListVector",{enumerable:!0,get:function(){return H.FixedSizeListVector}});Object.defineProperty(f,"FloatVector",{enumerable:!0,get:function(){return H.FloatVector}});Object.defineProperty(f,"Float16Vector",{enumerable:!0,get:function(){return H.Float16Vector}});Object.defineProperty(f,"Float32Vector",{enumerable:!0,get:function(){return H.Float32Vector}});Object.defineProperty(f,"Float64Vector",{enumerable:!0,get:function(){return H.Float64Vector}});Object.defineProperty(f,"IntervalVector",{enumerable:!0,get:function(){return H.IntervalVector}});Object.defineProperty(f,"IntervalDayTimeVector",{enumerable:!0,get:function(){return H.IntervalDayTimeVector}});Object.defineProperty(f,"IntervalYearMonthVector",{enumerable:!0,get:function(){return H.IntervalYearMonthVector}});Object.defineProperty(f,"IntVector",{enumerable:!0,get:function(){return H.IntVector}});Object.defineProperty(f,"Int8Vector",{enumerable:!0,get:function(){return H.Int8Vector}});Object.defineProperty(f,"Int16Vector",{enumerable:!0,get:function(){return H.Int16Vector}});Object.defineProperty(f,"Int32Vector",{enumerable:!0,get:function(){return H.Int32Vector}});Object.defineProperty(f,"Int64Vector",{enumerable:!0,get:function(){return H.Int64Vector}});Object.defineProperty(f,"Uint8Vector",{enumerable:!0,get:function(){return H.Uint8Vector}});Object.defineProperty(f,"Uint16Vector",{enumerable:!0,get:function(){return H.Uint16Vector}});Object.defineProperty(f,"Uint32Vector",{enumerable:!0,get:function(){return H.Uint32Vector}});Object.defineProperty(f,"Uint64Vector",{enumerable:!0,get:function(){return H.Uint64Vector}});Object.defineProperty(f,"ListVector",{enumerable:!0,get:function(){return H.ListVector}});Object.defineProperty(f,"MapVector",{enumerable:!0,get:function(){return H.MapVector}});Object.defineProperty(f,"NullVector",{enumerable:!0,get:function(){return H.NullVector}});Object.defineProperty(f,"StructVector",{enumerable:!0,get:function(){return H.StructVector}});Object.defineProperty(f,"TimestampVector",{enumerable:!0,get:function(){return H.TimestampVector}});Object.defineProperty(f,"TimestampSecondVector",{enumerable:!0,get:function(){return H.TimestampSecondVector}});Object.defineProperty(f,"TimestampMillisecondVector",{enumerable:!0,get:function(){return H.TimestampMillisecondVector}});Object.defineProperty(f,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return H.TimestampMicrosecondVector}});Object.defineProperty(f,"TimestampNanosecondVector",{enumerable:!0,get:function(){return H.TimestampNanosecondVector}});Object.defineProperty(f,"TimeVector",{enumerable:!0,get:function(){return H.TimeVector}});Object.defineProperty(f,"TimeSecondVector",{enumerable:!0,get:function(){return H.TimeSecondVector}});Object.defineProperty(f,"TimeMillisecondVector",{enumerable:!0,get:function(){return H.TimeMillisecondVector}});Object.defineProperty(f,"TimeMicrosecondVector",{enumerable:!0,get:function(){return H.TimeMicrosecondVector}});Object.defineProperty(f,"TimeNanosecondVector",{enumerable:!0,get:function(){return H.TimeNanosecondVector}});Object.defineProperty(f,"UnionVector",{enumerable:!0,get:function(){return H.UnionVector}});Object.defineProperty(f,"DenseUnionVector",{enumerable:!0,get:function(){return H.DenseUnionVector}});Object.defineProperty(f,"SparseUnionVector",{enumerable:!0,get:function(){return H.SparseUnionVector}});Object.defineProperty(f,"Utf8Vector",{enumerable:!0,get:function(){return H.Utf8Vector}});var J=Jo();Object.defineProperty(f,"Builder",{enumerable:!0,get:function(){return J.Builder}});Object.defineProperty(f,"BinaryBuilder",{enumerable:!0,get:function(){return J.BinaryBuilder}});Object.defineProperty(f,"BoolBuilder",{enumerable:!0,get:function(){return J.BoolBuilder}});Object.defineProperty(f,"DateBuilder",{enumerable:!0,get:function(){return J.DateBuilder}});Object.defineProperty(f,"DateDayBuilder",{enumerable:!0,get:function(){return J.DateDayBuilder}});Object.defineProperty(f,"DateMillisecondBuilder",{enumerable:!0,get:function(){return J.DateMillisecondBuilder}});Object.defineProperty(f,"DecimalBuilder",{enumerable:!0,get:function(){return J.DecimalBuilder}});Object.defineProperty(f,"DictionaryBuilder",{enumerable:!0,get:function(){return J.DictionaryBuilder}});Object.defineProperty(f,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return J.FixedSizeBinaryBuilder}});Object.defineProperty(f,"FixedSizeListBuilder",{enumerable:!0,get:function(){return J.FixedSizeListBuilder}});Object.defineProperty(f,"FloatBuilder",{enumerable:!0,get:function(){return J.FloatBuilder}});Object.defineProperty(f,"Float16Builder",{enumerable:!0,get:function(){return J.Float16Builder}});Object.defineProperty(f,"Float32Builder",{enumerable:!0,get:function(){return J.Float32Builder}});Object.defineProperty(f,"Float64Builder",{enumerable:!0,get:function(){return J.Float64Builder}});Object.defineProperty(f,"IntervalBuilder",{enumerable:!0,get:function(){return J.IntervalBuilder}});Object.defineProperty(f,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return J.IntervalDayTimeBuilder}});Object.defineProperty(f,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return J.IntervalYearMonthBuilder}});Object.defineProperty(f,"IntBuilder",{enumerable:!0,get:function(){return J.IntBuilder}});Object.defineProperty(f,"Int8Builder",{enumerable:!0,get:function(){return J.Int8Builder}});Object.defineProperty(f,"Int16Builder",{enumerable:!0,get:function(){return J.Int16Builder}});Object.defineProperty(f,"Int32Builder",{enumerable:!0,get:function(){return J.Int32Builder}});Object.defineProperty(f,"Int64Builder",{enumerable:!0,get:function(){return J.Int64Builder}});Object.defineProperty(f,"Uint8Builder",{enumerable:!0,get:function(){return J.Uint8Builder}});Object.defineProperty(f,"Uint16Builder",{enumerable:!0,get:function(){return J.Uint16Builder}});Object.defineProperty(f,"Uint32Builder",{enumerable:!0,get:function(){return J.Uint32Builder}});Object.defineProperty(f,"Uint64Builder",{enumerable:!0,get:function(){return J.Uint64Builder}});Object.defineProperty(f,"ListBuilder",{enumerable:!0,get:function(){return J.ListBuilder}});Object.defineProperty(f,"MapBuilder",{enumerable:!0,get:function(){return J.MapBuilder}});Object.defineProperty(f,"NullBuilder",{enumerable:!0,get:function(){return J.NullBuilder}});Object.defineProperty(f,"StructBuilder",{enumerable:!0,get:function(){return J.StructBuilder}});Object.defineProperty(f,"TimestampBuilder",{enumerable:!0,get:function(){return J.TimestampBuilder}});Object.defineProperty(f,"TimestampSecondBuilder",{enumerable:!0,get:function(){return J.TimestampSecondBuilder}});Object.defineProperty(f,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return J.TimestampMillisecondBuilder}});Object.defineProperty(f,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return J.TimestampMicrosecondBuilder}});Object.defineProperty(f,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return J.TimestampNanosecondBuilder}});Object.defineProperty(f,"TimeBuilder",{enumerable:!0,get:function(){return J.TimeBuilder}});Object.defineProperty(f,"TimeSecondBuilder",{enumerable:!0,get:function(){return J.TimeSecondBuilder}});Object.defineProperty(f,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return J.TimeMillisecondBuilder}});Object.defineProperty(f,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return J.TimeMicrosecondBuilder}});Object.defineProperty(f,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return J.TimeNanosecondBuilder}});Object.defineProperty(f,"UnionBuilder",{enumerable:!0,get:function(){return J.UnionBuilder}});Object.defineProperty(f,"DenseUnionBuilder",{enumerable:!0,get:function(){return J.DenseUnionBuilder}});Object.defineProperty(f,"SparseUnionBuilder",{enumerable:!0,get:function(){return J.SparseUnionBuilder}});Object.defineProperty(f,"Utf8Builder",{enumerable:!0,get:function(){return J.Utf8Builder}});var _d=zr();Object.defineProperty(f,"ByteStream",{enumerable:!0,get:function(){return _d.ByteStream}});Object.defineProperty(f,"AsyncByteStream",{enumerable:!0,get:function(){return _d.AsyncByteStream}});Object.defineProperty(f,"AsyncByteQueue",{enumerable:!0,get:function(){return _d.AsyncByteQueue}});var Rs=Is();Object.defineProperty(f,"RecordBatchReader",{enumerable:!0,get:function(){return Rs.RecordBatchReader}});Object.defineProperty(f,"RecordBatchFileReader",{enumerable:!0,get:function(){return Rs.RecordBatchFileReader}});Object.defineProperty(f,"RecordBatchStreamReader",{enumerable:!0,get:function(){return Rs.RecordBatchStreamReader}});Object.defineProperty(f,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return Rs.AsyncRecordBatchFileReader}});Object.defineProperty(f,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return Rs.AsyncRecordBatchStreamReader}});var Ja=_a();Object.defineProperty(f,"RecordBatchWriter",{enumerable:!0,get:function(){return Ja.RecordBatchWriter}});Object.defineProperty(f,"RecordBatchFileWriter",{enumerable:!0,get:function(){return Ja.RecordBatchFileWriter}});Object.defineProperty(f,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return Ja.RecordBatchStreamWriter}});Object.defineProperty(f,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return Ja.RecordBatchJSONWriter}});var gd=ua();Object.defineProperty(f,"MessageReader",{enumerable:!0,get:function(){return gd.MessageReader}});Object.defineProperty(f,"AsyncMessageReader",{enumerable:!0,get:function(){return gd.AsyncMessageReader}});Object.defineProperty(f,"JSONMessageReader",{enumerable:!0,get:function(){return gd.JSONMessageReader}});var yA=_n();Object.defineProperty(f,"Message",{enumerable:!0,get:function(){return yA.Message}});var mA=Tr();Object.defineProperty(f,"RecordBatch",{enumerable:!0,get:function(){return mA.RecordBatch}});var wd=Hb();Object.defineProperty(f,"DataFrame",{enumerable:!0,get:function(){return wd.DataFrame}});Object.defineProperty(f,"FilteredDataFrame",{enumerable:!0,get:function(){return wd.FilteredDataFrame}});Object.defineProperty(f,"CountByResult",{enumerable:!0,get:function(){return wd.CountByResult}});var bA=es(),_A=Mc(),gA=Jt(),wA=Ki(),vA=Re(),TA=ns(),BA=md();f.predicate=BA;f.util={...bA,..._A,...gA,...wA,...vA,...TA}});var Us=T(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.Utf8Builder=h.SparseUnionBuilder=h.DenseUnionBuilder=h.UnionBuilder=h.TimeNanosecondBuilder=h.TimeMicrosecondBuilder=h.TimeMillisecondBuilder=h.TimeSecondBuilder=h.TimeBuilder=h.TimestampNanosecondBuilder=h.TimestampMicrosecondBuilder=h.TimestampMillisecondBuilder=h.TimestampSecondBuilder=h.TimestampBuilder=h.StructBuilder=h.NullBuilder=h.MapBuilder=h.ListBuilder=h.Uint64Builder=h.Uint32Builder=h.Uint16Builder=h.Uint8Builder=h.Int64Builder=h.Int32Builder=h.Int16Builder=h.Int8Builder=h.IntBuilder=h.IntervalYearMonthBuilder=h.IntervalDayTimeBuilder=h.IntervalBuilder=h.Float64Builder=h.Float32Builder=h.Float16Builder=h.FloatBuilder=h.FixedSizeListBuilder=h.FixedSizeBinaryBuilder=h.DictionaryBuilder=h.DecimalBuilder=h.DateMillisecondBuilder=h.DateDayBuilder=h.DateBuilder=h.BoolBuilder=h.BinaryBuilder=h.Builder=h.util=h.predicate=h.CountByResult=h.FilteredDataFrame=h.DataFrame=h.RecordBatch=h.Message=h.JSONMessageReader=h.AsyncMessageReader=h.MessageReader=h.RecordBatchJSONWriter=h.RecordBatchStreamWriter=h.RecordBatchFileWriter=h.RecordBatchWriter=h.AsyncRecordBatchStreamReader=h.AsyncRecordBatchFileReader=h.RecordBatchStreamReader=h.RecordBatchFileReader=h.RecordBatchReader=h.AsyncByteQueue=h.AsyncByteStream=h.ByteStream=h.Utf8Vector=h.SparseUnionVector=h.DenseUnionVector=h.UnionVector=h.TimeNanosecondVector=h.TimeMicrosecondVector=h.TimeMillisecondVector=h.TimeSecondVector=h.TimeVector=h.TimestampNanosecondVector=h.TimestampMicrosecondVector=h.TimestampMillisecondVector=h.TimestampSecondVector=h.TimestampVector=h.StructVector=h.NullVector=h.MapVector=h.ListVector=h.Uint64Vector=h.Uint32Vector=h.Uint16Vector=h.Uint8Vector=h.Int64Vector=h.Int32Vector=h.Int16Vector=h.Int8Vector=h.IntVector=h.IntervalYearMonthVector=h.IntervalDayTimeVector=h.IntervalVector=h.Float64Vector=h.Float32Vector=h.Float16Vector=h.FloatVector=h.FixedSizeListVector=h.FixedSizeBinaryVector=h.DictionaryVector=h.DecimalVector=h.DateMillisecondVector=h.DateDayVector=h.DateVector=h.Chunked=h.BoolVector=h.BinaryVector=h.BaseVector=h.Vector=h.Visitor=h.Field=h.Schema=h.Column=h.Table=h.Map_=h.FixedSizeList=h.IntervalYearMonth=h.IntervalDayTime=h.Interval=h.Dictionary=h.SparseUnion=h.DenseUnion=h.Union=h.Struct=h.List=h.Decimal=h.TimeNanosecond=h.TimeMicrosecond=h.TimeMillisecond=h.TimeSecond=h.Time=h.TimestampNanosecond=h.TimestampMicrosecond=h.TimestampMillisecond=h.TimestampSecond=h.Timestamp=h.DateMillisecond=h.DateDay=h.Date_=h.FixedSizeBinary=h.Binary=h.Utf8=h.Float64=h.Float32=h.Float16=h.Float=h.Uint64=h.Uint32=h.Uint16=h.Uint8=h.Int64=h.Int32=h.Int16=h.Int8=h.Int=h.Bool=h.Null=h.DataType=h.Data=h.BufferType=h.UnionMode=h.Type=h.TimeUnit=h.Precision=h.MetadataVersion=h.MessageHeader=h.IntervalUnit=h.DateUnit=h.ArrowType=void 0;var IA=zi(),SA=Jo(),OA=Is(),AA=_a(),DA=kb(),FA=xb(),EA=Cb(),RA=jb();IA.default.toDOMStream=DA.toDOMStream;SA.Builder.throughDOM=FA.builderThroughDOMStream;OA.RecordBatchReader.throughDOM=EA.recordBatchReaderThroughDOMStream;AA.RecordBatchWriter.throughDOM=RA.recordBatchWriterThroughDOMStream;var b=Gb();Object.defineProperty(h,"ArrowType",{enumerable:!0,get:function(){return b.ArrowType}});Object.defineProperty(h,"DateUnit",{enumerable:!0,get:function(){return b.DateUnit}});Object.defineProperty(h,"IntervalUnit",{enumerable:!0,get:function(){return b.IntervalUnit}});Object.defineProperty(h,"MessageHeader",{enumerable:!0,get:function(){return b.MessageHeader}});Object.defineProperty(h,"MetadataVersion",{enumerable:!0,get:function(){return b.MetadataVersion}});Object.defineProperty(h,"Precision",{enumerable:!0,get:function(){return b.Precision}});Object.defineProperty(h,"TimeUnit",{enumerable:!0,get:function(){return b.TimeUnit}});Object.defineProperty(h,"Type",{enumerable:!0,get:function(){return b.Type}});Object.defineProperty(h,"UnionMode",{enumerable:!0,get:function(){return b.UnionMode}});Object.defineProperty(h,"BufferType",{enumerable:!0,get:function(){return b.BufferType}});Object.defineProperty(h,"Data",{enumerable:!0,get:function(){return b.Data}});Object.defineProperty(h,"DataType",{enumerable:!0,get:function(){return b.DataType}});Object.defineProperty(h,"Null",{enumerable:!0,get:function(){return b.Null}});Object.defineProperty(h,"Bool",{enumerable:!0,get:function(){return b.Bool}});Object.defineProperty(h,"Int",{enumerable:!0,get:function(){return b.Int}});Object.defineProperty(h,"Int8",{enumerable:!0,get:function(){return b.Int8}});Object.defineProperty(h,"Int16",{enumerable:!0,get:function(){return b.Int16}});Object.defineProperty(h,"Int32",{enumerable:!0,get:function(){return b.Int32}});Object.defineProperty(h,"Int64",{enumerable:!0,get:function(){return b.Int64}});Object.defineProperty(h,"Uint8",{enumerable:!0,get:function(){return b.Uint8}});Object.defineProperty(h,"Uint16",{enumerable:!0,get:function(){return b.Uint16}});Object.defineProperty(h,"Uint32",{enumerable:!0,get:function(){return b.Uint32}});Object.defineProperty(h,"Uint64",{enumerable:!0,get:function(){return b.Uint64}});Object.defineProperty(h,"Float",{enumerable:!0,get:function(){return b.Float}});Object.defineProperty(h,"Float16",{enumerable:!0,get:function(){return b.Float16}});Object.defineProperty(h,"Float32",{enumerable:!0,get:function(){return b.Float32}});Object.defineProperty(h,"Float64",{enumerable:!0,get:function(){return b.Float64}});Object.defineProperty(h,"Utf8",{enumerable:!0,get:function(){return b.Utf8}});Object.defineProperty(h,"Binary",{enumerable:!0,get:function(){return b.Binary}});Object.defineProperty(h,"FixedSizeBinary",{enumerable:!0,get:function(){return b.FixedSizeBinary}});Object.defineProperty(h,"Date_",{enumerable:!0,get:function(){return b.Date_}});Object.defineProperty(h,"DateDay",{enumerable:!0,get:function(){return b.DateDay}});Object.defineProperty(h,"DateMillisecond",{enumerable:!0,get:function(){return b.DateMillisecond}});Object.defineProperty(h,"Timestamp",{enumerable:!0,get:function(){return b.Timestamp}});Object.defineProperty(h,"TimestampSecond",{enumerable:!0,get:function(){return b.TimestampSecond}});Object.defineProperty(h,"TimestampMillisecond",{enumerable:!0,get:function(){return b.TimestampMillisecond}});Object.defineProperty(h,"TimestampMicrosecond",{enumerable:!0,get:function(){return b.TimestampMicrosecond}});Object.defineProperty(h,"TimestampNanosecond",{enumerable:!0,get:function(){return b.TimestampNanosecond}});Object.defineProperty(h,"Time",{enumerable:!0,get:function(){return b.Time}});Object.defineProperty(h,"TimeSecond",{enumerable:!0,get:function(){return b.TimeSecond}});Object.defineProperty(h,"TimeMillisecond",{enumerable:!0,get:function(){return b.TimeMillisecond}});Object.defineProperty(h,"TimeMicrosecond",{enumerable:!0,get:function(){return b.TimeMicrosecond}});Object.defineProperty(h,"TimeNanosecond",{enumerable:!0,get:function(){return b.TimeNanosecond}});Object.defineProperty(h,"Decimal",{enumerable:!0,get:function(){return b.Decimal}});Object.defineProperty(h,"List",{enumerable:!0,get:function(){return b.List}});Object.defineProperty(h,"Struct",{enumerable:!0,get:function(){return b.Struct}});Object.defineProperty(h,"Union",{enumerable:!0,get:function(){return b.Union}});Object.defineProperty(h,"DenseUnion",{enumerable:!0,get:function(){return b.DenseUnion}});Object.defineProperty(h,"SparseUnion",{enumerable:!0,get:function(){return b.SparseUnion}});Object.defineProperty(h,"Dictionary",{enumerable:!0,get:function(){return b.Dictionary}});Object.defineProperty(h,"Interval",{enumerable:!0,get:function(){return b.Interval}});Object.defineProperty(h,"IntervalDayTime",{enumerable:!0,get:function(){return b.IntervalDayTime}});Object.defineProperty(h,"IntervalYearMonth",{enumerable:!0,get:function(){return b.IntervalYearMonth}});Object.defineProperty(h,"FixedSizeList",{enumerable:!0,get:function(){return b.FixedSizeList}});Object.defineProperty(h,"Map_",{enumerable:!0,get:function(){return b.Map_}});Object.defineProperty(h,"Table",{enumerable:!0,get:function(){return b.Table}});Object.defineProperty(h,"Column",{enumerable:!0,get:function(){return b.Column}});Object.defineProperty(h,"Schema",{enumerable:!0,get:function(){return b.Schema}});Object.defineProperty(h,"Field",{enumerable:!0,get:function(){return b.Field}});Object.defineProperty(h,"Visitor",{enumerable:!0,get:function(){return b.Visitor}});Object.defineProperty(h,"Vector",{enumerable:!0,get:function(){return b.Vector}});Object.defineProperty(h,"BaseVector",{enumerable:!0,get:function(){return b.BaseVector}});Object.defineProperty(h,"BinaryVector",{enumerable:!0,get:function(){return b.BinaryVector}});Object.defineProperty(h,"BoolVector",{enumerable:!0,get:function(){return b.BoolVector}});Object.defineProperty(h,"Chunked",{enumerable:!0,get:function(){return b.Chunked}});Object.defineProperty(h,"DateVector",{enumerable:!0,get:function(){return b.DateVector}});Object.defineProperty(h,"DateDayVector",{enumerable:!0,get:function(){return b.DateDayVector}});Object.defineProperty(h,"DateMillisecondVector",{enumerable:!0,get:function(){return b.DateMillisecondVector}});Object.defineProperty(h,"DecimalVector",{enumerable:!0,get:function(){return b.DecimalVector}});Object.defineProperty(h,"DictionaryVector",{enumerable:!0,get:function(){return b.DictionaryVector}});Object.defineProperty(h,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return b.FixedSizeBinaryVector}});Object.defineProperty(h,"FixedSizeListVector",{enumerable:!0,get:function(){return b.FixedSizeListVector}});Object.defineProperty(h,"FloatVector",{enumerable:!0,get:function(){return b.FloatVector}});Object.defineProperty(h,"Float16Vector",{enumerable:!0,get:function(){return b.Float16Vector}});Object.defineProperty(h,"Float32Vector",{enumerable:!0,get:function(){return b.Float32Vector}});Object.defineProperty(h,"Float64Vector",{enumerable:!0,get:function(){return b.Float64Vector}});Object.defineProperty(h,"IntervalVector",{enumerable:!0,get:function(){return b.IntervalVector}});Object.defineProperty(h,"IntervalDayTimeVector",{enumerable:!0,get:function(){return b.IntervalDayTimeVector}});Object.defineProperty(h,"IntervalYearMonthVector",{enumerable:!0,get:function(){return b.IntervalYearMonthVector}});Object.defineProperty(h,"IntVector",{enumerable:!0,get:function(){return b.IntVector}});Object.defineProperty(h,"Int8Vector",{enumerable:!0,get:function(){return b.Int8Vector}});Object.defineProperty(h,"Int16Vector",{enumerable:!0,get:function(){return b.Int16Vector}});Object.defineProperty(h,"Int32Vector",{enumerable:!0,get:function(){return b.Int32Vector}});Object.defineProperty(h,"Int64Vector",{enumerable:!0,get:function(){return b.Int64Vector}});Object.defineProperty(h,"Uint8Vector",{enumerable:!0,get:function(){return b.Uint8Vector}});Object.defineProperty(h,"Uint16Vector",{enumerable:!0,get:function(){return b.Uint16Vector}});Object.defineProperty(h,"Uint32Vector",{enumerable:!0,get:function(){return b.Uint32Vector}});Object.defineProperty(h,"Uint64Vector",{enumerable:!0,get:function(){return b.Uint64Vector}});Object.defineProperty(h,"ListVector",{enumerable:!0,get:function(){return b.ListVector}});Object.defineProperty(h,"MapVector",{enumerable:!0,get:function(){return b.MapVector}});Object.defineProperty(h,"NullVector",{enumerable:!0,get:function(){return b.NullVector}});Object.defineProperty(h,"StructVector",{enumerable:!0,get:function(){return b.StructVector}});Object.defineProperty(h,"TimestampVector",{enumerable:!0,get:function(){return b.TimestampVector}});Object.defineProperty(h,"TimestampSecondVector",{enumerable:!0,get:function(){return b.TimestampSecondVector}});Object.defineProperty(h,"TimestampMillisecondVector",{enumerable:!0,get:function(){return b.TimestampMillisecondVector}});Object.defineProperty(h,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return b.TimestampMicrosecondVector}});Object.defineProperty(h,"TimestampNanosecondVector",{enumerable:!0,get:function(){return b.TimestampNanosecondVector}});Object.defineProperty(h,"TimeVector",{enumerable:!0,get:function(){return b.TimeVector}});Object.defineProperty(h,"TimeSecondVector",{enumerable:!0,get:function(){return b.TimeSecondVector}});Object.defineProperty(h,"TimeMillisecondVector",{enumerable:!0,get:function(){return b.TimeMillisecondVector}});Object.defineProperty(h,"TimeMicrosecondVector",{enumerable:!0,get:function(){return b.TimeMicrosecondVector}});Object.defineProperty(h,"TimeNanosecondVector",{enumerable:!0,get:function(){return b.TimeNanosecondVector}});Object.defineProperty(h,"UnionVector",{enumerable:!0,get:function(){return b.UnionVector}});Object.defineProperty(h,"DenseUnionVector",{enumerable:!0,get:function(){return b.DenseUnionVector}});Object.defineProperty(h,"SparseUnionVector",{enumerable:!0,get:function(){return b.SparseUnionVector}});Object.defineProperty(h,"Utf8Vector",{enumerable:!0,get:function(){return b.Utf8Vector}});Object.defineProperty(h,"ByteStream",{enumerable:!0,get:function(){return b.ByteStream}});Object.defineProperty(h,"AsyncByteStream",{enumerable:!0,get:function(){return b.AsyncByteStream}});Object.defineProperty(h,"AsyncByteQueue",{enumerable:!0,get:function(){return b.AsyncByteQueue}});Object.defineProperty(h,"RecordBatchReader",{enumerable:!0,get:function(){return b.RecordBatchReader}});Object.defineProperty(h,"RecordBatchFileReader",{enumerable:!0,get:function(){return b.RecordBatchFileReader}});Object.defineProperty(h,"RecordBatchStreamReader",{enumerable:!0,get:function(){return b.RecordBatchStreamReader}});Object.defineProperty(h,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return b.AsyncRecordBatchFileReader}});Object.defineProperty(h,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return b.AsyncRecordBatchStreamReader}});Object.defineProperty(h,"RecordBatchWriter",{enumerable:!0,get:function(){return b.RecordBatchWriter}});Object.defineProperty(h,"RecordBatchFileWriter",{enumerable:!0,get:function(){return b.RecordBatchFileWriter}});Object.defineProperty(h,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return b.RecordBatchStreamWriter}});Object.defineProperty(h,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return b.RecordBatchJSONWriter}});Object.defineProperty(h,"MessageReader",{enumerable:!0,get:function(){return b.MessageReader}});Object.defineProperty(h,"AsyncMessageReader",{enumerable:!0,get:function(){return b.AsyncMessageReader}});Object.defineProperty(h,"JSONMessageReader",{enumerable:!0,get:function(){return b.JSONMessageReader}});Object.defineProperty(h,"Message",{enumerable:!0,get:function(){return b.Message}});Object.defineProperty(h,"RecordBatch",{enumerable:!0,get:function(){return b.RecordBatch}});Object.defineProperty(h,"DataFrame",{enumerable:!0,get:function(){return b.DataFrame}});Object.defineProperty(h,"FilteredDataFrame",{enumerable:!0,get:function(){return b.FilteredDataFrame}});Object.defineProperty(h,"CountByResult",{enumerable:!0,get:function(){return b.CountByResult}});Object.defineProperty(h,"predicate",{enumerable:!0,get:function(){return b.predicate}});Object.defineProperty(h,"util",{enumerable:!0,get:function(){return b.util}});Object.defineProperty(h,"Builder",{enumerable:!0,get:function(){return b.Builder}});Object.defineProperty(h,"BinaryBuilder",{enumerable:!0,get:function(){return b.BinaryBuilder}});Object.defineProperty(h,"BoolBuilder",{enumerable:!0,get:function(){return b.BoolBuilder}});Object.defineProperty(h,"DateBuilder",{enumerable:!0,get:function(){return b.DateBuilder}});Object.defineProperty(h,"DateDayBuilder",{enumerable:!0,get:function(){return b.DateDayBuilder}});Object.defineProperty(h,"DateMillisecondBuilder",{enumerable:!0,get:function(){return b.DateMillisecondBuilder}});Object.defineProperty(h,"DecimalBuilder",{enumerable:!0,get:function(){return b.DecimalBuilder}});Object.defineProperty(h,"DictionaryBuilder",{enumerable:!0,get:function(){return b.DictionaryBuilder}});Object.defineProperty(h,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return b.FixedSizeBinaryBuilder}});Object.defineProperty(h,"FixedSizeListBuilder",{enumerable:!0,get:function(){return b.FixedSizeListBuilder}});Object.defineProperty(h,"FloatBuilder",{enumerable:!0,get:function(){return b.FloatBuilder}});Object.defineProperty(h,"Float16Builder",{enumerable:!0,get:function(){return b.Float16Builder}});Object.defineProperty(h,"Float32Builder",{enumerable:!0,get:function(){return b.Float32Builder}});Object.defineProperty(h,"Float64Builder",{enumerable:!0,get:function(){return b.Float64Builder}});Object.defineProperty(h,"IntervalBuilder",{enumerable:!0,get:function(){return b.IntervalBuilder}});Object.defineProperty(h,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return b.IntervalDayTimeBuilder}});Object.defineProperty(h,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return b.IntervalYearMonthBuilder}});Object.defineProperty(h,"IntBuilder",{enumerable:!0,get:function(){return b.IntBuilder}});Object.defineProperty(h,"Int8Builder",{enumerable:!0,get:function(){return b.Int8Builder}});Object.defineProperty(h,"Int16Builder",{enumerable:!0,get:function(){return b.Int16Builder}});Object.defineProperty(h,"Int32Builder",{enumerable:!0,get:function(){return b.Int32Builder}});Object.defineProperty(h,"Int64Builder",{enumerable:!0,get:function(){return b.Int64Builder}});Object.defineProperty(h,"Uint8Builder",{enumerable:!0,get:function(){return b.Uint8Builder}});Object.defineProperty(h,"Uint16Builder",{enumerable:!0,get:function(){return b.Uint16Builder}});Object.defineProperty(h,"Uint32Builder",{enumerable:!0,get:function(){return b.Uint32Builder}});Object.defineProperty(h,"Uint64Builder",{enumerable:!0,get:function(){return b.Uint64Builder}});Object.defineProperty(h,"ListBuilder",{enumerable:!0,get:function(){return b.ListBuilder}});Object.defineProperty(h,"MapBuilder",{enumerable:!0,get:function(){return b.MapBuilder}});Object.defineProperty(h,"NullBuilder",{enumerable:!0,get:function(){return b.NullBuilder}});Object.defineProperty(h,"StructBuilder",{enumerable:!0,get:function(){return b.StructBuilder}});Object.defineProperty(h,"TimestampBuilder",{enumerable:!0,get:function(){return b.TimestampBuilder}});Object.defineProperty(h,"TimestampSecondBuilder",{enumerable:!0,get:function(){return b.TimestampSecondBuilder}});Object.defineProperty(h,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return b.TimestampMillisecondBuilder}});Object.defineProperty(h,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return b.TimestampMicrosecondBuilder}});Object.defineProperty(h,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return b.TimestampNanosecondBuilder}});Object.defineProperty(h,"TimeBuilder",{enumerable:!0,get:function(){return b.TimeBuilder}});Object.defineProperty(h,"TimeSecondBuilder",{enumerable:!0,get:function(){return b.TimeSecondBuilder}});Object.defineProperty(h,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return b.TimeMillisecondBuilder}});Object.defineProperty(h,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return b.TimeMicrosecondBuilder}});Object.defineProperty(h,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return b.TimeNanosecondBuilder}});Object.defineProperty(h,"UnionBuilder",{enumerable:!0,get:function(){return b.UnionBuilder}});Object.defineProperty(h,"DenseUnionBuilder",{enumerable:!0,get:function(){return b.DenseUnionBuilder}});Object.defineProperty(h,"SparseUnionBuilder",{enumerable:!0,get:function(){return b.SparseUnionBuilder}});Object.defineProperty(h,"Utf8Builder",{enumerable:!0,get:function(){return b.Utf8Builder}})});var Ei=T(()=>{});var Ms=T(()=>{});var Jb=T(()=>{});var Kb=T(()=>{});var Qb=T(()=>{});var Xb=T(()=>{});var NA={};Cw(NA,{registerWorker:()=>n_});var Sd=Js(Us());var $b=Js(Us()),Ka=class extends $b.AsyncByteQueue{flush(){let e=super.toUint8Array(!0);return this._values.length=0,e}};var vd;(function(o){o[o.NONE=0]="NONE",o[o.DEBUG=1]="DEBUG",o[o.INFO=2]="INFO",o[o.WARNING=3]="WARNING",o[o.ERROR=4]="ERROR"})(vd||(vd={}));var Td;(function(o){o[o.NONE=0]="NONE",o[o.CONNECT=1]="CONNECT",o[o.DISCONNECT=2]="DISCONNECT",o[o.OPEN=3]="OPEN",o[o.QUERY=4]="QUERY"})(Td||(Td={}));var Bd;(function(u){u[u.NONE=0]="NONE",u[u.OK=1]="OK",u[u.ERROR=2]="ERROR",u[u.START=3]="START",u[u.RUN=4]="RUN",u[u.CAPTURE=5]="CAPTURE"})(Bd||(Bd={}));var Id;(function(o){o[o.NONE=0]="NONE",o[o.WEB_WORKER=1]="WEB_WORKER",o[o.NODE_WORKER=2]="NODE_WORKER",o[o.BINDINGS=3]="BINDINGS",o[o.ASYNC_DUCKDB=4]="ASYNC_DUCKDB"})(Id||(Id={}));var UA=class{constructor(e,r,n){this.db=e;this.conn=r;this.header=n;this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e;return this._inFlight!=null?(e=await this._inFlight,this._inFlight=null):e=await this.db.fetchQueryResults(this.conn),this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}};var oe;(function(E){E.CLOSE_PREPARED="CLOSE_PREPARED",E.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",E.CONNECT="CONNECT",E.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",E.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",E.CREATE_PREPARED="CREATE_PREPARED",E.DISCONNECT="DISCONNECT",E.DROP_FILE="DROP_FILE",E.DROP_FILES="DROP_FILES",E.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",E.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",E.FLUSH_FILES="FLUSH_FILES",E.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",E.GET_VERSION="GET_VERSION",E.GLOB_FILE_INFOS="GLOB_FILE_INFOS",E.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",E.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",E.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",E.INSTANTIATE="INSTANTIATE",E.OPEN="OPEN",E.PING="PING",E.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",E.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",E.REGISTER_FILE_URL="REGISTER_FILE_URL",E.RESET="RESET",E.RUN_PREPARED="RUN_PREPARED",E.RUN_QUERY="RUN_QUERY",E.SEND_PREPARED="SEND_PREPARED",E.SEND_QUERY="SEND_QUERY",E.TOKENIZE="TOKENIZE"})(oe||(oe={}));var Fe;(function(D){D.CONNECTION_INFO="CONNECTION_INFO",D.ERROR="ERROR",D.FEATURE_FLAGS="FEATURE_FLAGS",D.FILE_BUFFER="FILE_BUFFER",D.FILE_INFOS="FILE_INFOS",D.FILE_SIZE="FILE_SIZE",D.FILE_STATISTICS="FILE_STATISTICS",D.LOG="LOG",D.OK="OK",D.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",D.QUERY_PLAN="QUERY_PLAN",D.QUERY_RESULT="QUERY_RESULT",D.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",D.QUERY_START="QUERY_START",D.REGISTERED_FILE="REGISTERED_FILE",D.SCRIPT_TOKENS="SCRIPT_TOKENS",D.SUCCESS="SUCCESS",D.VERSION_STRING="VERSION_STRING"})(Fe||(Fe={}));var te=Js(Us());function Fi(t,e){switch(e.typeId){case te.Type.Binary:return{name:t,type:"binary"};case te.Type.Bool:return{name:t,type:"bool"};case te.Type.Date:return{name:t,type:"date"};case te.Type.DateDay:return{name:t,type:"date32[d]"};case te.Type.DateMillisecond:return{name:t,type:"date64[ms]"};case te.Type.Decimal:{let r=e;return{name:t,type:"decimal",precision:r.precision,scale:r.scale}}case te.Type.Float:return{name:t,type:"float"};case te.Type.Float16:return{name:t,type:"float16"};case te.Type.Float32:return{name:t,type:"float32"};case te.Type.Float64:return{name:t,type:"float64"};case te.Type.Int:return{name:t,type:"int32"};case te.Type.Int16:return{name:t,type:"int16"};case te.Type.Int32:return{name:t,type:"int32"};case te.Type.Int64:return{name:t,type:"int64"};case te.Type.Uint16:return{name:t,type:"uint16"};case te.Type.Uint32:return{name:t,type:"uint32"};case te.Type.Uint64:return{name:t,type:"uint64"};case te.Type.Uint8:return{name:t,type:"uint8"};case te.Type.IntervalDayTime:return{name:t,type:"interval[dt]"};case te.Type.IntervalYearMonth:return{name:t,type:"interval[m]"};case te.Type.List:{let r=e;return{name:t,type:"list",children:[Fi(r.valueField.name,r.valueField.type)]}}case te.Type.FixedSizeBinary:return{name:t,type:"fixedsizebinary",byteWidth:e.byteWidth};case te.Type.Null:return{name:t,type:"null"};case te.Type.Utf8:return{name:t,type:"utf8"};case te.Type.Struct:return{name:t,type:"struct",children:e.children.map(n=>Fi(n.name,n.type))};case te.Type.Time:return{name:t,type:"time[s]"};case te.Type.TimeMicrosecond:return{name:t,type:"time[us]"};case te.Type.TimeMillisecond:return{name:t,type:"time[ms]"};case te.Type.TimeNanosecond:return{name:t,type:"time[ns]"};case te.Type.TimeSecond:return{name:t,type:"time[s]"};case te.Type.Timestamp:return{name:t,type:"timestamp",timezone:e.timezone||void 0};case te.Type.TimestampSecond:return{name:t,type:"timestamp[s]",timezone:e.timezone||void 0};case te.Type.TimestampMicrosecond:return{name:t,type:"timestamp[us]",timezone:e.timezone||void 0};case te.Type.TimestampNanosecond:return{name:t,type:"timestamp[ns]",timezone:e.timezone||void 0};case te.Type.TimestampMillisecond:return{name:t,type:"timestamp[ms]",timezone:e.timezone||void 0}}throw new Error(`unsupported arrow type: ${e.toString()}`)}var o1=new TextEncoder;var Od=class{constructor(){this._bindings=null;this._nextMessageId=0}log(e){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:Fe.LOG,data:e},[])}sendOK(e){this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.OK,data:null},[])}failWith(e,r){let n={name:r.name,message:r.message,stack:r.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.ERROR,data:n},[])}async onMessage(e){switch(e.type){case oe.PING:this.sendOK(e);return;case oe.INSTANTIATE:this._bindings!=null&&this.failWith(e,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(e.data[0],e.data[1]),this.sendOK(e)}catch(r){this._bindings=null,this.failWith(e,r)}return;default:break}if(!this._bindings)return this.failWith(e,new Error("duckdb is not initialized"));try{switch(e.type){case oe.GET_VERSION:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.VERSION_STRING,data:this._bindings.getVersion()},[]);break;case oe.GET_FEATURE_FLAGS:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.FEATURE_FLAGS,data:this._bindings.getFeatureFlags()},[]);break;case oe.RESET:this._bindings.reset(),this.sendOK(e);break;case oe.OPEN:this._bindings.open(e.data),this.sendOK(e);break;case oe.DROP_FILE:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.SUCCESS,data:this._bindings.dropFile(e.data)},[]);break;case oe.DROP_FILES:this._bindings.dropFiles(),this.sendOK(e);break;case oe.FLUSH_FILES:this._bindings.flushFiles(),this.sendOK(e);break;case oe.CONNECT:{let r=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.CONNECTION_INFO,data:r.useUnsafe((n,i)=>i)},[]);break}case oe.DISCONNECT:this._bindings.disconnect(e.data),this.sendOK(e);break;case oe.CREATE_PREPARED:{let r=this._bindings.createPrepared(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.PREPARED_STATEMENT_ID,data:r},[]);break}case oe.CLOSE_PREPARED:{this._bindings.closePrepared(e.data[0],e.data[1]),this.sendOK(e);break}case oe.RUN_PREPARED:{let r=this._bindings.runPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.QUERY_RESULT,data:r},[r.buffer]);break}case oe.RUN_QUERY:{let r=this._bindings.runQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.QUERY_RESULT,data:r},[r.buffer]);break}case oe.SEND_PREPARED:{let r=this._bindings.sendPrepared(e.data[0],e.data[1],e.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.QUERY_START,data:r},[r.buffer]);break}case oe.SEND_QUERY:{let r=this._bindings.sendQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.QUERY_START,data:r},[r.buffer]);break}case oe.FETCH_QUERY_RESULTS:{let r=this._bindings.fetchQueryResults(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.QUERY_RESULT_CHUNK,data:r},[r.buffer]);break}case oe.GLOB_FILE_INFOS:{let r=this._bindings.globFiles(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.FILE_INFOS,data:r},[]);break}case oe.REGISTER_FILE_URL:this._bindings.registerFileURL(e.data[0],e.data[1]),this.sendOK(e);break;case oe.REGISTER_FILE_BUFFER:this._bindings.registerFileBuffer(e.data[0],e.data[1]),this.sendOK(e);break;case oe.REGISTER_FILE_HANDLE:this._bindings.registerFileHandle(e.data[0],e.data[1]),this.sendOK(e);break;case oe.COPY_FILE_TO_PATH:this._bindings.copyFileToPath(e.data[0],e.data[1]),this.sendOK(e);break;case oe.COPY_FILE_TO_BUFFER:{let r=this._bindings.copyFileToBuffer(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.FILE_BUFFER,data:r},[]);break}case oe.COLLECT_FILE_STATISTICS:this._bindings.collectFileStatistics(e.data[0],e.data[1]),this.sendOK(e);break;case oe.EXPORT_FILE_STATISTICS:{this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.FILE_STATISTICS,data:this._bindings.exportFileStatistics(e.data)},[]);break}case oe.INSERT_ARROW_FROM_IPC_STREAM:{this._bindings.insertArrowFromIPCStream(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case oe.INSERT_CSV_FROM_PATH:{this._bindings.insertCSVFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case oe.INSERT_JSON_FROM_PATH:{this._bindings.insertJSONFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break}case oe.TOKENIZE:{let r=this._bindings.tokenize(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:Fe.SCRIPT_TOKENS,data:r},[]);break}}}catch(r){return this.failWith(e,r)}}};var Ad={},MA=function(){var t=Ad.url;return function(e){e=e||{};function r(){return Oe.buffer!=_t&&an(Oe.buffer),Yd}function n(){return Oe.buffer!=_t&&an(Oe.buffer),Gd}function i(){return Oe.buffer!=_t&&an(Oe.buffer),$d}function o(){return Oe.buffer!=_t&&an(Oe.buffer),Jd}function u(){return Oe.buffer!=_t&&an(Oe.buffer),Kd}var a=typeof e!="undefined"?e:{},p,s;a.ready=new Promise(function(c,d){p=c,s=d});var l={},g;for(g in a)a.hasOwnProperty(g)&&(l[g]=a[g]);var L=[],ae="./this.program",Ye=function(c,d){throw d},Wt=typeof window=="object",Xe=typeof importScripts=="function",Pt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D=a.ENVIRONMENT_IS_PTHREAD||!1,dt="";function Pd(c){return a.locateFile?a.locateFile(c,dt):dt+c}var Ui,Qa,Mi,i_;function s_(c){if(!(c instanceof ji)){var d=c;E("exiting due to exception: "+d)}}var mt,bt;if(Pt){Xe?dt=Ei().dirname(dt)+"/":dt=__dirname+"/",Ui=function(d,y){return mt||(mt=Ms()),bt||(bt=Ei()),d=bt.normalize(d),mt.readFileSync(d,y?null:"utf8")},Mi=function(d){var y=Ui(d,!0);return y.buffer||(y=new Uint8Array(y)),Vs(y.buffer),y},Qa=function(d,y,m){mt||(mt=Ms()),bt||(bt=Ei()),d=bt.normalize(d),mt.readFile(d,function(v,I){v?m(v):y(I.buffer)})},process.argv.length>1&&(ae=process.argv[1].replace(/\\/g,"/")),L=process.argv.slice(2),process.on("uncaughtException",function(c){if(!(c instanceof ji))throw c}),process.on("unhandledRejection",function(c){throw c}),Ye=function(c,d){if(ki())throw process.exitCode=c,d;s_(d),process.exit(c)},a.inspect=function(){return"[Emscripten Module object]"};var Vd;try{Vd=Jb()}catch(c){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),c}global.Worker=Vd.Worker}else(Wt||Xe)&&(Xe?dt=self.location.href:typeof document!="undefined"&&document.currentScript&&(dt=document.currentScript.src),t&&(dt=t),dt.indexOf("blob:")!==0?dt=dt.substr(0,dt.replace(/[?#].*/,"").lastIndexOf("/")+1):dt="",Pt?(Ui=function(d,y){return mt||(mt=Ms()),bt||(bt=Ei()),d=bt.normalize(d),mt.readFileSync(d,y?null:"utf8")},Mi=function(d){var y=Ui(d,!0);return y.buffer||(y=new Uint8Array(y)),Vs(y.buffer),y},Qa=function(d,y,m){mt||(mt=Ms()),bt||(bt=Ei()),d=bt.normalize(d),mt.readFile(d,function(v,I){v?m(v):y(I.buffer)})}):(Ui=function(c){var d=new XMLHttpRequest;return d.open("GET",c,!1),d.send(null),d.responseText},Xe&&(Mi=function(c){var d=new XMLHttpRequest;return d.open("GET",c,!1),d.responseType="arraybuffer",d.send(null),new Uint8Array(d.response)}),Qa=function(c,d,y){var m=new XMLHttpRequest;m.open("GET",c,!0),m.responseType="arraybuffer",m.onload=function(){if(m.status==200||m.status==0&&m.response){d(m.response);return}y()},m.onerror=y,m.send(null)}),i_=function(c){document.title=c});Pt&&typeof performance=="undefined"&&(global.performance=Kb().performance);var kd=a.print||console.log.bind(console),E=a.printErr||console.warn.bind(console);for(g in l)l.hasOwnProperty(g)&&(a[g]=l[g]);l=null,a.arguments&&(L=a.arguments),a.thisProgram&&(ae=a.thisProgram),a.quit&&(Ye=a.quit);function Pi(c){Pi.shown||(Pi.shown={}),Pi.shown[c]||(Pi.shown[c]=1,E(c))}var LA=Atomics.load,xA=Atomics.store,CA=Atomics.compareExchange,Vi;a.wasmBinary&&(Vi=a.wasmBinary);var Nd=a.noExitRuntime||!0;typeof WebAssembly!="object"&&Ht("no native wasm support detected");var Oe,Ld,Ps=!1,on;function Vs(c,d){c||Ht("Assertion failed: "+d)}function o_(c){var d=a["_"+c];return Vs(d,"Cannot call unknown function "+c+", make sure it is exported"),d}function a_(c,d,y,m,v){var I={string:function(ke){var pr=0;if(ke!=null&&ke!==0){var Wi=(ke.length<<2)+1;pr=Dn(Wi),Wd(ke,pr,Wi)}return pr},array:function(ke){var pr=Dn(ke.length);return Hd(ke,pr),pr}};function O(ke){return d==="string"?zt(ke):d==="boolean"?Boolean(ke):ke}var k=o_(c),ue=[],Ge=0;if(m)for(var Ze=0;Ze<m.length;Ze++){var qi=I[y[Ze]];qi?(Ge===0&&(Ge=Ci()),ue[Ze]=qi(m[Ze])):ue[Ze]=m[Ze]}var rt=k.apply(null,ue);function Yt(ke){return Ge!==0&&An(Ge),O(ke)}return rt=Yt(rt),rt}function xd(c){var d=new TextDecoder(c);this.decode=function(y){return y.buffer instanceof SharedArrayBuffer&&(y=new Uint8Array(y)),d.decode.call(d,y)}}var Cd=typeof TextDecoder!="undefined"?new xd("utf8"):void 0;function jd(c,d,y){for(var m=d+y,v=d;c[v]&&!(v>=m);)++v;if(v-d>16&&c.subarray&&Cd)return Cd.decode(c.subarray(d,v));for(var I="";d<v;){var O=c[d++];if(!(O&128)){I+=String.fromCharCode(O);continue}var k=c[d++]&63;if((O&224)==192){I+=String.fromCharCode((O&31)<<6|k);continue}var ue=c[d++]&63;if((O&240)==224?O=(O&15)<<12|k<<6|ue:O=(O&7)<<18|k<<12|ue<<6|c[d++]&63,O<65536)I+=String.fromCharCode(O);else{var Ge=O-65536;I+=String.fromCharCode(55296|Ge>>10,56320|Ge&1023)}}return I}function zt(c,d){return c?jd(n(),c,d):""}function qd(c,d,y,m){if(!(m>0))return 0;for(var v=y,I=y+m-1,O=0;O<c.length;++O){var k=c.charCodeAt(O);if(k>=55296&&k<=57343){var ue=c.charCodeAt(++O);k=65536+((k&1023)<<10)|ue&1023}if(k<=127){if(y>=I)break;d[y++]=k}else if(k<=2047){if(y+1>=I)break;d[y++]=192|k>>6,d[y++]=128|k&63}else if(k<=65535){if(y+2>=I)break;d[y++]=224|k>>12,d[y++]=128|k>>6&63,d[y++]=128|k&63}else{if(y+3>=I)break;d[y++]=240|k>>18,d[y++]=128|k>>12&63,d[y++]=128|k>>6&63,d[y++]=128|k&63}}return d[y]=0,y-v}function Wd(c,d,y){return qd(c,n(),d,y)}function zd(c){for(var d=0,y=0;y<c.length;++y){var m=c.charCodeAt(y);m>=55296&&m<=57343&&(m=65536+((m&1023)<<10)|c.charCodeAt(++y)&1023),m<=127?++d:m<=2047?d+=2:m<=65535?d+=3:d+=4}return d}var jA=typeof TextDecoder!="undefined"?new xd("utf-16le"):void 0;function Hd(c,d){r().set(c,d)}function u_(c,d,y){for(var m=0;m<c.length;++m)r()[d++>>0]=c.charCodeAt(m);y||(r()[d>>0]=0)}function c_(c,d){return c%d>0&&(c+=d-c%d),c}var _t,Yd,Gd,l_,d_,$d,Jd,f_,Kd;D&&(_t=a.buffer);function an(c){_t=c,a.HEAP8=Yd=new Int8Array(c),a.HEAP16=l_=new Int16Array(c),a.HEAP32=$d=new Int32Array(c),a.HEAPU8=Gd=new Uint8Array(c),a.HEAPU16=d_=new Uint16Array(c),a.HEAPU32=Jd=new Uint32Array(c),a.HEAPF32=f_=new Float32Array(c),a.HEAPF64=Kd=new Float64Array(c)}var Qd=a.INITIAL_MEMORY||16777216;if(D)Oe=a.wasmMemory,_t=a.buffer;else if(a.wasmMemory)Oe=a.wasmMemory;else if(Oe=new WebAssembly.Memory({initial:Qd/65536,maximum:2147483648/65536,shared:!0}),!(Oe.buffer instanceof SharedArrayBuffer))throw E("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Pt&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Oe&&(_t=Oe.buffer),Qd=_t.byteLength,an(_t);var On,Xd=[],Zd=[],h_=[],p_=[],ef=[],y_=!1,m_=!1,Xa=0;function ki(){return Nd||Xa>0}function b_(){if(!D){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)v_(a.preRun.shift());ks(Xd)}}function tf(){y_=!0,!D&&ks(Zd)}function __(){D||ks(h_)}function g_(){D||(N.terminateAllThreads(),m_=!0)}function w_(){if(!D){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)B_(a.postRun.shift());ks(ef)}}function v_(c){Xd.unshift(c)}function T_(c){Zd.unshift(c)}function B_(c){ef.unshift(c)}var un=0,Za=null,Ni=null;function I_(c){un++,a.monitorRunDependencies&&a.monitorRunDependencies(un)}function S_(c){if(un--,a.monitorRunDependencies&&a.monitorRunDependencies(un),un==0&&(Za!==null&&(clearInterval(Za),Za=null),Ni)){var d=Ni;Ni=null,d()}}a.preloadedImages={},a.preloadedAudios={};function Ht(c){D?postMessage({cmd:"onAbort",arg:c}):a.onAbort&&a.onAbort(c),c="Aborted("+c+")",E(c),Ps=!0,on=1,c+=". Build with -s ASSERTIONS=1 for more info.";var d=new WebAssembly.RuntimeError(c);throw s(d),d}var O_="data:application/octet-stream;base64,";function rf(c){return c.startsWith(O_)}var gt;a.locateFile?(gt="duckdb_wasm.wasm",rf(gt)||(gt=Pd(gt))):gt=new URL("duckdb_wasm.wasm",Ad.url).toString();function nf(c){try{if(c==gt&&Vi)return new Uint8Array(Vi);if(Mi)return Mi(c);throw"both async and sync fetching of the wasm failed"}catch(d){Ht(d)}}function A_(){return!Vi&&(Wt||Xe)&&typeof fetch=="function"?fetch(gt,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+gt+"'";return c.arrayBuffer()}).catch(function(){return nf(gt)}):Promise.resolve().then(function(){return nf(gt)})}function D_(){var c={a:Gg};function d(O,k){var ue=O.exports;if(a.asm=ue,P_(a.asm.$a),On=a.asm.sa,T_(a.asm.qa),Ld=k,!D){var Ge=N.unusedWorkers.length;N.unusedWorkers.forEach(function(Ze){N.loadWasmModuleToWorker(Ze,function(){--Ge||S_("wasm-instantiate")})})}}D||I_("wasm-instantiate");function y(O){d(O.instance,O.module)}function m(O){return A_().then(function(k){return WebAssembly.instantiate(k,c)}).then(function(k){return k}).then(O,function(k){E("failed to asynchronously prepare wasm: "+k),Ht(k)})}function v(){return!Vi&&typeof WebAssembly.instantiateStreaming=="function"&&!rf(gt)&&typeof fetch=="function"?fetch(gt,{credentials:"same-origin"}).then(function(O){var k=WebAssembly.instantiateStreaming(O,c);return k.then(y,function(ue){return E("wasm streaming compile failed: "+ue),E("falling back to ArrayBuffer instantiation"),m(y)})}):m(y)}if(a.instantiateWasm)try{var I=a.instantiateWasm(c,d);return I}catch(O){return E("Module.instantiateWasm callback failed with error: "+O),!1}return v().catch(s),{}}var F_={};function ks(c){for(;c.length>0;){var d=c.shift();if(typeof d=="function"){d(a);continue}var y=d.func;typeof y=="number"?d.arg===void 0?On.get(y)():On.get(y)(d.arg):y(d.arg===void 0?null:d.arg)}}function sf(c,d){if(c<=0||c>r().length||c&!0||d<0)return-28;if(d==0)return 0;d>=2147483647&&(d=1/0);var y=Atomics.load(i(),Fn>>2),m=0;if(y==c){var v=Atomics.compareExchange(i(),Fn>>2,y,0);if(v==y&&(--d,m=1,d<=0))return 1}var I=Atomics.notify(i(),c>>2,d);if(I>=0)return I+m;throw"Atomics.notify returned an unexpected value "+I}a._emscripten_futex_wake=sf;function E_(c){i()[c+8>>2]=0;var d=N.pthreads[c];delete N.pthreads[c],d.worker.terminate(),af(d),N.runningWorkers.splice(N.runningWorkers.indexOf(d.worker),1),d.worker.pthread=void 0}function R_(c){var d=N.pthreads[c];d.worker.postMessage({cmd:"cancel"})}function of(c){var d=N.pthreads[c];if(d){i()[c+8>>2]=0;var y=d.worker;N.returnWorkerToPool(y)}}function af(c){!c||(c.threadInfoStruct&&Ys(c.threadInfoStruct),c.threadInfoStruct=0,c.allocatedOwnStack&&c.stackBase&&Ys(c.stackBase),c.stackBase=0,c.worker&&(c.worker.pthread=null))}function Ns(c){$f(c)}a._exit=Ns;function Ls(c){if(c instanceof ji||c=="unwind")return on;Ye(1,c)}var N={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var c=4,d=0;d<c;++d)N.allocateUnusedWorker()},initWorker:function(){},pthreads:{},threadExitHandlers:[],setExitStatus:function(c){on=c},terminateAllThreads:function(){for(var c in N.pthreads){var d=N.pthreads[c];d&&d.worker&&N.returnWorkerToPool(d.worker)}for(var y=0;y<N.unusedWorkers.length;++y){var m=N.unusedWorkers[y];m.terminate()}N.unusedWorkers=[]},returnWorkerToPool:function(c){N.runWithoutMainThreadQueuedCalls(function(){delete N.pthreads[c.pthread.threadInfoStruct],N.unusedWorkers.push(c),N.runningWorkers.splice(N.runningWorkers.indexOf(c),1),af(c.pthread),c.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(c){i()[Gf>>2]=0;try{c()}finally{i()[Gf>>2]=1}},receiveObjectTransfer:function(c){},threadInit:function(){for(var c in N.tlsInitFunctions)N.tlsInitFunctions[c]()},loadWasmModuleToWorker:function(c,d){c.onmessage=function(y){var m=y.data,v=m.cmd;if(c.pthread&&(N.currentProxiedOperationCallerThread=c.pthread.threadInfoStruct),m.targetThread&&m.targetThread!=Hs()){var I=N.pthreads[m.targetThread];I?I.worker.postMessage(m,m.transferList):E('Internal error! Worker sent a message "'+v+'" to target pthread '+m.targetThread+", but that thread no longer exists!"),N.currentProxiedOperationCallerThread=void 0;return}v==="processQueuedMainThreadWork"?zs():v==="spawnThread"?lf(m):v==="cleanupThread"?of(m.thread):v==="killThread"?E_(m.thread):v==="cancelThread"?R_(m.thread):v==="loaded"?(c.loaded=!0,d&&d(c),c.runPthread&&(c.runPthread(),delete c.runPthread)):v==="print"?kd("Thread "+m.threadId+": "+m.text):v==="printErr"?E("Thread "+m.threadId+": "+m.text):v==="alert"?alert("Thread "+m.threadId+": "+m.text):v==="detachedExit"||v==="cancelDone"?N.returnWorkerToPool(c):m.target==="setimmediate"?c.postMessage(m):v==="onAbort"?a.onAbort&&a.onAbort(m.arg):E("worker sent an unknown command "+v),N.currentProxiedOperationCallerThread=void 0},c.onerror=function(y){throw E("pthread sent an error! "+y.filename+":"+y.lineno+": "+y.message),y},Pt&&(c.on("message",function(y){c.onmessage({data:y})}),c.on("error",function(y){c.onerror(y)}),c.on("detachedExit",function(){})),c.postMessage({cmd:"load",urlOrBlob:a.mainScriptUrlOrBlob,wasmMemory:Oe,wasmModule:Ld})},allocateUnusedWorker:function(){if(!a.locateFile){N.unusedWorkers.push(new Worker(new URL("duckdb_wasm.worker.js",Ad.url)));return}var c=Pd("duckdb_wasm.worker.js");N.unusedWorkers.push(new Worker(c))},getNewWorker:function(){return N.unusedWorkers.length==0&&(N.allocateUnusedWorker(),N.loadWasmModuleToWorker(N.unusedWorkers[0])),N.unusedWorkers.pop()}};function U_(c,d){Hf(c,d),An(c)}a.establishStackSpace=U_;function uf(c){if(D)return me(1,0,c);try{Ns(c)}catch(d){Ls(d)}}function M_(c,d){return On.get(c)(d)}a.invokeEntryPoint=M_;function P_(c,d,y){N.tlsInitFunctions.push(c)}function V_(c,d,y,m){Ht("Assertion failed: "+zt(c)+", at: "+[d?zt(d):"unknown filename",y,m?zt(m):"unknown function"])}var Li;Pt?Li=function(){var c=process.hrtime();return c[0]*1e3+c[1]/1e6}:D?Li=function(){return performance.now()-a.__performance_now_clock_drift}:Li=function(){return performance.now()};var k_=!0;function N_(c){return i()[zf()>>2]=c,c}function cf(c,d){var y;if(c===0)y=Date.now();else if((c===1||c===4)&&k_)y=Li();else return N_(28),-1;return i()[d>>2]=y/1e3|0,i()[d+4>>2]=y%1e3*1e3*1e3|0,0}function L_(c,d){return cf(c,d)}function x_(c,d){if(D)return me(2,1,c,d)}function C_(c,d){N.threadExitHandlers.push(function(){On.get(c)(d)})}function j_(c){Wf(c,!Xe,1),N.threadInit()}function lf(c){var d=N.getNewWorker();if(!d)return 6;N.runningWorkers.push(d);var y=c.stackBase+c.stackSize,m=N.pthreads[c.pthread_ptr]={worker:d,stackBase:c.stackBase,stackSize:c.stackSize,allocatedOwnStack:c.allocatedOwnStack,threadInfoStruct:c.pthread_ptr},v=m.threadInfoStruct>>2;Atomics.store(o(),v+(60>>2),c.detached),Atomics.store(o(),v+(76>>2),c.stackSize),Atomics.store(o(),v+(72>>2),y),Atomics.store(o(),v+(100>>2),c.stackSize),Atomics.store(o(),v+(100+8>>2),y),Atomics.store(o(),v+(100+12>>2),c.detached),d.pthread=m;var I={cmd:"run",start_routine:c.startRoutine,arg:c.arg,threadInfoStruct:c.pthread_ptr,stackBase:c.stackBase,stackSize:c.stackSize};return d.runPthread=function(){I.time=performance.now(),d.postMessage(I,c.transferList)},d.loaded&&(d.runPthread(),delete d.runPthread),0}function q_(c,d,y,m){if(typeof SharedArrayBuffer=="undefined")return E("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var v=[],I=0;if(D&&(v.length===0||I))return xf(687865856,c,d,y,m);if(I)return I;var O=0,k=0,ue=0;d&&d!=-1?(O=i()[d>>2],O+=2097152,k=i()[d+8>>2],ue=i()[d+12>>2]!==0):O=2097152;var Ge=k==0;Ge?k=Yf(16,O):(k-=O,Vs(k>0));var Ze={stackBase:k,stackSize:O,allocatedOwnStack:Ge,detached:ue,startRoutine:y,pthread_ptr:c,arg:m,transferList:v};return D?(Ze.cmd="spawnThread",postMessage(Ze,v),0):lf(Ze)}function W_(){postMessage({cmd:"detachedExit"})}function z_(c){for(;N.threadExitHandlers.length>0;)N.threadExitHandlers.pop()()}function df(c,d,y){if(c<=0||c>r().length||c&!0)return-28;if(Wt){if(Atomics.load(i(),c>>2)!=d)return-6;for(var v=performance.now(),I=v+y,O=Atomics.exchange(i(),Fn>>2,c);;){if(v=performance.now(),v>I)return O=Atomics.exchange(i(),Fn>>2,0),-73;if(O=Atomics.exchange(i(),Fn>>2,0),O==0)break;if(zs(),Atomics.load(i(),c>>2)!=d)return-6;O=Atomics.exchange(i(),Fn>>2,c)}return 0}else{var m=Atomics.wait(i(),c>>2,d,y);if(m==="timed-out")return-73;if(m==="not-equal")return-6;if(m==="ok")return 0;throw"Atomics.wait returned an unexpected value "+m}}function ff(){Pt||Xe||Pi("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function H_(c,d,y){if(!c)return E("pthread_join attempted on a null thread pointer!"),71;if(D&&Hs()==c)return E("PThread "+c+" is attempting to join to itself!"),16;if(!D&&Lf()==c)return E("Main thread "+c+" is attempting to join to itself!"),16;var m=i()[c+8>>2];if(m!==c)return E("pthread_join attempted on thread "+c+", which does not point to a valid thread, or does not exist anymore!"),71;var v=Atomics.load(o(),c+60>>2);if(v)return E("Attempted to join thread "+c+", which was already detached!"),28;for(y&&ff();;){var I=Atomics.load(o(),c+0>>2);if(I==1){if(d){var O=Atomics.load(o(),c+88>>2);i()[d>>2]=O}return Atomics.store(o(),c+60>>2,1),D?postMessage({cmd:"cleanupThread",thread:c}):of(c),0}if(!y)return 10;qf(),D||zs(),df(c+0,I,D?100:1)}}function Y_(c,d){return H_(c,d,!0)}var je={mappings:{},buffers:[null,[],[]],printChar:function(c,d){var y=je.buffers[c];d===0||d===10?((c===1?kd:E)(jd(y,0)),y.length=0):y.push(d)},varargs:void 0,get:function(){je.varargs+=4;var c=i()[je.varargs-4>>2];return c},getStr:function(c){var d=zt(c);return d},get64:function(c,d){return c}};function hf(c,d){return D?me(3,1,c,d):(c=je.getStr(c),je.doAccess(c,d))}function pf(c,d,y){return D?me(4,1,c,d,y):(je.varargs=y,0)}function yf(c,d){if(D)return me(5,1,c,d)}function mf(c,d,y,m){if(D)return me(6,1,c,d,y,m)}function bf(c,d,y){if(D)return me(7,1,c,d,y)}function G_(){return 42}function _f(c,d,y){return D?me(8,1,c,d,y):(je.varargs=y,0)}function $_(c,d,y){return 0}function gf(c,d){return D?me(9,1,c,d):(c=je.getStr(c),je.doMkdir(c,d))}function wf(c,d,y){if(D)return me(10,1,c,d,y);je.varargs=y}function vf(c,d){if(D)return me(11,1,c,d)}function Tf(c){if(D)return me(12,1,c)}function Bf(c,d){if(D)return me(13,1,c,d)}function If(c){if(D)return me(14,1,c)}function J_(c,d){Ht("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function K_(c,d){Ht("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")}function Q_(c,d){if(c==d)postMessage({cmd:"processQueuedMainThreadWork"});else if(D)postMessage({targetThread:c,cmd:"processThreadQueue"});else{var y=N.pthreads[c],m=y&&y.worker;if(!m)return;m.postMessage({cmd:"processThreadQueue"})}return 1}function X_(){Ht("")}function Z_(c,d){return globalThis.DUCKDB_RUNTIME.createDirectory(a,c,d)}function eg(c,d){return globalThis.DUCKDB_RUNTIME.checkDirectory(a,c,d)}function tg(c,d){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(a,c,d)}function rg(c,d){return globalThis.DUCKDB_RUNTIME.removeDirectory(a,c,d)}function ng(c){return globalThis.DUCKDB_RUNTIME.closeFile(a,c)}function ig(c,d){return globalThis.DUCKDB_RUNTIME.checkFile(a,c,d)}function sg(c){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(a,c)}function og(c,d,y,m){return globalThis.DUCKDB_RUNTIME.moveFile(a,c,d,y,m)}function ag(c){return globalThis.DUCKDB_RUNTIME.openFile(a,c)}function ug(c,d,y,m){return globalThis.DUCKDB_RUNTIME.readFile(a,c,d,y,m)}function cg(c,d){return globalThis.DUCKDB_RUNTIME.truncateFile(a,c,d)}function lg(c,d,y,m){return globalThis.DUCKDB_RUNTIME.writeFile(a,c,d,y,m)}function dg(c,d){return globalThis.DUCKDB_RUNTIME.glob(a,c,d)}function fg(c){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(a,c)}function hg(c,d){}function pg(){return 2147483648}function yg(c,d,y){n().copyWithin(c,d,d+y)}function mg(){return Pt?Qb().cpus().length:navigator.hardwareConcurrency}function me(c,d){for(var y=arguments.length-2,m=Ci(),v=y,I=Dn(v*8),O=I>>3,k=0;k<y;k++){var ue=arguments[2+k];u()[O+k]=ue}var Ge=Cf(c,v,I,d);return An(m),Ge}var eu=[];function bg(c,d,y){eu.length=d;for(var m=y>>3,v=0;v<d;v++)eu[v]=u()[m+v];var I=c<0,O=I?F_[-c-1]:Hg[c];return O.apply(null,eu)}function _g(c){try{return Oe.grow(c-_t.byteLength+65535>>>16),an(Oe.buffer),1}catch{}}function gg(c){var d=n().length;if(c=c>>>0,c<=d)return!1;var y=2147483648;if(c>y)return!1;for(var m=1;m<=4;m*=2){var v=d*(1+.2/m);v=Math.min(v,c+100663296);var I=Math.min(y,c_(Math.max(c,v),65536)),O=_g(I);if(O)return!0}return!1}var Z={inEventHandler:0,removeAllEventListeners:function(){for(var c=Z.eventHandlers.length-1;c>=0;--c)Z._removeHandler(c);Z.eventHandlers=[],Z.deferredCalls=[]},registerRemoveEventListeners:function(){Z.removeEventListenersRegistered||(p_.push(Z.removeAllEventListeners),Z.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(c,d,y){function m(O,k){if(O.length!=k.length)return!1;for(var ue in O)if(O[ue]!=k[ue])return!1;return!0}for(var v in Z.deferredCalls){var I=Z.deferredCalls[v];if(I.targetFunction==c&&m(I.argsList,y))return}Z.deferredCalls.push({targetFunction:c,precedence:d,argsList:y}),Z.deferredCalls.sort(function(O,k){return O.precedence<k.precedence})},removeDeferredCalls:function(c){for(var d=0;d<Z.deferredCalls.length;++d)Z.deferredCalls[d].targetFunction==c&&(Z.deferredCalls.splice(d,1),--d)},canPerformEventHandlerRequests:function(){return Z.inEventHandler&&Z.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(!!Z.canPerformEventHandlerRequests())for(var c=0;c<Z.deferredCalls.length;++c){var d=Z.deferredCalls[c];Z.deferredCalls.splice(c,1),--c,d.targetFunction.apply(null,d.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(c,d){for(var y=0;y<Z.eventHandlers.length;++y)Z.eventHandlers[y].target==c&&(!d||d==Z.eventHandlers[y].eventTypeString)&&Z._removeHandler(y--)},_removeHandler:function(c){var d=Z.eventHandlers[c];d.target.removeEventListener(d.eventTypeString,d.eventListenerFunc,d.useCapture),Z.eventHandlers.splice(c,1)},registerOrRemoveHandler:function(c){var d=function(v){++Z.inEventHandler,Z.currentEventHandler=c,Z.runDeferredCalls(),c.handlerFunc(v),Z.runDeferredCalls(),--Z.inEventHandler};if(c.callbackfunc)c.eventListenerFunc=d,c.target.addEventListener(c.eventTypeString,d,c.useCapture),Z.eventHandlers.push(c),Z.registerRemoveEventListeners();else for(var y=0;y<Z.eventHandlers.length;++y)Z.eventHandlers[y].target==c.target&&Z.eventHandlers[y].eventTypeString==c.eventTypeString&&Z._removeHandler(y--)},queueEventHandlerOnThread_iiii:function(c,d,y,m,v){var I=Ci(),O=Dn(12);i()[O>>2]=y,i()[O+4>>2]=m,i()[O+8>>2]=v,iu(0,c,637534208,d,m,O),An(I)},getTargetThreadForEventCallback:function(c){switch(c){case 1:return 0;case 2:return N.currentProxiedOperationCallerThread;default:return c}},getNodeNameForTarget:function(c){return c?c==window?"#window":c==screen?"#screen":c&&c.nodeName?c.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function wg(c){var d=zd(c)+1,y=su(d);return Wd(c,y,d),y}function vg(c,d,y,m){var v=Ci(),I=Dn(12),O=0;d&&(O=wg(d)),i()[I>>2]=O,i()[I+4>>2]=y,i()[I+8>>2]=m,iu(0,c,657457152,0,O,I),An(v)}function Tg(c,d,y,m){d=d?zt(d):"",vg(c,d,y,m)}function Bg(c){return c>2?zt(c):c}var Ig=[0,typeof document!="undefined"?document:0,typeof window!="undefined"?window:0];function Sg(c){c=Bg(c);var d=Ig[c]||(typeof document!="undefined"?document.querySelector(c):void 0);return d}function tu(c){return Sg(c)}function Sf(c,d,y){var m=tu(c);if(!m)return-4;if(m.canvasSharedPtr&&(i()[m.canvasSharedPtr>>2]=d,i()[m.canvasSharedPtr+4>>2]=y),m.offscreenCanvas||!m.controlTransferredOffscreen){m.offscreenCanvas&&(m=m.offscreenCanvas);var v=!1;if(m.GLctxObject&&m.GLctxObject.GLctx){var I=m.GLctxObject.GLctx.getParameter(2978);v=I[0]===0&&I[1]===0&&I[2]===m.width&&I[3]===m.height}m.width=d,m.height=y,v&&m.GLctxObject.GLctx.viewport(0,0,d,y)}else if(m.canvasSharedPtr){var O=i()[m.canvasSharedPtr+8>>2];return Tg(O,c,d,y),1}else return-4;return 0}function Of(c,d,y){return D?me(15,1,c,d,y):Sf(c,d,y)}function Og(c,d,y){var m=tu(c);return m?Sf(c,d,y):Of(c,d,y)}function Ag(c){}function Dg(){if(!ki())try{D?jf(on):Ns(on)}catch(c){Ls(c)}}function Fg(c,d){if(!Ps){if(d){c();return}try{c(),D&&Dg()}catch(y){Ls(y)}}}function Eg(){Xa+=1}function Rg(){Xa-=1}function Ug(c,d,y){return Eg(),setTimeout(function(){Rg(),Fg(function(){On.get(c)(y)})},d)}function Mg(){throw"unwind"}function Pg(c){var d=c.getExtension("ANGLE_instanced_arrays");if(d)return c.vertexAttribDivisor=function(y,m){d.vertexAttribDivisorANGLE(y,m)},c.drawArraysInstanced=function(y,m,v,I){d.drawArraysInstancedANGLE(y,m,v,I)},c.drawElementsInstanced=function(y,m,v,I,O){d.drawElementsInstancedANGLE(y,m,v,I,O)},1}function Vg(c){var d=c.getExtension("OES_vertex_array_object");if(d)return c.createVertexArray=function(){return d.createVertexArrayOES()},c.deleteVertexArray=function(y){d.deleteVertexArrayOES(y)},c.bindVertexArray=function(y){d.bindVertexArrayOES(y)},c.isVertexArray=function(y){return d.isVertexArrayOES(y)},1}function kg(c){var d=c.getExtension("WEBGL_draw_buffers");if(d)return c.drawBuffers=function(y,m){d.drawBuffersWEBGL(y,m)},1}function Ng(c){return!!(c.multiDrawWebgl=c.getExtension("WEBGL_multi_draw"))}var ve={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(d){ve.lastError||(ve.lastError=d)},getNewId:function(c){for(var d=ve.counter++,y=c.length;y<d;y++)c[y]=null;return d},getSource:function(c,d,y,m){for(var v="",I=0;I<d;++I){var O=m?i()[m+I*4>>2]:-1;v+=zt(i()[y+I*4>>2],O<0?void 0:O)}return v},createContext:function(c,d){c.getContextSafariWebGL2Fixed||(c.getContextSafariWebGL2Fixed=c.getContext,c.getContext=function(v,I){var O=c.getContextSafariWebGL2Fixed(v,I);return v=="webgl"==O instanceof WebGLRenderingContext?O:null});var y=c.getContext("webgl",d);if(!y)return 0;var m=ve.registerContext(y,d);return m},registerContext:function(c,d){var y=su(8);i()[y+4>>2]=Hs();var m={handle:y,attributes:d,version:d.majorVersion,GLctx:c};return c.canvas&&(c.canvas.GLctxObject=m),ve.contexts[y]=m,(typeof d.enableExtensionsByDefault=="undefined"||d.enableExtensionsByDefault)&&ve.initExtensions(m),y},makeContextCurrent:function(c){return ve.currentContext=ve.contexts[c],a.ctx=Nf=ve.currentContext&&ve.currentContext.GLctx,!(c&&!Nf)},getContext:function(c){return ve.contexts[c]},deleteContext:function(c){ve.currentContext===ve.contexts[c]&&(ve.currentContext=null),typeof Z=="object"&&Z.removeAllHandlersOnTarget(ve.contexts[c].GLctx.canvas),ve.contexts[c]&&ve.contexts[c].GLctx.canvas&&(ve.contexts[c].GLctx.canvas.GLctxObject=void 0),Ys(ve.contexts[c].handle),ve.contexts[c]=null},initExtensions:function(c){if(c||(c=ve.currentContext),!c.initExtensionsDone){c.initExtensionsDone=!0;var d=c.GLctx;Pg(d),Vg(d),kg(d),d.disjointTimerQueryExt=d.getExtension("EXT_disjoint_timer_query"),Ng(d);var y=d.getSupportedExtensions()||[];y.forEach(function(m){!m.includes("lose_context")&&!m.includes("debug")&&d.getExtension(m)})}}},Lg=["default","low-power","high-performance"];function xg(c,d){var y=d>>2,m=i()[y+(24>>2)],v={alpha:!!i()[y+(0>>2)],depth:!!i()[y+(4>>2)],stencil:!!i()[y+(8>>2)],antialias:!!i()[y+(12>>2)],premultipliedAlpha:!!i()[y+(16>>2)],preserveDrawingBuffer:!!i()[y+(20>>2)],powerPreference:Lg[m],failIfMajorPerformanceCaveat:!!i()[y+(28>>2)],majorVersion:i()[y+(32>>2)],minorVersion:i()[y+(36>>2)],enableExtensionsByDefault:i()[y+(40>>2)],explicitSwapControl:i()[y+(44>>2)],proxyContextToMainThread:i()[y+(48>>2)],renderViaOffscreenBackBuffer:i()[y+(52>>2)]},I=tu(c);if(!I||v.explicitSwapControl)return 0;var O=ve.createContext(I,v);return O}function Cg(c,d){return xg(c,d)}var ru={};function jg(){return ae||"./this.program"}function xi(){if(!xi.strings){var c=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",d={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:c,_:jg()};for(var y in ru)ru[y]===void 0?delete d[y]:d[y]=ru[y];var m=[];for(var y in d)m.push(y+"="+d[y]);xi.strings=m}return xi.strings}function Af(c,d){if(D)return me(16,1,c,d);var y=0;return xi().forEach(function(m,v){var I=d+y;i()[c+v*4>>2]=I,u_(m,I),y+=m.length+1}),0}function Df(c,d){if(D)return me(17,1,c,d);var y=xi();i()[c>>2]=y.length;var m=0;return y.forEach(function(v){m+=v.length+1}),i()[d>>2]=m,0}function Ff(c){return D?me(18,1,c):0}function Ef(c,d){if(D)return me(19,1,c,d);var y=c==1||c==2?2:Ht();return r()[d>>0]=y,0}function Rf(c,d,y,m,v,I){if(D)return me(20,1,c,d,y,m,v,I);var O=je.getStreamFromFD(c),k=je.doReadv(O,d,y,m);return i()[I>>2]=k,0}function Uf(c,d,y,m,v,I){if(D)return me(21,1,c,d,y,m,v,I);var O=je.getStreamFromFD(c),k=je.doWritev(O,d,y,m);return i()[I>>2]=k,0}function Mf(c,d,y,m){if(D)return me(22,1,c,d,y,m);var v=je.getStreamFromFD(c),I=je.doReadv(v,d,y);return i()[m>>2]=I,0}function Pf(c,d,y,m,v){if(D)return me(23,1,c,d,y,m,v)}function Vf(c){if(D)return me(24,1,c);var d=je.getStreamFromFD(c);return d.stream_ops&&d.stream_ops.fsync?-d.stream_ops.fsync(d):0}function kf(c,d,y,m){if(D)return me(25,1,c,d,y,m);for(var v=0,I=0;I<y;I++){for(var O=i()[d+I*8>>2],k=i()[d+(I*8+4)>>2],ue=0;ue<k;ue++)je.printChar(c,n()[O+ue]);v+=k}return i()[m>>2]=v,0}function qg(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var c=new Uint8Array(1);return function(){return crypto.getRandomValues(c),c[0]}}else if(Pt)try{var d=Xb();return function(){return d.randomBytes(1)[0]}}catch{}return function(){Ht("randomDevice")}}function xs(c,d){xs.randomDevice||(xs.randomDevice=qg());for(var y=0;y<d;y++)r()[c+y>>0]=xs.randomDevice();return 0}function Cs(c){return c%4==0&&(c%100!=0||c%400==0)}function nu(c,d){for(var y=0,m=0;m<=d;y+=c[m++]);return y}var js=[31,29,31,30,31,30,31,31,30,31,30,31],qs=[31,28,31,30,31,30,31,31,30,31,30,31];function Ws(c,d){for(var y=new Date(c.getTime());d>0;){var m=Cs(y.getFullYear()),v=y.getMonth(),I=(m?js:qs)[v];if(d>I-y.getDate())d-=I-y.getDate()+1,y.setDate(1),v<11?y.setMonth(v+1):(y.setMonth(0),y.setFullYear(y.getFullYear()+1));else return y.setDate(y.getDate()+d),y}return y}function Wg(c,d,y,m){var v=i()[m+40>>2],I={tm_sec:i()[m>>2],tm_min:i()[m+4>>2],tm_hour:i()[m+8>>2],tm_mday:i()[m+12>>2],tm_mon:i()[m+16>>2],tm_year:i()[m+20>>2],tm_wday:i()[m+24>>2],tm_yday:i()[m+28>>2],tm_isdst:i()[m+32>>2],tm_gmtoff:i()[m+36>>2],tm_zone:v?zt(v):""},O=zt(y),k={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ue in k)O=O.replace(new RegExp(ue,"g"),k[ue]);var Ge=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ze=["January","February","March","April","May","June","July","August","September","October","November","December"];function qi(F,x,Ne){for(var he=typeof F=="number"?F.toString():F||"";he.length<x;)he=Ne[0]+he;return he}function rt(F,x){return qi(F,x,"0")}function Yt(F,x){function Ne(Gt){return Gt<0?-1:Gt>0?1:0}var he;return(he=Ne(F.getFullYear()-x.getFullYear()))===0&&(he=Ne(F.getMonth()-x.getMonth()))===0&&(he=Ne(F.getDate()-x.getDate())),he}function ke(F){switch(F.getDay()){case 0:return new Date(F.getFullYear()-1,11,29);case 1:return F;case 2:return new Date(F.getFullYear(),0,3);case 3:return new Date(F.getFullYear(),0,2);case 4:return new Date(F.getFullYear(),0,1);case 5:return new Date(F.getFullYear()-1,11,31);case 6:return new Date(F.getFullYear()-1,11,30)}}function pr(F){var x=Ws(new Date(F.tm_year+1900,0,1),F.tm_yday),Ne=new Date(x.getFullYear(),0,4),he=new Date(x.getFullYear()+1,0,4),Gt=ke(Ne),Ar=ke(he);return Yt(Gt,x)<=0?Yt(Ar,x)<=0?x.getFullYear()+1:x.getFullYear():x.getFullYear()-1}var Wi={"%a":function(F){return Ge[F.tm_wday].substring(0,3)},"%A":function(F){return Ge[F.tm_wday]},"%b":function(F){return Ze[F.tm_mon].substring(0,3)},"%B":function(F){return Ze[F.tm_mon]},"%C":function(F){var x=F.tm_year+1900;return rt(x/100|0,2)},"%d":function(F){return rt(F.tm_mday,2)},"%e":function(F){return qi(F.tm_mday,2," ")},"%g":function(F){return pr(F).toString().substring(2)},"%G":function(F){return pr(F)},"%H":function(F){return rt(F.tm_hour,2)},"%I":function(F){var x=F.tm_hour;return x==0?x=12:x>12&&(x-=12),rt(x,2)},"%j":function(F){return rt(F.tm_mday+nu(Cs(F.tm_year+1900)?js:qs,F.tm_mon-1),3)},"%m":function(F){return rt(F.tm_mon+1,2)},"%M":function(F){return rt(F.tm_min,2)},"%n":function(){return`
`},"%p":function(F){return F.tm_hour>=0&&F.tm_hour<12?"AM":"PM"},"%S":function(F){return rt(F.tm_sec,2)},"%t":function(){return"	"},"%u":function(F){return F.tm_wday||7},"%U":function(F){var x=new Date(F.tm_year+1900,0,1),Ne=x.getDay()===0?x:Ws(x,7-x.getDay()),he=new Date(F.tm_year+1900,F.tm_mon,F.tm_mday);if(Yt(Ne,he)<0){var Gt=nu(Cs(he.getFullYear())?js:qs,he.getMonth()-1)-31,Ar=31-Ne.getDate(),cn=Ar+Gt+he.getDate();return rt(Math.ceil(cn/7),2)}return Yt(Ne,x)===0?"01":"00"},"%V":function(F){var x=new Date(F.tm_year+1900,0,4),Ne=new Date(F.tm_year+1901,0,4),he=ke(x),Gt=ke(Ne),Ar=Ws(new Date(F.tm_year+1900,0,1),F.tm_yday);if(Yt(Ar,he)<0)return"53";if(Yt(Gt,Ar)<=0)return"01";var cn;return he.getFullYear()<F.tm_year+1900?cn=F.tm_yday+32-he.getDate():cn=F.tm_yday+1-he.getDate(),rt(Math.ceil(cn/7),2)},"%w":function(F){return F.tm_wday},"%W":function(F){var x=new Date(F.tm_year,0,1),Ne=x.getDay()===1?x:Ws(x,x.getDay()===0?1:7-x.getDay()+1),he=new Date(F.tm_year+1900,F.tm_mon,F.tm_mday);if(Yt(Ne,he)<0){var Gt=nu(Cs(he.getFullYear())?js:qs,he.getMonth()-1)-31,Ar=31-Ne.getDate(),cn=Ar+Gt+he.getDate();return rt(Math.ceil(cn/7),2)}return Yt(Ne,x)===0?"01":"00"},"%y":function(F){return(F.tm_year+1900).toString().substring(2)},"%Y":function(F){return F.tm_year+1900},"%z":function(F){var x=F.tm_gmtoff,Ne=x>=0;return x=Math.abs(x)/60,x=x/60*100+x%60,(Ne?"+":"-")+String("0000"+x).slice(-4)},"%Z":function(F){return F.tm_zone},"%%":function(){return"%"}};for(var ue in Wi)O.includes(ue)&&(O=O.replace(new RegExp(ue,"g"),Wi[ue](I)));var au=Yg(O,!1);return au.length>d?0:(Hd(au,c),au.length-1)}function zg(c,d,y,m){return Wg(c,d,y,m)}D||N.initMainThreadBlock();var Nf,Hg=[null,uf,x_,hf,pf,yf,mf,bf,_f,gf,wf,vf,Tf,Bf,If,Of,Af,Df,Ff,Ef,Rf,Uf,Mf,Pf,Vf,kf];function Yg(c,d,y){var m=y>0?y:zd(c)+1,v=new Array(m),I=qd(c,v,0,v.length);return d&&(v.length=I),v}var Gg={b:V_,pa:L_,ea:C_,ja:j_,w:q_,ia:W_,S:z_,Z:Y_,P:hf,i:pf,R:yf,Q:mf,N:bf,o:G_,W:_f,K:$_,O:gf,v:wf,L:vf,q:Tf,s:Bf,r:If,V:J_,U:K_,oa:Q_,e:X_,t:cf,F:Z_,G:eg,D:tg,E:rg,n:ng,B:ig,I:sg,C:og,J:ag,h:ug,H:cg,m:lg,A:dg,l:fg,ba:ff,p:hg,d:df,c:sf,X:pg,g:Li,da:yg,Y:mg,la:bg,fa:gg,ma:Og,k:Ag,ka:Ug,ga:Mg,na:Cg,$:Af,aa:Df,ha:Ns,f:Ff,ca:Ef,y:Rf,x:Uf,u:Mf,z:Pf,M:Vf,j:kf,T:xs,a:Oe||a.wasmMemory,_:zg},qA=D_(),$g=a.___wasm_call_ctors=function(){return($g=a.___wasm_call_ctors=a.asm.qa).apply(null,arguments)},Jg=a._main=function(){return(Jg=a._main=a.asm.ra).apply(null,arguments)},Kg=a._duckdb_web_fs_glob_add_path=function(){return(Kg=a._duckdb_web_fs_glob_add_path=a.asm.ta).apply(null,arguments)},Qg=a._duckdb_web_clear_response=function(){return(Qg=a._duckdb_web_clear_response=a.asm.ua).apply(null,arguments)},Xg=a._duckdb_web_fail_with=function(){return(Xg=a._duckdb_web_fail_with=a.asm.va).apply(null,arguments)},Zg=a._duckdb_web_reset=function(){return(Zg=a._duckdb_web_reset=a.asm.wa).apply(null,arguments)},ew=a._duckdb_web_connect=function(){return(ew=a._duckdb_web_connect=a.asm.xa).apply(null,arguments)},tw=a._duckdb_web_disconnect=function(){return(tw=a._duckdb_web_disconnect=a.asm.ya).apply(null,arguments)},rw=a._duckdb_web_flush_files=function(){return(rw=a._duckdb_web_flush_files=a.asm.za).apply(null,arguments)},nw=a._duckdb_web_flush_file=function(){return(nw=a._duckdb_web_flush_file=a.asm.Aa).apply(null,arguments)},iw=a._duckdb_web_open=function(){return(iw=a._duckdb_web_open=a.asm.Ba).apply(null,arguments)},sw=a._duckdb_web_collect_file_stats=function(){return(sw=a._duckdb_web_collect_file_stats=a.asm.Ca).apply(null,arguments)},ow=a._duckdb_web_export_file_stats=function(){return(ow=a._duckdb_web_export_file_stats=a.asm.Da).apply(null,arguments)},aw=a._duckdb_web_fs_drop_file=function(){return(aw=a._duckdb_web_fs_drop_file=a.asm.Ea).apply(null,arguments)},uw=a._duckdb_web_fs_drop_files=function(){return(uw=a._duckdb_web_fs_drop_files=a.asm.Fa).apply(null,arguments)},cw=a._duckdb_web_fs_glob_file_infos=function(){return(cw=a._duckdb_web_fs_glob_file_infos=a.asm.Ga).apply(null,arguments)},lw=a._duckdb_web_fs_get_file_info_by_id=function(){return(lw=a._duckdb_web_fs_get_file_info_by_id=a.asm.Ha).apply(null,arguments)},dw=a._duckdb_web_fs_get_file_info_by_name=function(){return(dw=a._duckdb_web_fs_get_file_info_by_name=a.asm.Ia).apply(null,arguments)},fw=a._duckdb_web_fs_set_file_descriptor=function(){return(fw=a._duckdb_web_fs_set_file_descriptor=a.asm.Ja).apply(null,arguments)},hw=a._duckdb_web_fs_register_file_url=function(){return(hw=a._duckdb_web_fs_register_file_url=a.asm.Ka).apply(null,arguments)},pw=a._duckdb_web_fs_register_file_buffer=function(){return(pw=a._duckdb_web_fs_register_file_buffer=a.asm.La).apply(null,arguments)},yw=a._duckdb_web_copy_file_to_buffer=function(){return(yw=a._duckdb_web_copy_file_to_buffer=a.asm.Ma).apply(null,arguments)},mw=a._duckdb_web_copy_file_to_path=function(){return(mw=a._duckdb_web_copy_file_to_path=a.asm.Na).apply(null,arguments)},bw=a._duckdb_web_get_version=function(){return(bw=a._duckdb_web_get_version=a.asm.Oa).apply(null,arguments)},_w=a._duckdb_web_get_feature_flags=function(){return(_w=a._duckdb_web_get_feature_flags=a.asm.Pa).apply(null,arguments)},gw=a._duckdb_web_tokenize=function(){return(gw=a._duckdb_web_tokenize=a.asm.Qa).apply(null,arguments)},ww=a._duckdb_web_prepared_create=function(){return(ww=a._duckdb_web_prepared_create=a.asm.Ra).apply(null,arguments)},vw=a._duckdb_web_prepared_close=function(){return(vw=a._duckdb_web_prepared_close=a.asm.Sa).apply(null,arguments)},Tw=a._duckdb_web_prepared_run=function(){return(Tw=a._duckdb_web_prepared_run=a.asm.Ta).apply(null,arguments)},Bw=a._duckdb_web_prepared_send=function(){return(Bw=a._duckdb_web_prepared_send=a.asm.Ua).apply(null,arguments)},Iw=a._duckdb_web_query_run=function(){return(Iw=a._duckdb_web_query_run=a.asm.Va).apply(null,arguments)},Sw=a._duckdb_web_query_send=function(){return(Sw=a._duckdb_web_query_send=a.asm.Wa).apply(null,arguments)},Ow=a._duckdb_web_query_fetch_results=function(){return(Ow=a._duckdb_web_query_fetch_results=a.asm.Xa).apply(null,arguments)},Aw=a._duckdb_web_insert_arrow_from_ipc_stream=function(){return(Aw=a._duckdb_web_insert_arrow_from_ipc_stream=a.asm.Ya).apply(null,arguments)},Dw=a._duckdb_web_insert_csv_from_path=function(){return(Dw=a._duckdb_web_insert_csv_from_path=a.asm.Za).apply(null,arguments)},Fw=a._duckdb_web_insert_json_from_path=function(){return(Fw=a._duckdb_web_insert_json_from_path=a.asm._a).apply(null,arguments)},Ew=a._emscripten_tls_init=function(){return(Ew=a._emscripten_tls_init=a.asm.$a).apply(null,arguments)},Rw=a._emscripten_current_thread_process_queued_calls=function(){return(Rw=a._emscripten_current_thread_process_queued_calls=a.asm.ab).apply(null,arguments)},Lf=a._emscripten_main_browser_thread_id=function(){return(Lf=a._emscripten_main_browser_thread_id=a.asm.bb).apply(null,arguments)},xf=a._emscripten_sync_run_in_main_thread_4=function(){return(xf=a._emscripten_sync_run_in_main_thread_4=a.asm.cb).apply(null,arguments)},zs=a._emscripten_main_thread_process_queued_calls=function(){return(zs=a._emscripten_main_thread_process_queued_calls=a.asm.db).apply(null,arguments)},Cf=a._emscripten_run_in_main_runtime_thread_js=function(){return(Cf=a._emscripten_run_in_main_runtime_thread_js=a.asm.eb).apply(null,arguments)},iu=a.__emscripten_call_on_thread=function(){return(iu=a.__emscripten_call_on_thread=a.asm.fb).apply(null,arguments)},jf=a.__emscripten_thread_exit=function(){return(jf=a.__emscripten_thread_exit=a.asm.gb).apply(null,arguments)},qf=a._pthread_testcancel=function(){return(qf=a._pthread_testcancel=a.asm.hb).apply(null,arguments)},Wf=a.__emscripten_thread_init=function(){return(Wf=a.__emscripten_thread_init=a.asm.ib).apply(null,arguments)},zf=a.___errno_location=function(){return(zf=a.___errno_location=a.asm.jb).apply(null,arguments)},Hs=a._pthread_self=function(){return(Hs=a._pthread_self=a.asm.kb).apply(null,arguments)},Ci=a.stackSave=function(){return(Ci=a.stackSave=a.asm.lb).apply(null,arguments)},An=a.stackRestore=function(){return(An=a.stackRestore=a.asm.mb).apply(null,arguments)},Dn=a.stackAlloc=function(){return(Dn=a.stackAlloc=a.asm.nb).apply(null,arguments)},Hf=a._emscripten_stack_set_limits=function(){return(Hf=a._emscripten_stack_set_limits=a.asm.ob).apply(null,arguments)},su=a._malloc=function(){return(su=a._malloc=a.asm.pb).apply(null,arguments)},Ys=a._free=function(){return(Ys=a._free=a.asm.qb).apply(null,arguments)},Yf=a._memalign=function(){return(Yf=a._memalign=a.asm.rb).apply(null,arguments)},Gf=a.__emscripten_allow_main_runtime_queued_calls=939456,Fn=a.__emscripten_main_thread_futex=1038800;a.ccall=a_,a.keepRuntimeAlive=ki,a.PThread=N,a.PThread=N,a.wasmMemory=Oe,a.ExitStatus=ji;var Gs;function ji(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}var Uw=!1;Ni=function c(){Gs||ou(),Gs||(Ni=c)};function Mw(c){var d=a._main,y=0,m=0;try{var v=d(y,m);return $f(v,!0),v}catch(I){return Ls(I)}finally{Uw=!0}}function ou(c){if(c=c||L,un>0)return;if(D){p(a),tf(),postMessage({cmd:"loaded"});return}if(b_(),un>0)return;function d(){Gs||(Gs=!0,a.calledRun=!0,!Ps&&(tf(),__(),p(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Jf&&Mw(c),w_()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),d()},1)):d()}a.run=ou;function $f(c,d){if(on=c,!d&&D)throw uf(c),"unwind";ki()||g_(),Pw(c)}function Pw(c){on=c,ki()||(N.terminateAllThreads(),a.onExit&&a.onExit(c),Ps=!0),Ye(c,new ji(c))}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var Jf=!0;return a.noInitialRun&&(Jf=!1),D&&(Nd=!1,N.initWorker()),ou(),e.ready}}(),Zb=MA;var qt=Js(Us());var Dd=class{constructor(e,r){this._bindings=e,this._conn=r}close(){this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}query(e){let r=this._bindings.runQuery(this._conn,e),n=qt.RecordBatchReader.from(r);return console.assert(n.isSync()),console.assert(n.isFile()),qt.Table.from(n)}send(e){let r=this._bindings.sendQuery(this._conn,e),n=new Fd(this._bindings,this._conn,r),i=qt.RecordBatchReader.from(n);return console.assert(i.isSync()),console.assert(i.isStream()),i}prepare(e){let r=this._bindings.createPrepared(this._conn,e);return new e_(this._bindings,this._conn,r)}insertArrowVectors(e,r){this.insertArrowTable(qt.Table.new(e),r)}insertArrowTable(e,r){e.schema.fields.length==0&&console.warn("The schema is empty! If you used arrow.Table.from, consider constructing schema and batches manually"),this.insertArrowBatches(e.schema,e.chunks,r)}insertArrowBatches(e,r,n){e.fields.length==0&&console.warn("The schema is empty! If you used arrow.Table.from, consider constructing schema and batches manually");let i=new Ka,o=new qt.RecordBatchStreamWriter().reset(i,e),u=!0;for(let a of r)u||this._bindings.insertArrowFromIPCStream(this._conn,i.flush(),n),u=!1,o.write(a);o.finish(),this._bindings.insertArrowFromIPCStream(this._conn,i.flush(),n)}insertArrowFromIPCStream(e,r){this._bindings.insertArrowFromIPCStream(this._conn,e,r)}insertCSVFromPath(e,r){this._bindings.insertCSVFromPath(this._conn,e,r)}insertJSONFromPath(e,r){this._bindings.insertJSONFromPath(this._conn,e,r)}},Fd=class{constructor(e,r,n){this.bindings=e;this.conn=r;this.header=n;this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=this.bindings.fetchQueryResults(this.conn);return this._depleted=e.length==0,{done:this._depleted,value:e}}[Symbol.iterator](){return this}},e_=class{constructor(e,r,n){this.bindings=e,this.connectionId=r,this.statementId=n}close(){this.bindings.closePrepared(this.connectionId,this.statementId)}query(...e){let r=this.bindings.runPrepared(this.connectionId,this.statementId,e),n=qt.RecordBatchReader.from(r);return console.assert(n.isSync()),console.assert(n.isFile()),qt.Table.from(n)}send(...e){let r=this.bindings.sendPrepared(this.connectionId,this.statementId,e),n=new Fd(this.bindings,this.connectionId,r),i=qt.RecordBatchReader.from(n);return console.assert(i.isSync()),console.assert(i.isStream()),i}};var de;(function(e){e[e.SUCCESS=0]="SUCCESS"})(de||(de={}));function PA(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer!="undefined"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}var VA=PA();function Or(t,e){t.ccall("duckdb_web_fail_with",null,["string"],[e])}function Ri(t,e,r){let n=t.HEAPU8.subarray(e,e+r),i=new Uint8Array(new ArrayBuffer(n.byteLength));return i.set(n),i}function ie(t,e,r){return VA(t.HEAPU8.subarray(e,e+r))}var ot;(function(n){n[n.BUFFER=0]="BUFFER",n[n.NATIVE=1]="NATIVE",n[n.HTTP=3]="HTTP"})(ot||(ot={}));function ye(t,e,r,n){let i=t.stackSave(),o=t.stackAlloc(3*8);r.unshift("number"),n.unshift(o),t.ccall(e,null,r,n);let u=t.HEAPF64[(o>>3)+0],a=t.HEAPF64[(o>>3)+1],p=t.HEAPF64[(o>>3)+2];return t.stackRestore(i),[u,a,p]}function Ee(t){t.ccall("duckdb_web_clear_response",null,[],[])}var Ed=class{constructor(e){let r=new Float64Array(e.buffer,e.byteOffset,e.byteLength/8),n=new Uint8Array(new ArrayBuffer(e.byteLength));n.set(e.subarray(7*8)),this.totalFileReadsCold=r[0],this.totalFileReadsAhead=r[1],this.totalFileReadsCached=r[2],this.totalFileWrites=r[3],this.totalPageAccesses=r[4],this.totalPageLoads=r[5],this.blockSize=r[6],this.blockStats=n}getBlockStats(e,r){return r=r||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0},r.file_writes=this.blockStats[e*3+0]&15,r.file_reads_cold=this.blockStats[e*3+0]>>4,r.file_reads_ahead=this.blockStats[e*3+1]&15,r.file_reads_cached=this.blockStats[e*3+1]>>4,r.page_accesses=this.blockStats[e*3+1]&15,r.page_loads=this.blockStats[e*3+1]>>4,r}};var kA=new TextEncoder,t_;(function(o){o[o.WASM_EXCEPTIONS=1]="WASM_EXCEPTIONS",o[o.WASM_THREADS=2]="WASM_THREADS",o[o.WASM_SIMD=4]="WASM_SIMD",o[o.WASM_BULK_MEMORY=8]="WASM_BULK_MEMORY",o[o.EMIT_BIGINT=16]="EMIT_BIGINT"})(t_||(t_={}));var Rd=class{constructor(e,r){this._instance=null;this._initPromise=null;this._initPromiseResolver=()=>{};this._logger=e,this._runtime=r}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(){return this._instance!=null?this:(this._initPromise!=null&&await this._initPromise,this._initPromise=new Promise(e=>{this._initPromiseResolver=e}),this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null,this)}open(e){let[r,n,i]=ye(this.mod,"duckdb_web_open",["string"],[JSON.stringify(e)]);if(r!==de.SUCCESS)throw new Error(ie(this.mod,n,i));Ee(this.mod)}reset(){let[e,r,n]=ye(this.mod,"duckdb_web_reset",[],[]);if(e!==de.SUCCESS)throw new Error(ie(this.mod,r,n));Ee(this.mod)}getVersion(){let[e,r,n]=ye(this.mod,"duckdb_web_get_version",[],[]);if(e!==de.SUCCESS)throw new Error(ie(this.mod,r,n));let i=ie(this.mod,r,n);return Ee(this.mod),i}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(e){let[r,n,i]=ye(this.mod,"duckdb_web_tokenize",["string"],[e]);if(r!==de.SUCCESS)throw new Error(ie(this.mod,n,i));let o=ie(this.mod,n,i);return Ee(this.mod),JSON.parse(o)}connect(){let e=this.mod.ccall("duckdb_web_connect","number",[],[]);return new Dd(this,e)}disconnect(e){this.mod.ccall("duckdb_web_disconnect",null,["number"],[e])}runQuery(e,r){let[n,i,o]=ye(this.mod,"duckdb_web_query_run",["number","string"],[e,r]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o));let u=Ri(this.mod,i,o);return Ee(this.mod),u}sendQuery(e,r){let[n,i,o]=ye(this.mod,"duckdb_web_query_send",["number","string"],[e,r]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o));let u=Ri(this.mod,i,o);return Ee(this.mod),u}fetchQueryResults(e){let[r,n,i]=ye(this.mod,"duckdb_web_query_fetch_results",["number"],[e]);if(r!==de.SUCCESS)throw new Error(ie(this.mod,n,i));let o=Ri(this.mod,n,i);return Ee(this.mod),o}createPrepared(e,r){let[n,i,o]=ye(this.mod,"duckdb_web_prepared_create",["number","string"],[e,r]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o));return Ee(this.mod),i}closePrepared(e,r){let[n,i,o]=ye(this.mod,"duckdb_web_prepared_close",["number","number"],[e,r]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o));Ee(this.mod)}runPrepared(e,r,n){let[i,o,u]=ye(this.mod,"duckdb_web_prepared_run",["number","number","string"],[e,r,JSON.stringify(n)]);if(i!==de.SUCCESS)throw new Error(ie(this.mod,o,u));let a=Ri(this.mod,o,u);return Ee(this.mod),a}sendPrepared(e,r,n){let[i,o,u]=ye(this.mod,"duckdb_web_prepared_send",["number","number","string"],[e,r,JSON.stringify(n)]);if(i!==de.SUCCESS)throw new Error(ie(this.mod,o,u));let a=Ri(this.mod,o,u);return Ee(this.mod),a}insertArrowFromIPCStream(e,r,n){let i=this.mod._malloc(r.length);this.mod.HEAPU8.subarray(i,i+r.length).set(r);let u=n?JSON.stringify(n):"",[a,p,s]=ye(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[e,i,r.length,u]);if(a!==de.SUCCESS)throw new Error(ie(this.mod,p,s))}insertCSVFromPath(e,r,n){if(n.columns!==void 0){n.columnsFlat=[];for(let s in n.columns)n.columnsFlat.push(Fi(s,n.columns[s]))}let i={...n};i.columns=i.columnsFlat,delete i.columnsFlat;let o=JSON.stringify(i),[u,a,p]=ye(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[e,r,o]);if(u!==de.SUCCESS)throw new Error(ie(this.mod,a,p))}insertJSONFromPath(e,r,n){if(n.columns!==void 0){n.columnsFlat=[];for(let s in n.columns)n.columnsFlat.push(Fi(s,n.columns[s]))}let i={...n};i.columns=i.columnsFlat,delete i.columnsFlat;let o=JSON.stringify(i),[u,a,p]=ye(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[e,r,o]);if(u!==de.SUCCESS)throw new Error(ie(this.mod,a,p))}globFiles(e){let[r,n,i]=ye(this.mod,"duckdb_web_fs_glob_file_infos",["string"],[e]);if(r!==de.SUCCESS)throw new Error(ie(this.mod,n,i));let o=ie(this.mod,n,i);Ee(this.mod);let u=JSON.parse(o);return u??[]}registerFileURL(e,r){r===void 0&&(r=e);let[n,i,o]=ye(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[e,r]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o));Ee(this.mod)}registerFileText(e,r){let n=kA.encode(r);this.registerFileBuffer(e,n)}registerFileBuffer(e,r){let n=this.mod._malloc(r.length);this.mod.HEAPU8.subarray(n,n+r.length).set(r);let[o,u,a]=ye(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[e,n,r.length]);if(o!==de.SUCCESS)throw new Error(ie(this.mod,u,a));Ee(this.mod)}registerFileHandle(e,r){let[n,i,o]=ye(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[e,e]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o));if(Ee(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(e,r),this.pthread){for(let u of this.pthread.runningWorkers)u.postMessage({cmd:"registerFileHandle",fileName:e,fileHandle:r});for(let u of this.pthread.unusedWorkers)u.postMessage({cmd:"dropFileHandle",fileName:e})}}dropFile(e){return this.mod.ccall("duckdb_web_fs_drop_file","boolean",["string"],[e])}dropFiles(){let[e,r,n]=ye(this.mod,"duckdb_web_fs_drop_files",[],[]);if(e!==de.SUCCESS)throw new Error(ie(this.mod,r,n));Ee(this.mod)}flushFiles(){this.mod.ccall("duckdb_web_flush_files",null,[],[])}copyFileToPath(e,r){let[n,i,o]=ye(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[e,r]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o));Ee(this.mod)}copyFileToBuffer(e){let[r,n,i]=ye(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[e]);if(r!==de.SUCCESS)throw new Error(ie(this.mod,n,i));let o=this.mod.HEAPU8.subarray(n,n+i),u=new Uint8Array(o.length);return u.set(o),Ee(this.mod),u}collectFileStatistics(e,r){let[n,i,o]=ye(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[e,r]);if(n!==de.SUCCESS)throw new Error(ie(this.mod,i,o))}exportFileStatistics(e){let[r,n,i]=ye(this.mod,"duckdb_web_export_file_stats",["string"],[e]);if(r!==de.SUCCESS)throw new Error(ie(this.mod,n,i));return new Ed(this.mod.HEAPU8.subarray(n,n+i))}};var Ud=class extends Rd{constructor(e,r,n,i){super(e,r);this.mainModuleURL=n,this.pthreadWorkerURL=i}locateFile(e,r){if(e.endsWith(".wasm"))return this.mainModuleURL;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerURL)throw new Error("Missing DuckDB worker URL!");return this.pthreadWorkerURL}throw new Error(`WASM instantiation requested unexpected file: prefix=${r} path=${e}`)}instantiateWasm(e,r){return globalThis.DUCKDB_RUNTIME=this._runtime,WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fetch(this.mainModuleURL),e).then(n=>{r(n.instance,n.module)}):fetch(this.mainModuleURL).then(n=>n.arrayBuffer()).then(n=>WebAssembly.instantiate(n,e).then(i=>{r(i.instance,i.module)})).catch(n=>{console.error("Failed to instantiate WASM:",n)}),[]}};var Md=class extends Ud{constructor(e,r,n,i=null){super(e,r,n,i)}instantiateImpl(e){return Zb({...e,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}};var at={fileInfoCache:new Map,getFileInfo(t,e){try{let r=at.fileInfoCache.get(e);if(r)return r;let[n,i,o]=ye(t,"duckdb_web_fs_get_file_info_by_id",["number"],[e]);if(n!==de.SUCCESS)return null;let u=ie(t,i,o);Ee(t);let a=JSON.parse(u);if(a==null)return null;let p={...a,blob:null};return at.fileInfoCache.set(e,p),p}catch{return null}},testPlatformFeature:(t,e)=>{switch(e){case 1:return typeof BigInt64Array!="undefined";default:return console.warn(`test for unknown feature: ${e}`),!1}},openFile:(t,e)=>{try{at.fileInfoCache.delete(e);let r=at.getFileInfo(t,e);switch(r?.dataProtocol){case ot.HTTP:{let n=null;try{let i=new XMLHttpRequest;i.open("HEAD",r.dataUrl,!1),i.setRequestHeader("Range","bytes=0-"),i.send(null);let o=i.getResponseHeader("Content-Length");if(i.status==206&&o!==null){let u=t._malloc(2*8);return t.HEAPF64[(u>>3)+0]=+o,t.HEAPF64[(u>>3)+1]=0,u}}catch(i){n=i,console.warn(`HEAD request with range header failed: ${i}`)}if(r.allowFullHttpReads){console.warn(`falling back to full HTTP read for: ${r.dataUrl}`);let i=new XMLHttpRequest;if(i.open("GET",r.dataUrl,!1),i.responseType="arraybuffer",i.send(null),i.status==200){let o=t._malloc(i.response.byteLength),u=new Uint8Array(i.response,0,i.response.byteLength);t.HEAPU8.set(u,o);let a=t._malloc(2*8);return t.HEAPF64[(a>>3)+0]=i.response.byteLength,t.HEAPF64[(a>>3)+1]=o,a}}if(n!=null)throw new Error(`Reading file ${r.fileName} failed with error: ${n}`);return 0}case ot.NATIVE:{let n=at._files?.get(r.fileName);if(n){let u=t._malloc(2*8);return t.HEAPF64[(u>>3)+0]=n.size,t.HEAPF64[(u>>3)+1]=0,u}console.warn(`Buffering missing file: ${r.fileName}`);let i=t._malloc(2*8),o=t._malloc(1);return t.HEAPF64[(i>>3)+0]=1,t.HEAPF64[(i>>3)+1]=o,i}}}catch(r){console.error(r.toString()),Or(t,r.toString())}return 0},glob:(t,e,r)=>{try{let n=ie(t,e,r);if(n.startsWith("http")){let i=new XMLHttpRequest;if(i.open("HEAD",n,!1),i.send(null),i.status!=200&&i.status!==206){Or(t,`HEAD request failed: ${n}`);return}t.ccall("duckdb_web_fs_glob_add_path",null,["string"],[n])}}catch(n){return Or(t,n.toString()),0}},checkFile:(t,e,r)=>{try{let n=ie(t,e,r);if(n.startsWith("http")){let i=new XMLHttpRequest;i.open("HEAD",n,!1),i.setRequestHeader("Range","bytes=0-"),i.send(null);let o=!1;if(i.status==206)o=!0;else if(i.status==200)o=i.getResponseHeader("Accept-Ranges")==="bytes";else return!1;return!!o}}catch{return!1}return!1},syncFile:(t,e)=>{},closeFile:(t,e)=>{let r=at.getFileInfo(t,e);switch(at.fileInfoCache.delete(e),r?.dataProtocol){case ot.HTTP:break;case ot.NATIVE:return}},truncateFile:(t,e,r)=>{switch(at.getFileInfo(t,e)?.dataProtocol){case ot.HTTP:Or(t,"Cannot truncate a http file");return;case ot.NATIVE:Or(t,"truncateFile not implemented");return}return 0},readFile(t,e,r,n,i){try{let o=at.getFileInfo(t,e);switch(o?.dataProtocol){case ot.HTTP:{if(!o.dataUrl)throw new Error(`Missing data URL for file ${e}`);try{let u=new XMLHttpRequest;if(u.open("GET",o.dataUrl,!1),u.responseType="arraybuffer",u.setRequestHeader("Range",`bytes=${i}-${i+n-1}`),u.send(null),u.status==206||u.status==200&&n==u.response.byteLength&&i==0){let a=new Uint8Array(u.response,0,Math.min(u.response.byteLength,n));return t.HEAPU8.set(a,r),a.byteLength}else throw u.status==200?new Error(`Range request for ${o.dataUrl} did not return a partial response: ${u.status} "${u.statusText}"`):new Error(`Range request for ${o.dataUrl} did returned non-success status: ${u.status} "${u.statusText}"`)}catch(u){throw new Error(`Range request for ${o.dataUrl} failed with error: ${u}"`)}}case ot.NATIVE:{let u=at._files?.get(o.fileName);if(!u)throw new Error(`No handle available for file: ${o.fileName}`);let a=u.slice(i,i+n),p=new Uint8Array(new FileReaderSync().readAsArrayBuffer(a));return t.HEAPU8.set(p,r),p.byteLength}}return 0}catch(o){return Or(t,o.toString()),0}},writeFile:(t,e,r,n,i)=>{switch(at.getFileInfo(t,e)?.dataProtocol){case ot.HTTP:return Or(t,"Cannot write to HTTP file"),0;case ot.NATIVE:return Or(t,"writefile not implemented"),0}return 0},getLastFileModificationTime:(t,e)=>{let r=at.getFileInfo(t,e);switch(r?.dataProtocol){case ot.NATIVE:{if(!at._files?.get(r.fileName))throw Error(`No handle available for file: ${r.fileName}`);return 0}case ot.HTTP:return new Date().getTime()}return 0},checkDirectory:(t,e,r)=>{let n=ie(t,e,r);return console.log(`checkDirectory: ${n}`),!1},createDirectory:(t,e,r)=>{let n=ie(t,e,r);console.log(`createDirectory: ${n}`)},removeDirectory:(t,e,r)=>{let n=ie(t,e,r);console.log(`removeDirectory: ${n}`)},listDirectoryEntries:(t,e,r)=>{let n=ie(t,e,r);return console.log(`listDirectoryEntries: ${n}`),!1},moveFile:(t,e,r,n,i)=>{},removeFile:(t,e,r)=>{}};var r_=class extends Od{postMessage(e,r){globalThis.postMessage(e,r)}async instantiate(e,r){return await new Md(this,at,e,r).instantiate()}};function n_(){let t=new r_;globalThis.onmessage=async e=>{await t.onMessage(e.data)}}n_();return NA;})();
//# sourceMappingURL=duckdb-browser-async-next-coi.worker.js.map
